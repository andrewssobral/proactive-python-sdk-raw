<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="description" content="ProActive Parallel Suite is an innovative Open Source solution (OW2) for acceleration and orchestration of applications, seamlessly integrated with the management of high-performance Clouds (Private and Public with bursting capabilities). ProActive platform features High-Performance Workflows and Application Parallelization, together with enterprise Scheduling and Orchestration coupled with the dynamic management of private Heterogeneous Grids and Clouds. With a ProActive platform, our users tackle at once the acceleration and orchestration of all demanding enterprise applications, and the management of their own Enterprise Cloud.">
<meta name="keywords" content="proactive, activeeon, documentation, manual, help, doc">
<meta name="author" content="The Activeeon team">
<title>ProActive Workflows &amp; Scheduling&#8201;&#8212;&#8201;User Guide</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #4d70cf; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #e87224; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #db6517; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #1c3067; text-rendering: optimizeLegibility; margin-top: 0.2em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d70cf; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; color: #4d70cf; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #4d70cf; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #4d70cf; }

blockquote, blockquote p { line-height: 1.6; color: #4d70cf; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: 0.875em; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: 0.875em; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.125em; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; line-height: inherit; }

pre, pre > code { line-height: 1.6; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

.keyseq { color: #555555; }

kbd { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #090909; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: #1c3067; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #4d70cf; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #4d70cf; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #4d70cf; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: #1c3067; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
/* we hide the toc content as it will be overwritten by tocbot javascript library */
#toc > ul { margin-left: 0.125em; visibility: hidden; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #4d70cf; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f2; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 3px; border-radius: 3px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #1c3067; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #172753; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

.imageblock > .title { text-align: inherit; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: #1c3067; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #4d70cf; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 3px; border-radius: 3px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 3px; border-radius: 3px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #4d70cf; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: none; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid #dddddd; -webkit-border-radius: 3px; border-radius: 3px; word-wrap: break-word; padding: 0.75em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: none; background-color: inherit; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.75em; -webkit-border-radius: 3px; border-radius: 3px; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #4d70cf; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #4d70cf; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #4d70cf; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #4d70cf; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: #4d70cf; }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.125em; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1em; font-size: 0.85em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { width: 1em; position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #b65413; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://trydev2.activeeon.com/doc/highlight/styles/idea.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>ProActive Workflows &amp; Scheduling&#8201;&#8212;&#8201;User Guide</h1>
<div class="details">
<span id="author" class="author">The Activeeon team</span><br>
<span id="email" class="email"><a href="mailto:contact@activeeon.com">contact@activeeon.com</a></span><br>
<span id="revnumber">version unspecified</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">PWS User Guide</div>
<ul class="sectlevel1">
<li><a href="ProActiveUserGuide.html#_all_documentation_links">All documentation links</a></li>
<li><a href="ProActiveUserGuide.html#_overview">1. Overview</a></li>
<li><a href="ProActiveUserGuide.html#_get_started">2. Get started</a></li>
<li><a href="ProActiveUserGuide.html#_create_and_run_your_computation">3. Create and run your computation</a></li>
<li><a href="ProActiveUserGuide.html#_proactive_studio">4. ProActive Studio</a></li>
<li><a href="ProActiveUserGuide.html#_workflow_concepts">5. Workflow concepts</a></li>
<li><a href="ProActiveUserGuide.html#_workflow_execution_control">6. Workflow Execution Control</a></li>
<li><a href="ProActiveUserGuide.html#_data_spaces">7. Data Spaces</a></li>
<li><a href="ProActiveUserGuide.html#_script_languages">8. Script Languages</a></li>
<li><a href="ProActiveUserGuide.html#_proactive_catalog_object_storage_and_versioning">9. Proactive Catalog: Object Storage and Versioning</a></li>
<li><a href="ProActiveUserGuide.html#_notification_service">10. Notification-service</a></li>
<li><a href="ProActiveUserGuide.html#_third_party_credentials">11. Third-party credentials</a></li>
<li><a href="ProActiveUserGuide.html#_task_apis">12. Scheduler, Resource Manager, DataSpace, Synchronization, and Signal APIs</a></li>
<li><a href="ProActiveUserGuide.html#_proactive_modules_apis">13. ProActive Modules APIs</a></li>
<li><a href="ProActiveUserGuide.html#_scheduling_policies">14. Scheduling policies</a></li>
<li><a href="ProActiveUserGuide.html#_data_connectors">15. Data Connectors</a></li>
<li><a href="ProActiveUserGuide.html#_application_connectors">16. Application Connectors</a></li>
<li><a href="ProActiveUserGuide.html#_addons">17. Addons</a></li>
<li><a href="ProActiveUserGuide.html#_reference">18. Reference</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<script>
var header = document.getElementById('header').innerHTML
var newHeader = header.replace("</h1>", "</h1><h4>Version " + localStorage.getItem('conf_version') + ' - ' + localStorage.getItem('conf_date') + "</h4>");
document.getElementById('header').innerHTML = newHeader
</script>
</div>
</div>
<div class="sect1">
<h2 id="_all_documentation_links"><a class="anchor" href="ProActiveUserGuide.html#_all_documentation_links"></a><a class="link" href="ProActiveUserGuide.html#_all_documentation_links">All documentation links</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="all_doc_pws"><a class="anchor" href="ProActiveUserGuide.html#all_doc_pws"></a><a class="link" href="ProActiveUserGuide.html#all_doc_pws">ProActive Workflows &amp; Scheduling (PWS)</a></h3>
<div class="ulist">
<ul>
<li>
<p><h4 id="_all_doc_pws_user_guide" style="display:inline;font-size:1em""><a href="ProActiveUserGuide.html#_all_doc_pws_user_guide">PWS User Guide</a></h4>
&nbsp;(Workflows, Workload automation, Jobs, Tasks, Catalog, Resource Management, Big Data/ETL, …​)</p>
</li>
<li><p><h4 id="all_doc_pws_modules" style="display:inline;font-size:1em"">PWS Modules</h4></p>

<ul>
<li><p><h5 id="_all_doc_jp_user_guide" style="display:inline;font-size:1em""><a href="../JobPlanner/JobPlannerUserGuide.html#_all_doc_jp_user_guide">Job Planner</a></h5>
&nbsp;(Time-based Scheduling)</p>
</li>
<li><p><h5 id="_all_doc_peo_user_guide" style="display:inline;font-size:1em""><a href="../PEO/PEOUserGuide.html#_all_doc_peo_user_guide">Event Orchestration</a></h5>
&nbsp;(Event-based Scheduling)</p>
</li>
<li><p><h5 id="_all_doc_pca_user_guide" style="display:inline;font-size:1em""><a href="../PSA/PSAUserGuide.html#_all_doc_pca_user_guide">Service Automation</a></h5>
&nbsp;(PaaS On-Demand, Service deployment and management)</p>
</li>
</ul>
</li>
<li><p><h4 id="_all_doc_pws_admin_guide" style="display:inline;font-size:1em""><a href="../admin/ProActiveAdminGuide.html#_all_doc_pws_admin_guide">PWS Admin Guide</a></h4>
&nbsp;(Installation, Infrastructure &amp; Nodes setup, Agents,…​)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_proactive_machine_learning_paio"><a class="anchor" href="ProActiveUserGuide.html#_proactive_machine_learning_paio"></a><a class="link" href="ProActiveUserGuide.html#_proactive_machine_learning_paio">ProActive AI Orchestration (PAIO)</a></h3>
<div class="ulist">
<ul>
<li><p><h4 id="_all_doc_paio_user_guide" style="display:inline;font-size:1em"><a href="../PAIO/PAIOUserGuide.html#_all_doc_paio_user_guide">PAIO User Guide</a></h4>
&nbsp;(a complete Data Science and Machine Learning platform, with Studio & MLOps)</p>
</li>
</ul>
</div>
<div class="paragraph">
<h3 id="_all_doc_api_doc"><a class="anchor" href="ProActiveUserGuide.html#_all_doc_api_doc"></a><a class="link" href="ProActiveUserGuide.html#_all_doc_api_doc">API documentation</a></h3>
<p><strong>
<a class="restUrl" href="https://trydev2.activeeon.com/rest" target="_blank">Scheduler REST</a>&nbsp;&nbsp;&nbsp;
<a href="ProActiveUserGuide.html#_scheduler_graphql_api">Scheduler GraphQL</a>  
<a href="ProActiveUserGuide.html#_scheduler_command_line">Scheduler CLI</a>  
<a href="../javadoc/index.html%3Forg%252Fow2%252Fproactive%252Fscheduler%252Frest%252FSchedulerClient.html">Scheduler Java</a>  
<a href="../javadoc/index.html%3Forg%252Fow2%252Fproactive%252Fscheduler%252Fcommon%252Fjob%252FTaskFlowJob.html">Workflow Creation Java</a>  
<a href="https://github.com/ow2-proactive/proactive-python-client#proactive-scheduler-client">Python Client</a>  
<a href="../PAIO/PAIOUserGuide.html#_proactive_jupyter_kernel">Jupyter Kernel</a>
<a href="https://www.activeeon.com/public_content/documentation/csharp-client/">.NET Client</a>
</strong></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="ProActiveUserGuide.html#_overview"></a><a class="link" href="ProActiveUserGuide.html#_overview">1. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>ProActive Scheduler</strong> is a comprehensive Open Source <strong>job scheduler and Orchestrator</strong>, also featuring <strong>Workflows</strong> and <strong>Resource Management</strong>. The user specifies the computation in terms of a series of computation
 steps along with their execution and data dependencies. The Scheduler executes this computation on a cluster
 of computation resources, each step on the best-fit resource and in parallel wherever its possible.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/architecture.png" alt="architecture">
</div>
</div>
<div class="paragraph">
<p>On the top left there is the <strong>Studio</strong> interface which allows you to build Workflows.
It can be interactively configured to address specific domains, for instance Finance, Big Data, IoT, Artificial Intelligence (AI). See for instance the Documentation of <strong>ProActive AI Orchestration</strong> <a href="../PAIO/PAIOUserGuide.html" target="_blank" rel="noopener">here</a>, and try it online <a href="https://try.activeeon.com/studio#presets/1" target="_blank" rel="noopener">here</a>. In the middle there is the <strong>Scheduler</strong> which enables an enterprise to orchestrate and automate Multi-users, Multi-application Jobs.
Finally, at the bottom right is the <strong>Resource manager</strong> interface which manages and automates resource provisioning
on any Public Cloud, on any virtualization software, on any container system, and on any Physical Machine of any OS.
All the components you see come with fully Open and modern REST APIs.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/workflow-execution.png" alt="workflow execution">
</div>
</div>
<div class="paragraph">
<p>The screenshot above shows the <strong>Workflow Execution Portal</strong>, which is the main portal of ProActive Workflows &amp; Scheduling and the entry point for end-users to submit workflows manually, monitor their executions and access job outputs, results, services endpoints, etc.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/automation-dashboard-catalog.png" alt="automation dashboard catalog">
</div>
</div>
<div class="paragraph">
<p>The screenshot above shows the <strong>Catalog Portal</strong>, where one can store Workflows, Calendars, Scripts, etc.
Powerful versioning together with full access control (RBAC) is supported, and users can share easily Workflows and templates between teams, and various environments (Dev, Test, Staging and Prod).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/job-planner.png" alt="job planner">
</div>
</div>
<div class="paragraph">
<p>The screenshot above shows the <strong>Job Planner Portal</strong>, allowing to automate and schedule recurring Jobs.
From left to right, you can define and use <strong>Calendar Definitions</strong> , associate <strong>Workflows</strong> to calendars, visualize the <strong>execution planning</strong> for the future, as well as actual executions of the past.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/calendar_planning_gantt.png" alt="calendar planning gantt">
</div>
</div>
<div class="paragraph">
<p>The Gantt screenshot above shows the <strong>Gantt View</strong> of Job Planner, featuring past job history, current Job being executed, and future Jobs that will be submitted, all in a comprehensive interactive view.
You easily see the potential differences between Planned Submission Time and Actual Start Time of the Jobs, get estimations of the Finished Time, visualize the Job that stayed PENDING for some time (in Yellow) and the Jobs that had issues and got KILLED, CANCELLED, or FAILED (in red).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/health-dashboard1.png" alt="health dashboard1">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/health-dashboard2.png" alt="health dashboard2">
</div>
</div>
<div class="paragraph">
<p>The screenshots above show the <strong>Health Dashboard Portal</strong>, which is a part of the Analytics service, that displays global statistics and current state of the ProActive server. Using this portal, users can monitor the status of critical resources, detect issues, and take proactive measures to ensure the efficient operation of workflows and services.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/job-analytics.png" alt="job analytics">
</div>
</div>
<div class="paragraph">
<p>The screenshot above shows the <strong>Job Analytics Portal</strong>, which is a ProActive component, part of the Analytics service, that provides an overview of executed workflows along with their input variables and results.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/automation-dashboard-cloud-watch.PNG" alt="automation dashboard cloud watch">
</div>
</div>
<div class="paragraph">
<p>The screenshot above shows the <strong>Event Orchestration Portal</strong>, where a user can manage and benefit from <strong>Event Orchestration</strong> - smart monitoring system. This ProActive component detects complex events and then triggers user-specified actions according to predefined set of rules.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/cloud-automation-on-demand-paas.png" alt="cloud automation on demand paas">
</div>
</div>
<div class="paragraph">
<p>The screenshot above shows the <strong>Service Automation Portal</strong> which is actually a PaaS automation tool. It allows you to easily manage any On-Demand Services with full Life-Cycle Management (create, deploy, suspend, resume and terminate).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/scalable-elastic-resources.png" alt="scalable elastic resources">
</div>
</div>
<div class="paragraph">
<p>The screenshots above taken from the <strong>Resource Manager Portal</strong> shows that you can configure ProActive Scheduler to <strong>dynamically scale up and down</strong> the infrastructure being used (e.g. the number of VMs you buy on Clouds) according to the actual workload to execute.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/notifications.png" alt="notifications">
</div>
</div>
<div class="paragraph">
<p>The screenshot above shows the <strong>Notifications Portal</strong>, which is a ProActive component that allows a user or a group of users to subscribe to different types of notifications (web, email, sms or a third-party notification) when certain event(s) occur (e.g., job In-Error state, job in Finished state, scheduler in Paused state, etc.).</p>
</div>
<div class="sect2">
<h3 id="_glossary"><a class="anchor" href="ProActiveUserGuide.html#_glossary"></a><a class="link" href="ProActiveUserGuide.html#_glossary">1.1. Glossary</a></h3>
<div class="paragraph">
<p>The following terms are used throughout the documentation:</p>
</div>
<div id="_glossary_proactive_workflows_scheduling" class="dlist">
<dl>
<dt class="hdlist1">ProActive Workflows &amp; Scheduling</dt>
<dd>
<p>The full distribution of ProActive for Workflows &amp; Scheduling, it contains the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>
 server, the
REST &amp; Web interfaces, the command line tools. It is the commercial product name.</p>
</dd>
</dl>
</div>
<div id="_glossary_proactive_scheduler" class="dlist">
<dl>
<dt class="hdlist1">ProActive Scheduler</dt>
<dd>
<p>Can refer to any of the following:</p>
<div class="ulist">
<ul>
<li>
<p>A complete set of ProActive components.</p>
</li>
<li>
<p>An archive that contains a released version of ProActive components, for example <code>activeeon_enterprise-pca_server-OS-ARCH-VERSION.zip</code>.</p>
</li>
<li>
<p>A set of server-side ProActive components installed and running on a <a href="ProActiveUserGuide.html#_glossary_server_host"><strong>Server Host</strong></a>.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div id="_glossary_resource_manager" class="dlist">
<dl>
<dt class="hdlist1">Resource Manager</dt>
<dd>
<p>ProActive component that manages <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a> running on <a href="ProActiveUserGuide.html#_glossary_compute_host"><strong>Compute Hosts</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_scheduler" class="dlist">
<dl>
<dt class="hdlist1">Scheduler</dt>
<dd>
<p>ProActive component that accepts <a href="ProActiveUserGuide.html#_glossary_job"><strong>Jobs</strong></a> from users, orders the constituent <a href="ProActiveUserGuide.html#_glossary_task"><strong>Tasks</strong></a> according to priority and resource availability, and eventually executes them on the resources (<a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a>) provided by the <a href="ProActiveUserGuide.html#_glossary_resource_manager"><strong>Resource Manager</strong></a>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please note the difference between <strong>Scheduler</strong> and <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>.
</td>
</tr>
</table>
</div>
<div id="_glossary_rest_api" class="dlist">
<dl>
<dt class="hdlist1">REST API</dt>
<dd>
<p>ProActive component that provides RESTful API for the <a href="ProActiveUserGuide.html#_glossary_resource_manager"><strong>Resource Manager</strong></a>, the <a href="ProActiveUserGuide.html#_glossary_scheduler"><strong>Scheduler</strong></a> and the <a href="ProActiveUserGuide.html#_glossary_catalog"><strong>Catalog</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_rm_web_interface" class="dlist">
<dl>
<dt class="hdlist1">Resource Manager Portal</dt>
<dd>
<p>ProActive component that provides a web interface to the <a href="ProActiveUserGuide.html#_glossary_resource_manager"><strong>Resource Manager</strong></a>. Also called Resource Manager portal.</p>
</dd>
</dl>
</div>
<div id="_glossary_scheduler_web_interface" class="dlist">
<dl>
<dt class="hdlist1">Scheduler Portal</dt>
<dd>
<p>ProActive component that provides a web interface to the <a href="ProActiveUserGuide.html#_glossary_scheduler"><strong>Scheduler</strong></a>. Also called Scheduler portal.</p>
</dd>
</dl>
</div>
<div id="_glossary_workflow_studio" class="dlist">
<dl>
<dt class="hdlist1">Workflow Studio</dt>
<dd>
<p>ProActive component that provides a web interface for designing <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_automation_dashboard" class="dlist">
<dl>
<dt class="hdlist1">Automation Dashboard</dt>
<dd>
<p>Centralized interface for the following web portals: <a href="ProActiveUserGuide.html#_glossary_workflow_automation_portal"><strong>Workflow Execution</strong></a>, <a href="ProActiveUserGuide.html#_glossary_catalog_portal"><strong>Catalog</strong></a>, <a href="ProActiveUserGuide.html#_glossary_analytics_portal"><strong>Analytics</strong></a>, <a href="ProActiveUserGuide.html#_glossary_job_planner_portal"><strong>Job Planner</strong></a>, <a href="ProActiveUserGuide.html#_glossary_service_automation_portal"><strong>Service Automation</strong></a>, <a href="ProActiveUserGuide.html#_glossary_event_orchestration_portal"><strong>Event Orchestration</strong></a> and <a href="ProActiveUserGuide.html#_glossary_notification_portal"><strong>Notifications</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_analytics" class="dlist">
<dl>
<dt class="hdlist1">Analytics</dt>
<dd>
<p>Web interface and ProActive component, responsible to gather monitoring information for <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>, <a href="ProActiveUserGuide.html#_glossary_job"><strong>Jobs</strong></a> and <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a></p>
</dd>
</dl>
</div>
<div id="_glossary_job_analytics" class="dlist">
<dl>
<dt class="hdlist1">Job Analytics</dt>
<dd>
<p>ProActive component, part of the <a href="ProActiveUserGuide.html#_glossary_analytics"><strong>Analytics</strong></a> service, that provides an overview of executed workflows along with their input variables and results.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_gantt" class="dlist">
<dl>
<dt class="hdlist1">Job Gantt</dt>
<dd>
<p>ProActive component, part of the <a href="ProActiveUserGuide.html#_glossary_analytics"><strong>Analytics</strong></a> service, that builds a <em>Gantt diagram</em> of past <a href="ProActiveUserGuide.html#_glossary_job"><strong>Jobs</strong></a> executions.</p>
</dd>
</dl>
</div>
<div id="_glossary_node_gantt" class="dlist">
<dl>
<dt class="hdlist1">Node Gantt</dt>
<dd>
<p>ProActive component, part of the <a href="ProActiveUserGuide.html#_glossary_analytics"><strong>Analytics</strong></a> service, that provides an overview of <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a> usage over time.</p>
</dd>
</dl>
</div>
<div id="_glossary_health_dashboard" class="dlist">
<dl>
<dt class="hdlist1">Health Dashboard</dt>
<dd>
<p>Web interface, part of the <a href="ProActiveUserGuide.html#_glossary_analytics"><strong>Analytics</strong></a> service, that displays global statistics and current state of the ProActive server.</p>
</dd>
</dl>
</div>
<div id="_glossary_analytics_portal" class="dlist">
<dl>
<dt class="hdlist1">Job Analytics portal</dt>
<dd>
<p>Web interface of the <a href="ProActiveUserGuide.html#_glossary_job_analytics"><strong>Analytics</strong></a> component.</p>
</dd>
</dl>
</div>
<div id="_glossary_notification_service" class="dlist">
<dl>
<dt class="hdlist1">Notification Service</dt>
<dd>
<p>ProActive component that allows a user or a group of users to subscribe to different types of notifications (web, email, sms or a third-party notification) when certain event(s) occur (e.g., job In-Error state, job in Finished state, scheduler in Paused state, etc.).</p>
</dd>
</dl>
</div>
<div id="_glossary_notification_portal" class="dlist">
<dl>
<dt class="hdlist1">Notification portal</dt>
<dd>
<p>Web interface to visualize notifications generated by the <a href="ProActiveUserGuide.html#_glossary_notification_service"><strong>Notification Service</strong></a> and manage subscriptions.</p>
</dd>
</dl>
</div>
<div id="_glossary_notification_subscription" class="dlist">
<dl>
<dt class="hdlist1">Notification Subscription</dt>
<dd>
<p>In <a href="ProActiveUserGuide.html#_glossary_notification_service"><strong>Notification Service</strong></a>, a subscription is a <em>per-user</em> configuration to receive notifications for a particular type of events.</p>
</dd>
</dl>
</div>
<div id="_glossary_notification_third_party" class="dlist">
<dl>
<dt class="hdlist1">Third Party Notification</dt>
<dd>
<p>A <a href="ProActiveUserGuide.html#_glossary_notification_methods"><strong>Notification Method</strong></a> which executes a script when the notification is triggered.</p>
</dd>
</dl>
</div>
<div id="_glossary_notification_methods" class="dlist">
<dl>
<dt class="hdlist1">Notification Method</dt>
<dd>
<p>Element of a <a href="ProActiveUserGuide.html#_glossary_notification_subscription"><strong>Notification Subscription</strong></a> which defines how a user is notified (portal, email, third-party, etc.).</p>
</dd>
</dl>
</div>
<div id="_glossary_notification_channel" class="dlist">
<dl>
<dt class="hdlist1">Notification Channel</dt>
<dd>
<p>In the <a href="ProActiveUserGuide.html#_glossary_notification_service"><strong>Notification Service</strong></a>, a channel is a notification container that can be notified and displays notifications to groups of users</p>
</dd>
</dl>
</div>
<div id="_glossary_cloud_automation_service" class="dlist">
<dl>
<dt class="hdlist1">Service Automation</dt>
<dd>
<p>ProActive component that allows a user to easily manage any On-Demand Services (PaaS, IaaS and MaaS) with full Life-Cycle Management (create, deploy, pause, resume and terminate).</p>
</dd>
</dl>
</div>
<div id="_glossary_service_automation_portal" class="dlist">
<dl>
<dt class="hdlist1">Service Automation portal</dt>
<dd>
<p>Web interface of the <a href="ProActiveUserGuide.html#_glossary_cloud_automation_service"><strong>Service Automation</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_workflow_automation_portal" class="dlist">
<dl>
<dt class="hdlist1">Workflow Execution portal</dt>
<dd>
<p>Web interface, is the main portal of ProActive Workflows &amp; Scheduling and the entry point for end-users to submit workflows manually, monitor their executions and access job outputs, results, services endpoints, etc.</p>
</dd>
</dl>
</div>
<div id="_glossary_catalog" class="dlist">
<dl>
<dt class="hdlist1">Catalog</dt>
<dd>
<p>ProActive component that provides storage and versioning of <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a> and other ProActive Objects. It is also possible to query the Catalog for specific <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a> through a REST API and also with Graphql API.</p>
</dd>
</dl>
</div>
<div id="_glossary_catalog_portal" class="dlist">
<dl>
<dt class="hdlist1">Catalog portal</dt>
<dd>
<p>Web interface of the <a href="ProActiveUserGuide.html#_glossary_catalog"><strong>Catalog</strong></a> component.</p>
</dd>
</dl>
</div>
<div id="_glossary_cloud_watch" class="dlist">
<dl>
<dt class="hdlist1">Event Orchestration</dt>
<dd>
<p>ProActive component that monitors a system, according to predefined set of rules, detects complex events and then triggers user-specified actions.</p>
</dd>
</dl>
</div>
<div id="_glossary_event_orchestration_portal" class="dlist">
<dl>
<dt class="hdlist1">Event Orchestration portal</dt>
<dd>
<p>Web interface of the <a href="ProActiveUserGuide.html#_glossary_cloud_watch"><strong>Event Orchestration</strong></a> component.</p>
</dd>
</dl>
</div>
<div id="_glossary_scheduling_api" class="dlist">
<dl>
<dt class="hdlist1">Scheduling API</dt>
<dd>
<p>ProActive component that offers a GraphQL endpoint for getting information about a ProActive Scheduler instance.</p>
</dd>
</dl>
</div>
<div id="_glossary_connector_iaas" class="dlist">
<dl>
<dt class="hdlist1">Connector IaaS</dt>
<dd>
<p>ProActive component that enables to do CRUD operations on different infrastructures on public or private Cloud (AWS EC2, Openstack, VMWare, Kubernetes, etc).</p>
</dd>
</dl>
</div>
<div id="_glossary_job_planner" class="dlist">
<dl>
<dt class="hdlist1">Job Planner</dt>
<dd>
<p>ProActive component providing advanced scheduling options for <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_planner_portal" class="dlist">
<dl>
<dt class="hdlist1">Job Planner portal</dt>
<dd>
<p>Web interface to manage the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> service.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_planner_calendar_definition_portal" class="dlist">
<dl>
<dt class="hdlist1">Calendar Definition portal</dt>
<dd>
<p>Web interface, component of the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> that allows to create <a href="ProActiveUserGuide.html#_glossary_calendars_definition"><strong>Calendar Definitions</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_planner_calendar_asssociation" class="dlist">
<dl>
<dt class="hdlist1">Calendar Association portal</dt>
<dd>
<p>Web interface, component of the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> that defines <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a> associated to <a href="ProActiveUserGuide.html#_glossary_calendars_definition"><strong>Calendar Definitions</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_planner_execution_planning" class="dlist">
<dl>
<dt class="hdlist1">Execution Planning portal</dt>
<dd>
<p>Web interface, component of the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> that allows to see future executions per calendar.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_planner_gantt_chart" class="dlist">
<dl>
<dt class="hdlist1">Job Planner Gantt portal</dt>
<dd>
<p>Web interface, component of the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> that allows to see past and future executions on a Gantt diagram.</p>
</dd>
</dl>
</div>
<div id="_glossary_workflow_bucket" class="dlist">
<dl>
<dt class="hdlist1">Bucket</dt>
<dd>
<p>ProActive notion used with the <a href="ProActiveUserGuide.html#_glossary_catalog"><strong>Catalog</strong></a> to refer to a specific collection of ProActive Objects and in particular ProActive Workflows.</p>
</dd>
</dl>
</div>
<div id="_glossary_server_host" class="dlist">
<dl>
<dt class="hdlist1">Server Host</dt>
<dd>
<p>The machine on which <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a> is installed.</p>
</dd>
<dt class="hdlist1"><code>SCHEDULER_ADDRESS</code></dt>
<dd>
<p>The IP address of the <a href="ProActiveUserGuide.html#_glossary_server_host"><strong>Server Host</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_proactive_node" class="dlist">
<dl>
<dt class="hdlist1">ProActive Node</dt>
<dd>
<p>One <strong>ProActive Node</strong> can execute one <a href="ProActiveUserGuide.html#_glossary_task"><strong>Task</strong></a> at a time. This concept is often tied to the number of cores
available on a <a href="ProActiveUserGuide.html#_glossary_compute_host"><strong>Compute Host</strong></a>. We assume a task consumes one core (more is possible, see
<a href="ProActiveUserGuide.html#_multi_node_task">multi-nodes tasks</a>), so on a 4 cores machines you might want to run 4 ProActive Nodes.
One (by default) or more ProActive Nodes can be executed in a Java process on the <a href="ProActiveUserGuide.html#_glossary_compute_host"><strong>Compute Hosts</strong></a> and
will communicate with the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a> to execute tasks. We distinguish two types of <strong>ProActive Nodes</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Server</strong> ProActive Nodes: Nodes that are running in the same host as ProActive server;</p>
</li>
<li>
<p><strong>Remote</strong> ProActive Nodes: Nodes that are running on machines other than ProActive Server.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div id="_glossary_compute_host" class="dlist">
<dl>
<dt class="hdlist1">Compute Host</dt>
<dd>
<p>Any machine which is meant to provide computational resources to be managed by the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>. One or more <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a> need to be running on the machine for it to be managed by the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Examples of <strong>Compute Hosts</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All machines of a cluster managed by <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>, except <a href="ProActiveUserGuide.html#_glossary_server_host"><strong>Server Host</strong></a>.</p>
</li>
<li>
<p>All desktop machines in an organisation that have <a href="ProActiveUserGuide.html#_glossary_proactive_agent"><strong>ProActive Agents</strong></a> installed.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="_glossary_node_source" class="dlist">
<dl>
<dt class="hdlist1">Node Source</dt>
<dd>
<p>A set of <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a> deployed using the same deployment mechanism and sharing the same access policy.</p>
</dd>
</dl>
</div>
<div id="_glossary_node_source_infrastructure" class="dlist">
<dl>
<dt class="hdlist1">Node Source Infrastructure</dt>
<dd>
<p>The configuration attached to a <a href="ProActiveUserGuide.html#_glossary_node_source"><strong>Node Source</strong></a> which defines the deployment mechanism used to deploy <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_node_source_policy" class="dlist">
<dl>
<dt class="hdlist1">Node Source Policy</dt>
<dd>
<p>The configuration attached to a <a href="ProActiveUserGuide.html#_glossary_node_source"><strong>Node Source</strong></a> which defines the <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a> acquisition and access policies.</p>
</dd>
</dl>
</div>
<div id="_glossary_scheduling_policy" class="dlist">
<dl>
<dt class="hdlist1">Scheduling Policy</dt>
<dd>
<p>The policy used by the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a> to determine how <a href="ProActiveUserGuide.html#_glossary_job"><strong>Jobs</strong></a> and <a href="ProActiveUserGuide.html#_glossary_job"><strong>Tasks</strong></a> are scheduled.</p>
</dd>
<dt class="hdlist1"><code>PROACTIVE_HOME</code></dt>
<dd>
<p>The path to the extracted archive of <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a> release, either on the <a href="ProActiveUserGuide.html#_glossary_server_host"><strong>Server Host</strong></a> or on a <a href="ProActiveUserGuide.html#_glossary_compute_host"><strong>Compute Host</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_workflow" class="dlist">
<dl>
<dt class="hdlist1">Workflow</dt>
<dd>
<p>User-defined representation of a distributed computation. Consists of the definitions of one or more <a href="ProActiveUserGuide.html#_glossary_task"><strong>Tasks</strong></a> and their dependencies.</p>
</dd>
</dl>
</div>
<div id="_glossary_workflow_revision" class="dlist">
<dl>
<dt class="hdlist1">Workflow Revision</dt>
<dd>
<p>ProActive concept that reflects the changes made on a <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflow</strong></a> during it development. Generally speaking, the term <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflow</strong></a> is used to refer to the latest version of a <a href="ProActiveUserGuide.html#_glossary_workflow_revision"><strong>Workflow Revision</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_generic_information" class="dlist">
<dl>
<dt class="hdlist1">Generic Information</dt>
<dd>
<p>Are additional information which are attached to <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a> or <a href="ProActiveUserGuide.html#_glossary_task"><strong>Tasks</strong></a>. See <a href="ProActiveUserGuide.html#_generic_information"><strong>generic information</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_calendars_definition" class="dlist">
<dl>
<dt class="hdlist1">Calendar Definition</dt>
<dd>
<p>Is a json object attached by adding it to the <a href="ProActiveUserGuide.html#_glossary_generic_information"><strong>Generic Information</strong></a>
of a <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflow</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_job" class="dlist">
<dl>
<dt class="hdlist1">Job</dt>
<dd>
<p>An instance of a <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflow</strong></a> submitted to the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>. Sometimes also used as a synonym for <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflow</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_id" class="dlist">
<dl>
<dt class="hdlist1">Job Id</dt>
<dd>
<p>An integer identifier which uniquely represents a Job inside the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_job_icon" class="dlist">
<dl>
<dt class="hdlist1">Job Icon</dt>
<dd>
<p>An icon representing the Job and displayed in portals. The Job Icon is defined by the Generic Information <strong>workflow.icon</strong>.</p>
</dd>
</dl>
</div>
<div id="_glossary_task" class="dlist">
<dl>
<dt class="hdlist1">Task</dt>
<dd>
<p>A unit of computation handled by <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>. Both <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a> and <a href="ProActiveUserGuide.html#_glossary_job"><strong>Jobs</strong></a> are made of <strong>Tasks</strong>. A Task must define a <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>ProActive Task Executable</strong></a> and can also define <a href="ProActiveUserGuide.html#_glossary_additional_task_scripts">additional task scripts</a></p>
</dd>
</dl>
</div>
<div id="_glossary_task_id" class="dlist">
<dl>
<dt class="hdlist1">Task Id</dt>
<dd>
<p>An integer identifier which uniquely represents a Task inside a Job <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>. Task ids are only unique inside a given Job.</p>
</dd>
</dl>
</div>
<div id="_glossary_task_executable" class="dlist">
<dl>
<dt class="hdlist1">Task Executable</dt>
<dd>
<p>The main executable definition of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a>. A Task Executable can either be a <a href="ProActiveUserGuide.html#_glossary_task_executable_script"><strong>Script Task</strong></a>, a <a href="ProActiveUserGuide.html#_glossary_task_executable_java"><strong>Java Task</strong></a> or a <a href="ProActiveUserGuide.html#_glossary_task_executable_native"><strong>Native Task</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_task_executable_script" class="dlist">
<dl>
<dt class="hdlist1">Script Task</dt>
<dd>
<p>A <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a> defined as a script execution.</p>
</dd>
</dl>
</div>
<div id="_glossary_task_executable_java" class="dlist">
<dl>
<dt class="hdlist1">Java Task</dt>
<dd>
<p>A <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a> defined as a Java class execution.</p>
</dd>
</dl>
</div>
<div id="_glossary_task_executable_native" class="dlist">
<dl>
<dt class="hdlist1">Native Task</dt>
<dd>
<p>A <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a> defined as a native command execution.</p>
</dd>
</dl>
</div>
<div id="_glossary_additional_task_scripts" class="dlist">
<dl>
<dt class="hdlist1">Additional Task Scripts</dt>
<dd>
<p>A collection of scripts part of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> definition which can be used in complement to the main <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a>. Additional Task scripts can either be <a href="ProActiveUserGuide.html#_glossary_selection_script"><strong>Selection Script</strong></a>, <a href="ProActiveUserGuide.html#_glossary_fork_environment_script"><strong>Fork Environment Script</strong></a>, <a href="ProActiveUserGuide.html#_glossary_pre_script"><strong>Pre Script</strong></a>, <a href="ProActiveUserGuide.html#_glossary_post_script"><strong>Post Script</strong></a>, <a href="ProActiveUserGuide.html#_glossary_control_flow_script"><strong>Control Flow Script</strong></a> or <a href="ProActiveUserGuide.html#_glossary_clean_script"><strong>Cleaning Script</strong></a></p>
</dd>
</dl>
</div>
<div id="_glossary_selection_script" class="dlist">
<dl>
<dt class="hdlist1">Selection Script</dt>
<dd>
<p>A script part of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> definition and used to select a specific <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Node</strong></a> to execute a ProActive Task.</p>
</dd>
</dl>
</div>
<div id="_glossary_fork_environment_script" class="dlist">
<dl>
<dt class="hdlist1">Fork Environment Script</dt>
<dd>
<p>A script part of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> definition and run on the <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Node</strong></a> selected to execute the Task. Fork Environment script is used to configure the forked Java Virtual Machine process which executes the task.</p>
</dd>
</dl>
</div>
<div id="_glossary_pre_script" class="dlist">
<dl>
<dt class="hdlist1">Pre Script</dt>
<dd>
<p>A script part of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> definition and run inside the forked Java Virtual Machine, before the <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_post_script" class="dlist">
<dl>
<dt class="hdlist1">Post Script</dt>
<dd>
<p>A script part of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> definition and run inside the forked Java Virtual Machine, after the <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_control_flow_script" class="dlist">
<dl>
<dt class="hdlist1">Control Flow Script</dt>
<dd>
<p>A script part of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> definition and run inside the forked Java Virtual Machine, after the <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a>, to determine control flow actions.</p>
</dd>
</dl>
</div>
<div id="_glossary_control_flow_action" class="dlist">
<dl>
<dt class="hdlist1">Control Flow Action</dt>
<dd>
<p>A dynamic workflow action performed after the execution of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a>. Possible control flow actions are <a href="ProActiveUserGuide.html#_glossary_control_flow_action_branch"><strong>Branch</strong></a>, <a href="ProActiveUserGuide.html#_glossary_control_flow_action_loop"><strong>Loop</strong></a> or <a href="ProActiveUserGuide.html#_glossary_control_flow_action_replicate"><strong>Replicate</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_control_flow_action_branch" class="dlist">
<dl>
<dt class="hdlist1">Branch</dt>
<dd>
<p>A dynamic workflow action performed after the execution of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> similar to an IF/THEN/ELSE structure.</p>
</dd>
</dl>
</div>
<div id="_glossary_control_flow_action_loop" class="dlist">
<dl>
<dt class="hdlist1">Loop</dt>
<dd>
<p>A dynamic workflow action performed after the execution of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> similar to a FOR structure.</p>
</dd>
</dl>
</div>
<div id="_glossary_control_flow_action_replicate" class="dlist">
<dl>
<dt class="hdlist1">Replicate</dt>
<dd>
<p>A dynamic workflow action performed after the execution of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> similar to a PARALLEL FOR structure.</p>
</dd>
</dl>
</div>
<div id="_glossary_clean_script" class="dlist">
<dl>
<dt class="hdlist1">Cleaning Script</dt>
<dd>
<p>A script part of a <a href="ProActiveUserGuide.html#_glossary_task"><strong>ProActive Task</strong></a> definition and run after the <a href="ProActiveUserGuide.html#_glossary_task_executable"><strong>Task Executable</strong></a> and before releasing the <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Node</strong></a> to the <a href="ProActiveUserGuide.html#_glossary_resource_manager"><strong>Resource Manager</strong></a>.</p>
</dd>
</dl>
</div>
<div id="_glossary_script_bindings" class="dlist">
<dl>
<dt class="hdlist1">Script Bindings</dt>
<dd>
<p>Named objects which can be used inside a <a href="ProActiveUserGuide.html#_glossary_task_executable_script"><strong>Script Task</strong></a> or inside <a href="ProActiveUserGuide.html#_glossary_additional_task_scripts"><strong>Additional Task Scripts</strong></a> and which are automatically defined by the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>. The type of each script binding depends on the script language used.</p>
</dd>
</dl>
</div>
<div id="_glossary_task_icon" class="dlist">
<dl>
<dt class="hdlist1">Task Icon</dt>
<dd>
<p>An icon representing the Task and displayed in the Studio portal. The Task Icon is defined by the Task Generic Information <strong>task.icon</strong>.</p>
</dd>
</dl>
</div>
<div id="_glossary_proactive_agent" class="dlist">
<dl>
<dt class="hdlist1">ProActive Agent</dt>
<dd>
<p>A daemon installed on a <a href="ProActiveUserGuide.html#_glossary_compute_host"><strong>Compute Host</strong></a> that starts and stops <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a> according to a schedule, restarts <a href="ProActiveUserGuide.html#_glossary_proactive_node"><strong>ProActive Nodes</strong></a> in case of failure and enforces resource limits for the <a href="ProActiveUserGuide.html#_glossary_task"><strong>Tasks</strong></a>.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_started"><a class="anchor" href="ProActiveUserGuide.html#_get_started"></a><a class="link" href="ProActiveUserGuide.html#_get_started">2. Get started</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To submit your first computation to <strong>ProActive Scheduler</strong>, <a href="../admin/ProActiveAdminGuide.html#_getting_started">install</a> it in
your environment (default credentials: admin/admin) or just use our demo platform <a href="https://try.activeeon.com" target="_blank" rel="noopener">try.activeeon.com</a>.</p>
</div>
<div class="paragraph">
<p><strong>ProActive Scheduler</strong> provides comprehensive interfaces that allow to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create workflows using <a class="studioUrl" href="https://trydev2.activeeon.com/studio" target="_blank">ProActive Workflow Studio</a></p>
</li>
<li>
<p>Submit workflows, monitor their execution and retrieve the tasks results using <a class="schedulerUrl" href="https://trydev2.activeeon.com/scheduler" target="_blank">ProActive Scheduler Portal</a></p>
</li>
<li>
<p>Add resources and monitor them using <a class="rmUrl" href="https://trydev2.activeeon.com/rm" target="_blank">ProActive Resource Manager Portal</a></p>
</li>
<li>
<p>Version and share various objects using <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/catalog-portal" target="_blank">ProActive Catalog Portal</a></p>
</li>
<li>
<p>Provide an end-user workflow submission interface using <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/workflow-automation" target="_blank">Workflow Execution Portal</a></p>
</li>
<li>
<p>Generate metrics of multiple job executions using <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/job-analytics" target="_blank">Job Analytics Portal</a></p>
</li>
<li>
<p>Plan workflow executions over time using <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/job-planner-execution-planning" target="_blank">Job Planner Portal</a></p>
</li>
<li>
<p>Add services using <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/service-automation" target="_blank">Service Automation Portal</a></p>
</li>
<li>
<p>Perform event based scheduling using <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/event-orchestration" target="_blank">Event Orchestration Portal</a></p>
</li>
<li>
<p>Control manual workflows validation steps using <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/notification-portal" target="_blank">Notification Portal</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We also provide a <a class="restUrl" href="https://trydev2.activeeon.com/rest" target="_blank">REST API</a>. and <a href="ProActiveUserGuide.html#_scheduler_command_line">command line interfaces</a> for advanced users.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_and_run_your_computation"><a class="anchor" href="ProActiveUserGuide.html#_create_and_run_your_computation"></a><a class="link" href="ProActiveUserGuide.html#_create_and_run_your_computation">3. Create and run your computation</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_jobs_workflows_and_tasks"><a class="anchor" href="ProActiveUserGuide.html#_jobs_workflows_and_tasks"></a><a class="link" href="ProActiveUserGuide.html#_jobs_workflows_and_tasks">3.1. Jobs, workflows and tasks</a></h3>
<div class="paragraph">
<p>In order to use Scheduler for executing various computations, one needs to write the execution definition
also known as the Workflow definition. A workflow definition is an XML file that adheres to
<a href="ProActiveUserGuide.html#_job_and_task_specification">XML schema for ProActive Workflows</a>.</p>
</div>
<div class="paragraph">
<p>It specifies a number of XML tags for specifying execution steps, their sequence and dependencies.
Each execution step corresponds to a task which is the smallest unit of execution that can be performed on a
 computation resources (ProActive Node). There are several types of tasks which caters different use cases.</p>
</div>
<div class="sect3">
<h4 id="_task_types"><a class="anchor" href="ProActiveUserGuide.html#_task_types"></a><a class="link" href="ProActiveUserGuide.html#_task_types">3.1.1. Task Types</a></h4>
<div class="paragraph">
<p><strong>ProActive Scheduler</strong> currently supports three main types of tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="ProActiveUserGuide.html#_native_tasks"><strong>Native Task</strong></a>, a command with eventual parameters to be executed</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_script_tasks"><strong>Script Task</strong></a>, a script written in Groovy, Ruby, Python and other languages supported by the JSR-223</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_java_tasks"><strong>Java Task</strong></a>, a task written in Java extending the Scheduler API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For instance, a <strong>Script
Task</strong> can be used to execute an inline script definition or a script file as an execution step whereas a
<strong>Native Task</strong> can be used to execute a native executable file.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We recommend to use script tasks that are more flexible rather than Java tasks.
You can easily integrate with any Java code from a Groovy script task.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_additional_scripts"><a class="anchor" href="ProActiveUserGuide.html#_additional_scripts"></a><a class="link" href="ProActiveUserGuide.html#_additional_scripts">3.1.2. Additional Scripts</a></h4>
<div class="paragraph">
<p>In addition to the <strong>main definition</strong> of a Task, scripts can also be used to provide additional <strong>actions</strong>.
The following actions are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one or more <a href="ProActiveUserGuide.html#_selection">selection scripts</a> to control the Task resource (ProActive Node) selection.</p>
</li>
<li>
<p>a <a href="ProActiveUserGuide.html#_fork_environment">fork environment script</a> script to control the Task execution environment (a separate Java Virtual Machine or Docker container).</p>
</li>
<li>
<p>a <a href="ProActiveUserGuide.html#_pre_post_clean">pre script</a> executed immediately before the main task definition (and inside the forked environment).</p>
</li>
<li>
<p>a <a href="ProActiveUserGuide.html#_pre_post_clean">post script</a> executed immediately after the main task definition if and only if the task did not trigger any error (also run inside the forked environment).</p>
</li>
<li>
<p>a <a href="ProActiveUserGuide.html#_control_flow_scripts">control flow script</a> executed immediately after the post script (if present) or main task definition to control flow behavior such as <a href="ProActiveUserGuide.html#_branch">branch</a>, <a href="ProActiveUserGuide.html#_loop">loop</a> or <a href="ProActiveUserGuide.html#_replicate">replicate</a> (also run inside the forked environment).</p>
</li>
<li>
<p>finally, a <a href="ProActiveUserGuide.html#_pre_post_clean">clean script</a> executed after the task is finished, whether the task succeeded or not, and directly on the ProActive Node which hosted the task.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_task_dependencies"><a class="anchor" href="ProActiveUserGuide.html#_task_dependencies"></a><a class="link" href="ProActiveUserGuide.html#_task_dependencies">3.1.3. Task Dependencies</a></h4>
<div class="paragraph">
<p>A workflow in ProActive Workflows &amp; Scheduling can be seen as an <strong>oriented graph of Tasks</strong>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/flow_spec_dependency.png" alt="flow spec dependency">
</div>
</div>
<div class="paragraph">
<p>In this tasks graph, we see that task 4 is preceded by task 1, this
means that the ProActive Scheduler will wait for the end of task 1 execution before launching task
4. In a more concrete way, task 1 could be the calculation of a part of
the problem to solve, and task 4 takes the result provided by task 1 and
compute another step of the calculation. We introduce here the concept
of passing data between tasks. This relation is
called a <a href="ProActiveUserGuide.html#_dependency">Dependency</a>, and we say that task 4 <strong>depends</strong> on task 1.</p>
</div>
<div class="paragraph">
<p>We see that task 1, 2 and 3 are not linked, so these three tasks can be
executed in <strong>parallel</strong>, because they are independent from each other.</p>
</div>
<div class="paragraph">
<p>The task graph is defined by the user at the time of workflow creation, but can also be modified dynamically during
 the job execution by control flow actions such as <a href="ProActiveUserGuide.html#_replicate">Replicate</a>.</p>
</div>
<div class="paragraph">
<p>A <strong>finished job</strong> contains the results and logs of each task. Upon failure,
a task can be restarted automatically or cancelled.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_native_tasks"><a class="anchor" href="ProActiveUserGuide.html#_native_tasks"></a><a class="link" href="ProActiveUserGuide.html#_native_tasks">3.2. Native Tasks</a></h3>
<div class="paragraph">
<p>A <strong>Native Task</strong> is a ProActive Workflow task which main execution is defined as a <strong>command to run</strong>.</p>
</div>
<div class="paragraph">
<p>Native tasks are the simplest type of Task, where a user provides a <strong>command</strong> with a list of <strong>parameters</strong>.</p>
</div>
<div class="paragraph">
<p>Using native tasks, one can easily reuse existing applications and embed them in a workflow.</p>
</div>
<div class="paragraph">
<p>Once the executable is wrapped as a task you can easily leverage some of the workflow constructs to run your
executable commands in parallel.</p>
</div>
<div class="paragraph">
<p>You can find an example of such integration in this
<a href="https://trydev2.activeeon.com/doc/user/examples/native_task.xml" target="_blank" rel="noopener">XML workflow</a> or you can also build one yourself using the
<strong>Workflow Studio</strong>.</p>
</div>
<div class="paragraph">
<p>Native application by nature can be tied to a given operating system so
if you have heterogeneous nodes at your disposal, you might need to select a suitable node to run your native task.
This can be achieved using <a href="ProActiveUserGuide.html#_selection">selection script</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Native Tasks are not the only possibility available to run executables or commands, this can also be achieved using shell language <a href="ProActiveUserGuide.html#_script_tasks">script tasks</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_script_tasks"><a class="anchor" href="ProActiveUserGuide.html#_script_tasks"></a><a class="link" href="ProActiveUserGuide.html#_script_tasks">3.3. Script Tasks</a></h3>
<div class="paragraph">
<p>A <strong>Script Task</strong> is a ProActive Workflow task which main execution is defined as a <strong>script</strong>.</p>
</div>
<div class="paragraph">
<p>ProActive Workflows supports tasks in many scripting languages. The currently supported dynamic languages or backends are
<a href="http://groovy-lang.org/" target="_blank" rel="noopener">Groovy</a>,
<a href="https://www.jython.org" target="_blank" rel="noopener">Jython</a>,
<a href="https://www.python.org/" target="_blank" rel="noopener">Python</a>,
<a href="https://www.jruby.org" target="_blank" rel="noopener">JRuby</a>,
<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/index.html#jsengine" target="_blank" rel="noopener">Javascript</a>,
<a href="https://www.scala-lang.org/" target="_blank" rel="noopener">Scala</a>,
<a href="https://docs.microsoft.com/fr-fr/powershell/scripting/overview?view=powershell-5.0" target="_blank" rel="noopener">Powershell</a>,
<a href="https://en.wikipedia.org/wiki/VBScript" target="_blank" rel="noopener">VBScript</a>,
<a href="https://www.r-project.org/" target="_blank" rel="noopener">R</a>,
<a href="https://www.perl.org/" target="_blank" rel="noopener">Perl</a>,
<a href="https://www.php.net/" target="_blank" rel="noopener">PHP</a>,
<a href="https://www.gnu.org/software/bash/" target="_blank" rel="noopener">Bash</a>,
<a href="https://en.wikipedia.org/wiki/Unix_shell" target="_blank" rel="noopener">Any Unix Shell</a>,
<a href="https://en.wikipedia.org/wiki/Cmd.exe" target="_blank" rel="noopener">Windows CMD</a>,
<a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener">Dockerfile</a>,
<a href="https://docs.docker.com/compose/compose-file/" target="_blank" rel="noopener">Docker Compose</a> and
<a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/" target="_blank" rel="noopener">Kubernetes</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>Dockerfile</code>, <code>Docker Compose</code> and <code>Kubernetes</code> are not really scripting languages but rather description languages, ProActive tasks can interpret Dockerfiles, Docker Compose or Kubernetes yaml files to start containers or pods.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As seen in the list above, <strong>Script Tasks</strong> can be used to run native operating system commands by providing a script written in <code>bash</code>, <code>ksh</code>, <code>windows cmd</code>, <code>Powershell</code>, etc&#8230;&#8203;
Simply set the language attribute to <code>bash</code>, <code>shell</code>, or <code>cmd</code>  and type your command(s) in the workflow.
In this sense, it can replace in most cases a <strong>Native Task</strong>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can easily embed small scripts in your workflow.
The nice thing is that the workflow will be self-contained and will not require to compile your code before executing. However, we
recommend that you keep these scripts small to keep the workflow easy to understand.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can find an example of a script task in this
<a href="https://trydev2.activeeon.com/doc/user/examples/script_task.xml" target="_blank" rel="noopener">XML workflow</a> or you can also build one yourself using the
<strong>Workflow Studio</strong>. The <a href="https://try.activeeon.com/tutorials/quickstart/quickstart.html" target="_blank" rel="noopener">quickstart tutorial</a>
relies on script tasks and is a nice introduction to writing workflows.</p>
</div>
<div class="paragraph">
<p>Scripts can also be used to decorate any kind of task (<strong>Script</strong>, <strong>Java</strong> or <strong>Native</strong>) with specific actions, as described in the <a href="ProActiveUserGuide.html#_additional_scripts">additional scripts section</a>.</p>
</div>
<div class="paragraph">
<p>It is thus possible to combine various scripting languages in a single Task. For example a <strong>pre</strong> script could be written in <code>bash</code> to transfer some files from a remote file system, while the main script will be written in <code>python</code> to process those files.</p>
</div>
<div class="paragraph">
<p>Finally, a <strong>Script Task</strong> may or may not return a result materialized by the <a href="ProActiveUserGuide.html#_task_result"><code>result</code></a> <a href="ProActiveUserGuide.html#_script_bindings">script binding</a>.</p>
</div>
<div class="sect3">
<h4 id="_script_bindings"><a class="anchor" href="ProActiveUserGuide.html#_script_bindings"></a><a class="link" href="ProActiveUserGuide.html#_script_bindings">3.3.1. Script Bindings</a></h4>
<div class="paragraph">
<p>A <strong>Script Task</strong> or <a href="ProActiveUserGuide.html#_additional_scripts">additional scripts</a> can use automatically-defined <a href="ProActiveUserGuide.html#_glossary_script_bindings">script bindings</a>.
These bindings allow to associate the script inside its <strong>workflow context</strong>, for example, the ability to know the current <strong>workflow variables</strong> as submitted by a user, the workflow <strong>job id</strong> as run inside the ProActive Scheduler, etc.</p>
</div>
<div class="paragraph">
<p>Bindings allow as well to pass information between various scripts <strong>inside the same task</strong> or <strong>across different tasks</strong>.</p>
</div>
<div class="paragraph">
<p>A <strong>script binding</strong> can be either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defined automatically by the ProActive Scheduler before the script starts its execution. In this case, we call it also a <em>provided</em> or <em>input script binding</em>.</p>
</li>
<li>
<p>Needed to be defined by the script during its execution to provide meaningful results. In this case, we call it also a <em>result</em> or <em>output script binding</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is an example of Script Task definition which uses both types of bindings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">jobId = variables.get("PA_JOB_ID")
result = "The Id of the current job is: " + jobId</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we can see, the <code>variables</code> binding in provided automatically by the ProActive Scheduler before the script execution and it is used to compute a <code>result</code> binding as task output.</p>
</div>
<div class="paragraph">
<p>Bindings are stored internally inside the ProActive Scheduler as <strong>Java Objects</strong>. Accordingly, a <strong>conversion</strong> may be performed when targeting (or when reading from) other languages.</p>
</div>
<div class="paragraph">
<p>For example, <a href="ProActiveUserGuide.html#_generic_information">Generic Information</a> or <a href="ProActiveUserGuide.html#_variables">Workflow Variables</a> are stored as Java objects implementing the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html">Map interface</a>.
When creating the <code>variables</code> or <code>genericInformation</code> bindings prior to executing a Groovy, JRuby, Jython or Python script, the ProActive Scheduler will convert it to various types accepted by the target language.
In those languages, printing the type of the <code>genericInformation</code> binding will show:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Groovy: class com.google.common.collect.RegularImmutableBiMap
JRuby: Java::ComGoogleCommonCollect::RegularImmutableBiMap
Jython: &lt;type 'com.google.common.collect.RegularImmutableBiMap'&gt;
Python: &lt;class 'py4j.java_collections.JavaMap'&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>We see here that Groovy, JRuby and Jython did not perform any conversion, whereas Python (CPython) did.
This behavior is expected as CPython script execution is run as a standalone python process and a custom type conversion occurs while the formers are run directly inside the task Java Virtual Machine will full Java type compatibility.</p>
</div>
<div class="paragraph">
<p>Depending on the script type (task script, selection script, etc&#8230;&#8203;), the script may need to define an <strong>output binding</strong> to return some information to the scheduler.</p>
</div>
<div class="paragraph">
<p>Below are some examples of <strong>output bindings</strong> for various kind of scripts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>result</code> and <code>resultMetadata</code> for a Script Task main execution script.</p>
</li>
<li>
<p><code>selected</code> for a selection script.</p>
</li>
<li>
<p><code>loop</code> for a Loop construct flow script.</p>
</li>
<li>
<p><code>runs</code> for a Replicate construct flow script.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The complete list of script bindings (both input and output) is available in the <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a> section.</p>
</div>
<div class="paragraph">
<p>Below are descriptions of some specific scripting language support, which can be used in Script Tasks main execution script or in any Task <a href="ProActiveUserGuide.html#_additional_scripts">additional scripts</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_java_tasks"><a class="anchor" href="ProActiveUserGuide.html#_java_tasks"></a><a class="link" href="ProActiveUserGuide.html#_java_tasks">3.4. Java Tasks</a></h3>
<div class="paragraph">
<p>A workflow can execute Java classes thanks to <strong>Java Tasks</strong>.
In terms of XML definition, a Java Task consists of a <strong>fully-qualified class name</strong> along with <strong>parameters</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="Java_Task"&gt;
  &lt;javaExecutable class="org.ow2.proactive.scheduler.examples.WaitAndPrint"&gt;
    &lt;parameters&gt;
      &lt;parameter name="sleepTime" value="20"/&gt;
      &lt;parameter name="number" value="2"/&gt;
    &lt;/parameters&gt;
  &lt;/javaExecutable&gt;
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The provided class must extend the <a href="../javadoc/index.html%3Forg%252Fow2%252Fproactive%252Fscheduler%252Fcommon%252Ftask%252Fexecutable%252FJavaExecutable.html">JavaExecutable</a> abstract class and implement the <a href="../javadoc/org/ow2/proactive/scheduler/common/task/executable/JavaExecutable.html#execute-org.ow2.proactive.scheduler.common.task.TaskResult&#8230;&#8203;-">execute</a> method.</p>
</div>
<div class="paragraph">
<p>Any parameter must be defined as public attributes. For example, the above <strong>WaitAndPrint</strong> class contains the following attributes definitions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Java hljs" data-lang="Java">/** Sleeping time before displaying. */
public int sleepTime;

/** Parameter number. */
public int number;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A parameter conversion is performed automatically by the <strong>JavaExecutable</strong> super class. If this automatic conversion is not suitable, it is possible to override the <a href="../javadoc/org/ow2/proactive/scheduler/common/task/executable/JavaExecutable.html#init-java.util.Map-">init</a> method.</p>
</div>
<div class="paragraph">
<p>Finally, several utility methods are provided by <strong>JavaExecutable</strong> and should be used inside <strong>execute</strong>. A good example is <a href="../javadoc/org/ow2/proactive/scheduler/common/task/executable/JavaExecutable.html#getOut--">getOut</a> which allows writing some textual output to the workflow task or <a href="../javadoc/org/ow2/proactive/scheduler/common/task/executable/JavaExecutable.html#getLocalSpace--">getLocalSpace</a> which allows access to the task execution directory.</p>
</div>
<div class="paragraph">
<p>The complete code for the <strong>WaitAndPrint</strong> class is available below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Java hljs" data-lang="Java">public class WaitAndPrint extends JavaExecutable {

    /** Sleeping time before displaying. */
    public int sleepTime;

    /** Parameter number. */
    public int number;

    /**
     * @see JavaExecutable#execute(TaskResult[])
     */
    @Override
    public Serializable execute(TaskResult... results) throws Throwable {
        String message = null;

        try {
            getErr().println("Task " + number + " : Test STDERR");
            getOut().println("Task " + number + " : Test STDOUT");

            message = "Task " + number;
            int st = 0;
            while (st &lt; sleepTime) {
                Thread.sleep(1000);
                try {
                    setProgress((st++) * 100 / sleepTime);
                } catch (IllegalArgumentException iae) {
                    setProgress(100);
                }
            }

        } catch (Exception e) {
            message = "crashed";
            e.printStackTrace(getErr());
        }

        getOut().println("Terminate task number " + number);

        return ("No." + this.number + " hi from " + message + "\t slept for " + sleepTime + " Seconds");
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_a_workflow"><a class="anchor" href="ProActiveUserGuide.html#_run_a_workflow"></a><a class="link" href="ProActiveUserGuide.html#_run_a_workflow">3.5. Run a workflow</a></h3>
<div class="paragraph">
<p>To run a workflow, the user submits it to the <strong>ProActive Scheduler</strong>.
It will be possible to choose the values of all Job Variables when submitting the workflow (see section <a href="ProActiveUserGuide.html#_job_variables">Job Variables</a>).
A verification is performed to ensure the well-formedness of the workflow.
A verification will also be performed to ensure that all variables are valid according to their model definition (see section <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a>).
Next, a job is created and inserted into the pending queue and
waits until free resources become available.
Once the required resources are provided by the ProActive Resource Manager, the job is started. Finally,
once the job is finished, it goes to the queue of finished
jobs where its result can be retrieved.</p>
</div>
<div class="paragraph">
<p>You can submit a workflow to the Scheduler using the <strong>Workflow Studio</strong>, the Scheduler Web Interface or <a href="ProActiveUserGuide.html#_scheduler_command_line">command
line tools</a>. For advanced users we also expose REST and JAVA APIs.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
During the submission, you will be able to edit <a href="ProActiveUserGuide.html#_workflow_variables">Workflow variables</a>, so you can effectively use
them to parameterize workflow execution and use workflows as <a href="ProActiveUserGuide.html#_templating">templates</a>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_status"><a class="anchor" href="ProActiveUserGuide.html#_status"></a><a class="link" href="ProActiveUserGuide.html#_status">3.5.1. Job &amp; Task status</a></h4>
<div class="paragraph">
<p>During their execution, jobs go through different status.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Job Status for Pending and Current Jobs</caption>
<colgroup>
<col style="width: 17%;">
<col style="width: 17%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PENDING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is waiting to be scheduled. None of its tasks have been Running so far.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is running. At least one of its task has been scheduled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STALLED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stalled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has been launched but no task is currently running.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paused</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is paused waiting for user to resume it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IN_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In-Error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has one or more In-Error tasks that are suspended along with their dependencies. User intervention is required to fix the causing issues and restart the In-Error tasks to resume the job.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Job Status for Past Jobs</caption>
<colgroup>
<col style="width: 17%;">
<col style="width: 17%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FINISHED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is finished. Tasks are finished or faulty.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CANCELED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancelled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has been canceled because of an exception.
This status is used when an exception is thrown by the user code of a task and when the user has asked to cancel the job on exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FAILED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has failed. One or more tasks have failed (due to resources failure).
There is no more executionOnFailure left for a task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>KILLED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Killed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has been killed by the user.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Similarly to jobs, during their execution, tasks go through different status.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Task Status</caption>
<colgroup>
<col style="width: 17%;">
<col style="width: 17%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ABORTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aborted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task has been aborted by an exception on an other task while the task is running. (job is cancelOnError=true).
 Can be also in this status if the job is killed while the concerned task was running.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FAILED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task is failed
(only if maximum number of execution has been reached and the node on which it was started is down).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FAULTY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Faulty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task has finished execution with error code (!=0) or exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FINISHED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task has finished execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IN_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In-Error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task is suspended after first error, if the user has asked to suspend it. The task is waiting for a manual restart action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NOT_RESTARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Could not restart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task could not be restarted.
  It means that the task could not be restarted after an error
  during the previous execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NOT_STARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Could not start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task could not be started.
  It means that the task could not be started due to
   dependencies failure.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paused</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task is paused.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PENDING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task is in the scheduler pending queue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task is executing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SKIPPED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skipped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task was not executed: it was the non-selected branch of an IF/ELSE control flow action.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SUBMITTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submitted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task has just been submitted by the user.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WAITING_ON_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Faulty&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task is waiting for restart after an error (i.e. native code != 0 or exception, and maximum number of execution is not reached).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WAITING_ON_FAILURE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failed&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task is waiting for restart after a failure (i.e. node down).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_job_priority"><a class="anchor" href="ProActiveUserGuide.html#_job_priority"></a><a class="link" href="ProActiveUserGuide.html#_job_priority">3.5.2. Job Priority</a></h4>
<div class="paragraph">
<p>A job is assigned a default priority of <code>NORMAL</code> but the user can increase or decrease the priority once the
job has been submitted. When they are scheduled, jobs with the highest priory are executed first.</p>
</div>
<div class="paragraph">
<p>The following values are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IDLE</code></p>
</li>
<li>
<p><code>LOWEST</code></p>
</li>
<li>
<p><code>LOW</code></p>
</li>
<li>
<p><code>NORMAL</code></p>
</li>
<li>
<p><code>HIGH</code> can only be set by an administrator</p>
</li>
<li>
<p><code>HIGHEST</code> can only be set by an administrator</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_retrieve_logs"><a class="anchor" href="ProActiveUserGuide.html#_retrieve_logs"></a><a class="link" href="ProActiveUserGuide.html#_retrieve_logs">3.6. Retrieve logs</a></h3>
<div class="paragraph">
<p>It is possible to retrieve multiple logs from a job, these logs can either be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The standard <em>output/error logs</em> associated with a job.</p>
</li>
<li>
<p>The standard <em>output/error logs</em> associated with a task.</p>
</li>
<li>
<p>The scheduler <em>server logs</em> associated with a job.</p>
</li>
<li>
<p>The scheduler <em>server logs</em> associated with a task.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unless your account belongs to an administrator group, you can only see the logs of a job that you own.</p>
</div>
<div class="sect3">
<h4 id="_retrieve_logs_from_the_portal"><a class="anchor" href="ProActiveUserGuide.html#_retrieve_logs_from_the_portal"></a><a class="link" href="ProActiveUserGuide.html#_retrieve_logs_from_the_portal">3.6.1. Retrieve logs from the portal</a></h4>
<div class="ulist">
<ul>
<li>
<p><code>Job standard output/error logs</code>:<br>
To view the standard output or error logs associated with a job, select a job from the job list and then on the <em>Output</em> tab in the bottom right panel.<br>
Click on <em>Streaming Output</em> checkbox to auto-fetch logs for running tasks of the entire Job. The logs panel will be updated as soon as new log lines will be printed by this job.<br>
You cannot select a specific Task in the streaming mode. If you activate streaming while some Tasks are already finished, you will get the logs of those Tasks as well.<br>
Click on <em>Finished Tasks Output</em> button to retrieve logs for already finished tasks. For all the finished Tasks within the Job, or for the selected Task.<br>
The command does work when Job is still in Running status, as well as when Job is Finished.<br>
Logs are limited to 1024 lines. Should your job logs be longer, you can select the <em>Full logs (download)</em> option from the drop down list.</p>
</li>
<li>
<p><code>Task standard output/error logs</code>:<br>
To view the standard output or error logs associated with a task, select a job from the job list and a task from the task list.<br>
Then in the <em>Output</em> tab, choose <em>Selected task</em> from the drop down list.<br>
Once the task is terminated, you will be able to click on the <em>Finished Tasks Output</em> button to see the standard output or error associated with the task.<br>
It is not possible to view the streaming logs of single task, only the job streaming logs are available.</p>
</li>
<li>
<p><code>Job server logs</code>:<br>
Whether a job is running or finished, you can access the associated server logs by selecting a job, opening the <em>Server Logs</em> tab in the bottom-right panel and then clicking on <em>Fetch logs</em>.<br>
Server logs contains debugging information, such as the job definition, output of selection or cleaning scripts, etc.</p>
</li>
<li>
<p><code>Task server logs</code>:<br>
In the <em>Server Logs</em> tab, you can choose <em>Selected task</em> to view the server logs associated with a single task.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_retrieve_logs_from_the_command_line"><a class="anchor" href="ProActiveUserGuide.html#_retrieve_logs_from_the_command_line"></a><a class="link" href="ProActiveUserGuide.html#_retrieve_logs_from_the_command_line">3.6.2. Retrieve logs from the command line</a></h4>
<div class="paragraph">
<p>The chapter <a href="ProActiveUserGuide.html#_scheduler_command_line">command line tools</a> explains how to use the command line interface.
Once connected, you can retrieve the various logs using the following commands. Server logs cannot be accessed from the command line.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Job standard output/error logs</code>: joboutput(jobid)<br></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; joboutput(1955)
[1955t0@precision;14:10:57] [2016-10-27 14:10:057 precision] HelloWorld
[1955t1@precision;14:10:56] [2016-10-27 14:10:056 precision] HelloWorld
[1955t2@precision;14:10:56] [2016-10-27 14:10:056 precision] HelloWorld
[1955t3@precision;14:11:06] [2016-10-27 14:11:006 precision] HelloWorld
[1955t4@precision;14:11:05] [2016-10-27 14:11:005 precision] HelloWorld</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Task standard output/error logs</code>: taskoutput(jobid, taskname)<br></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; taskoutput(1955,'0_0')
[1955t0@precision;14:10:57] [2016-10-27 14:10:057 precision] HelloWorld</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Streaming job standard output/error logs</code>: livelog(jobid)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; livelog(2002)
Displaying live log for job 2002. Press 'q' to stop.
&gt; Displaying live log for job 2002. Press 'q' to stop.
[2002t2@precision;15:57:13] [ABC, DEF]</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_retrieve_results"><a class="anchor" href="ProActiveUserGuide.html#_retrieve_results"></a><a class="link" href="ProActiveUserGuide.html#_retrieve_results">3.7. Retrieve results</a></h3>
<div class="paragraph">
<p>Once a job or a task is terminated, it is possible to get its result. Unless you belong to the administrator group, you can only get the result of the job that you own.
Results can be retrieved using the Scheduler Web Interface or the command line tools.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When running native application, the task result will be the exit code of the application. Results
usually make more sense when using script or Java tasks.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_retrieve_results_from_the_portal"><a class="anchor" href="ProActiveUserGuide.html#_retrieve_results_from_the_portal"></a><a class="link" href="ProActiveUserGuide.html#_retrieve_results_from_the_portal">3.7.1. Retrieve results from the portal</a></h4>
<div class="paragraph">
<p>In the scheduler portal, select a job, then select a task from the job&#8217;s task list. Click on <em>Preview</em> tab in the bottom-right panel.</p>
</div>
<div class="paragraph">
<p>In this tab, you will see two buttons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Open in browser</code>: when clicking on this button, the result will be displayed in a new browser tab. By default, the result will be displayed in text format.
If your result contains binary data, it is possible to specify a different display mode using &lt;&lt;_assigning_metadata_to_task_result,Result Metadata&gt;.<br>
If the task failed, when clicking on the <em>Open in browser</em> button, the task error will be displayed.</p>
</li>
<li>
<p><code>Save as file</code>: when clicking on this button, the result will be saved on disk in binary format. By default, the file name will be generated automatically using the job and task ids, without an extension.
It is possible to customize this behavior and specify in the task a file name, or a file extension using <a href="ProActiveUserGuide.html#_assigning_metadata_to_task_result">Result Metadata</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following example gets one png image and add the metadata to help the browser display it and add a name when downloading.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>file = new File(fileName)
result = file.getBytes()
resultMetadata.put("file.name", fileName)
resultMetadata.put("content.type", "image/png")</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_retrieve_results_from_the_command_line"><a class="anchor" href="ProActiveUserGuide.html#_retrieve_results_from_the_command_line"></a><a class="link" href="ProActiveUserGuide.html#_retrieve_results_from_the_command_line">3.7.2. Retrieve results from the command line</a></h4>
<div class="paragraph">
<p>The chapter <a href="ProActiveUserGuide.html#_scheduler_command_line">command line tools</a> explains how to use the command line interface.
Once connected, you can retrieve the task or job results:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Result of a single task</code>: taskresult(jobid, taskname)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; taskresult(2002, 'Merge')
task('Merge') result: true</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Result of all tasks of a job</code>: jobresult(jobid)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; jobresult(2002)
job('2002') result:
Merge : true
Process*1 : DEF
Process : ABC
Split : {0=abc, 1=def}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proactive_studio"><a class="anchor" href="ProActiveUserGuide.html#_proactive_studio"></a><a class="link" href="ProActiveUserGuide.html#_proactive_studio">4. ProActive Studio</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>ProActive Workflow Studio</strong> is used to create and submit workflows graphically.
The Studio allows to simply drag-and-drop various task constructs and draw their dependencies to form complex workflows.
It also provides various flow control widgets such as conditional branch, loop, replicate etc to construct workflows with dynamic structures.</p>
</div>
<div class="paragraph">
<p>The studio usage is illustrated in the following example.</p>
</div>
<div class="sect2">
<h3 id="_a_simple_example"><a class="anchor" href="ProActiveUserGuide.html#_a_simple_example"></a><a class="link" href="ProActiveUserGuide.html#_a_simple_example">4.1. A simple example</a></h3>
<div class="paragraph">
<p>The <a href="https://try.activeeon.com/tutorials/quickstart/quickstart.html" target="_blank" rel="noopener">quickstart tutorial</a> on <a href="https://try.activeeon.com" target="_blank" rel="noopener">try.activeeon.com</a>
shows how to build a simple workflow using script tasks.</p>
</div>
<div class="paragraph">
<p>Below is an example of a workflow created with the Studio:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/GI_documentation_finance_url.png" alt="GI documentation finance url">
</div>
</div>
<div class="paragraph">
<p>In the left part, are illustrated the <strong>General Parameters</strong> of the workflow with the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Name</code>: the name of the workflow.</p>
</li>
<li>
<p><code>Project</code>: the project name to which belongs the workflow.</p>
</li>
<li>
<p><code>Description</code>: the textual description of the workflow.</p>
</li>
<li>
<p><code>Documentation</code>: if the workflow has a Generic Information named "Documentation", then its URL value is displayed as a link.</p>
</li>
<li>
<p><code>Job Priority</code>: the priority assigned to the workflow. It is by default set to <code>NORMAL</code>, but can be increased or decreased once the job is submitted.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the right part, we see the <strong>graph of dependent tasks</strong> composing the workflow. Each task can be selected to show the task specific attributes and defintions.</p>
</div>
<div class="paragraph">
<p>Finally, above the workflow graph, we see the various <strong>palettes</strong> which can be used to <em>drag &amp; drop</em> <strong>sample task definitions</strong> or <strong>complex constructs</strong>.</p>
</div>
<div class="paragraph">
<p>The <a href="ProActiveUserGuide.html#_types_of_tasks">following chapters</a> describe the three main type of tasks which can be defined inside ProActive Workflows.</p>
</div>
</div>
<div class="sect2">
<h3 id="_use_the_proactive_catalog_from_the_studio"><a class="anchor" href="ProActiveUserGuide.html#_use_the_proactive_catalog_from_the_studio"></a><a class="link" href="ProActiveUserGuide.html#_use_the_proactive_catalog_from_the_studio">4.2. Use the ProActive Catalog from the Studio</a></h3>
<div class="paragraph">
<p>The GUI interaction with the Catalog can be done in two places: the <a class="studioUrl" href="https://trydev2.activeeon.com/studio" target="_blank">Studio</a> and <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/catalog-portal" target="_blank">Catalog Portal</a>.
The portals follow the concepts of the Catalog: Workflows are stored inside buckets, a workflow has some metadata and can have several revisions.</p>
</div>
<div class="paragraph">
<p>The Catalog view in the Studio or in the Catalog Portal allows to browse all the workflows in the Catalog grouped by buckets and to list all the revisions of a workflow along with their commit message.</p>
</div>
<div class="paragraph">
<p>Inside the Studio, there is a <code>Catalog</code> menu from which a user can directly interact with the Catalog to import or publish Workflows.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/studio_catalog_menu.png" alt="studio catalog menu">
</div>
</div>
<div class="paragraph">
<p>Additionally, the Palette of the Studio lists the user&#8217;s favourite buckets to allow easy import of workflows from the Catalog with a simple Drag &amp; Drop.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/studio-palette.png" alt="studio palette">
</div>
</div>
<div class="sect3">
<h4 id="_publish_current_workflow_to_the_catalog"><a class="anchor" href="ProActiveUserGuide.html#_publish_current_workflow_to_the_catalog"></a><a class="link" href="ProActiveUserGuide.html#_publish_current_workflow_to_the_catalog">4.2.1. Publish current Workflow to the Catalog</a></h4>
<div class="paragraph">
<p>Workflows created in the studio can be saved inside a bucket in the Catalog by using the <code>Publish current Workflow to the Catalog</code> action.
When saving a Workflow in the Catalog, users can add a specific <code>commit message</code>.
If a Workflow with the same name already exists in the specified bucket, a new revision of the Workflow is created.
We recommend to always specify commit messages at any commit for an easier differentiation between stored versions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_get_a_workflow_from_the_catalog"><a class="anchor" href="ProActiveUserGuide.html#_get_a_workflow_from_the_catalog"></a><a class="link" href="ProActiveUserGuide.html#_get_a_workflow_from_the_catalog">4.2.2. Get a Workflow from the Catalog</a></h4>
<div class="paragraph">
<p>When the Workflow is selected from Catalog you have two options:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Open as a new Workflow</code>: Open the Workflow from Catalog as a new Workflow in Studio.</p>
</li>
<li>
<p><code>Append to current Workflow</code>: Append the selected Workflow from the Catalog to the Workflow already opened inside the Studio.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_add_bucket_menu_to_the_palette"><a class="anchor" href="ProActiveUserGuide.html#_add_bucket_menu_to_the_palette"></a><a class="link" href="ProActiveUserGuide.html#_add_bucket_menu_to_the_palette">4.2.3. Add Bucket Menu to the Palette</a></h4>
<div class="paragraph">
<p>The Palette makes it easier to use workflows stored in a specific Bucket of the Catalog as templates when designing a Workflow.</p>
</div>
<div class="paragraph">
<p>To add a bucket from the Catalog as a dropdown menu in the Palette:  Click on <code>View</code> → <code>Add Bucket Menu to the Palette</code> or you press the <span class="image"><img src="https://trydev2.activeeon.com/doc/images/studio-palette-add.png" alt="+" width="32" height="32"></span> button in the palette.
A window will show up to ask you which bucket you want to add to the Palette as in the image below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/studio-catalog-main-menu3.png" alt="studio catalog main menu3">
</div>
</div>
<div class="paragraph">
<p>The selected <code>Data Connectors</code> Bucket now appears as a menu in the Studio. See the image below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/studio-catalog-main-menu4.png" alt="studio catalog main menu4">
</div>
</div>
<div class="paragraph">
<p>You can repeat the operation as many times as you wish in order to add other specific Menus you might need for your workflow design. See the image below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/studio-catalog-main-menu5.png" alt="studio catalog main menu5">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_palette_preset"><a class="anchor" href="ProActiveUserGuide.html#_change_palette_preset"></a><a class="link" href="ProActiveUserGuide.html#_change_palette_preset">4.2.4. Change Palette Preset</a></h4>
<div class="paragraph">
<p>The Studio offers the possibility to set a Preset for the Palette. This makes it easier to load the Palette with a predefined set of default buckets.
Presets are generally arranged by theme (Basic Examples, Machine Learning, Deep Learning, Big Data, etc.)
The Palette&#8217;s preset can be changed by clicking <code>View</code> → <code>Change Palette Preset</code>. This will show a window with the current list of presets as in the image below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/studio-catalog-main-menu1.png" alt="studio catalog main menu1">
</div>
</div>
<div class="paragraph">
<p>After changing the preset, its name appears at the top of the Studio and all its buckets are added to the Palette.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/studio-catalog-main-menu2.png" alt="studio catalog main menu2">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_workflow_concepts"><a class="anchor" href="ProActiveUserGuide.html#_workflow_concepts"></a><a class="link" href="ProActiveUserGuide.html#_workflow_concepts">5. Workflow concepts</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Workflows come with constructs that help you distribute your computation. The tutorial
<a href="https://try.activeeon.com/tutorials/adv.html" target="_blank" rel="noopener">Advanced workflows</a> is a nice introduction to workflows with
ProActive.</p>
</div>
<div class="paragraph">
<p>The following constructs are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Dependency</strong></p>
</li>
<li>
<p><strong>Replicate</strong></p>
</li>
<li>
<p><strong>Branch</strong></p>
</li>
<li>
<p><strong>Loop</strong></p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use the <strong>Workflow Studio</strong> to create complex workflows, it is much easier than writing XML!
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_dependency"><a class="anchor" href="ProActiveUserGuide.html#_dependency"></a><a class="link" href="ProActiveUserGuide.html#_dependency">5.1. Dependency</a></h3>
<div class="paragraph">
<p>Dependencies can be set between tasks in a TaskFlow job. It provides a way to execute your tasks in a specified order,
but also to forward result of an ancestor task to its children as parameter. Dependency between tasks is then
both a temporal dependency and a data dependency.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/flow_spec_dependency.png" alt="flow spec dependency">
</div>
</div>
<div class="paragraph">
<p>Dependencies between tasks can be added either in <strong>ProActive Workflow Studio</strong> or simply in workflow XML as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;taskFlow&gt;
    &lt;task name="task1"&gt;
        &lt;scriptExecutable&gt;
            &lt;script&gt;
                &lt;code language="groovy"&gt;
                    println "Executed first"
                &lt;/code&gt;
            &lt;/script&gt;
        &lt;/scriptExecutable&gt;
    &lt;/task&gt;
    &lt;task name="task2"&gt;
        &lt;depends&gt;
            &lt;task ref="task1"/&gt;
        &lt;/depends&gt;
        &lt;scriptExecutable&gt;
            &lt;script&gt;
                &lt;code language="groovy"&gt;
                    println "Now it's my turn"
                &lt;/code&gt;
            &lt;/script&gt;
        &lt;/scriptExecutable&gt;
    &lt;/task&gt;
&lt;/taskFlow&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_replicate"><a class="anchor" href="ProActiveUserGuide.html#_replicate"></a><a class="link" href="ProActiveUserGuide.html#_replicate">5.2. Replicate</a></h3>
<div class="paragraph">
<p>The <strong>replication</strong> allows the execution of multiple tasks in parallel when only one task
is defined and the number of tasks to run could change.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/flow_spec_duplicate.png" alt="flow spec duplicate">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The target is the direct child of the task initiator.</p>
</li>
<li>
<p>The initiator can have multiple children; each child is replicated.</p>
</li>
<li>
<p>If the target is a <strong>start block</strong>, the whole block is replicated.</p>
</li>
<li>
<p>The target must have the initiator as only dependency: the action is
performed when the initiator task terminates. If the target has an
other pending task as dependency, the behavior cannot be specified.</p>
</li>
<li>
<p>There should always be a merge task after the target of a replicate:
if the target is not a start block, it should have at least one
child, if the target is a start block, the corresponding end block
should have at least one child.</p>
</li>
<li>
<p>The last task of a replicated task block (or the replicated task if
there is no block) cannot perform a <strong>branching</strong> or <strong>replicate</strong>
action.</p>
</li>
<li>
<p>The target of a <strong>replicate</strong> action cannot be tagged as <strong>end block</strong>.</p>
</li>
<li>
<p>The current replication index (from to 0 to <code>runs</code>) can be accessed via the
<code>PA_TASK_REPLICATION</code> <a href="ProActiveUserGuide.html#_workflow_variables">variable</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are familiar with programming, you can see the replication as forking tasks.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_branch"><a class="anchor" href="ProActiveUserGuide.html#_branch"></a><a class="link" href="ProActiveUserGuide.html#_branch">5.3. Branch</a></h3>
<div class="paragraph">
<p>The <strong>branch</strong> construct provides the ability to choose between two alternative task flows,
with the possibility to merge back to a common flow.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/flow_spec_if.png" alt="flow spec if">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>There is no explicit dependency between the initiator and the
<strong>if/else</strong> targets. These are <strong>optional links</strong> (ie. A &#8594; B or E &#8594;
F) defined in the <strong>if</strong> task.</p>
</li>
<li>
<p>The <strong>if</strong> and <strong>else</strong> flows can be merged by a <strong>continuation</strong> task
referenced in the <strong>if</strong> task, playing the role of an <strong>endif</strong>
construct. After the branching task, the flow will either be that of
the <strong>if</strong> or the <strong>else</strong> task, but it will be continued by the
<strong>continuation</strong> task.</p>
</li>
<li>
<p><strong>If</strong> and <strong>else</strong> targets are executed <strong>exclusively</strong>. The initiator
however can be the dependency of other tasks, which will be executed
normally along the <strong>if</strong> or the <strong>else</strong> target.</p>
</li>
<li>
<p>A <strong>task block</strong> can be defined across <strong>if</strong>, <strong>else</strong> and <strong>continuation</strong>
links, and not just plain dependencies (i.e. with <strong>A</strong> as <strong>start</strong> and
<strong>F</strong> as <strong>end</strong>).</p>
</li>
<li>
<p>If using no continuation task, the if and else targets, along with
their children, must be strictly distinct.</p>
</li>
<li>
<p>If using a continuation task, the if and else targets must be
strictly distinct and valid task blocks.</p>
</li>
<li>
<p><strong>if</strong>, <strong>else</strong> and <strong>continuation</strong> tasks (B, D and F) cannot have
an explicit dependency.</p>
</li>
<li>
<p><strong>if</strong>, <strong>else</strong> and <strong>continuation</strong> tasks cannot be entry points for the
job, they must be triggered by the <strong>if</strong> control flow action.</p>
</li>
<li>
<p>A task can be target of only one <strong>if</strong> or <strong>else</strong> action. A
<strong>continuation</strong> task can not merge two different <strong>if</strong> actions.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are familiar with programming, you can see the branch as an if/then/else.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_loop"><a class="anchor" href="ProActiveUserGuide.html#_loop"></a><a class="link" href="ProActiveUserGuide.html#_loop">5.4. Loop</a></h3>
<div class="paragraph">
<p>The loop provides the ability to repeat a set of tasks.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/flow_spec_loop.png" alt="flow spec loop">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The target of a <strong>loop</strong> action must be a parent of the initiator
following the dependency chain; this action goes back to a
previously executed task.</p>
</li>
<li>
<p>Every task is executed at least once; <strong>loop</strong> operates in a
<strong>do&#8230;&#8203;while</strong> fashion.</p>
</li>
<li>
<p>The target of a <strong>loop</strong> should have only one explicit dependency. It
will have different parameters (dependencies) depending if it is
executed for the first time or not. The cardinality should stay the
same.</p>
</li>
<li>
<p>The <strong>loop</strong> scope should be a <strong>task block</strong>: the target is a <strong>start
block</strong> task, and the initiator its related <strong>end block task</strong>.</p>
</li>
<li>
<p>The current iteration index (from 0 to n until <code>loop</code> is false) can be accessed via the
<code>PA_TASK_ITERATION</code> <a href="ProActiveUserGuide.html#_workflow_variables">variable</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you are familiar with programming, you can see the loop as a do/while.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_task_blocks"><a class="anchor" href="ProActiveUserGuide.html#_task_blocks"></a><a class="link" href="ProActiveUserGuide.html#_task_blocks">5.5. Task Blocks</a></h3>
<div class="paragraph">
<p>Workflows often relies on <strong>task blocks</strong>. Task blocks are defined by pairs of <strong>start</strong> and <strong>end</strong> tags.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each task of the flow can be tagged either <strong>start</strong> or <strong>end</strong></p>
</li>
<li>
<p>Tags can be nested</p>
</li>
<li>
<p>Each <strong>start</strong> tag needs to match a distinct <strong>end</strong> tag</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Task blocks are very similar to the parenthesis of most programming
languages: anonymous and nested start/end tags. The only difference is
that a parenthesis is a syntactical information, whereas task blocks are
semantic.</p>
</div>
<div class="paragraph">
<p>The role of task blocks is to restrain the expressiveness of the system
so that a workflow can be statically checked and validated. A treatment
that can be looped or iterated will be isolated in a well-defined task
block.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <strong>loop</strong> flow action only applies on a task block: the initiator of
the loop must be the end of the block, and the target must be the
beginning.</p>
</li>
<li>
<p>When using a <strong>continuation</strong> task in an <strong>if</strong> flow action, the <strong>if</strong>
and <strong>else</strong> branches must be task blocks.</p>
</li>
<li>
<p>If the child of a <strong>replicate</strong> task is a task block, the whole block
will be replicated and not only the child of the initiator.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_variables"><a class="anchor" href="ProActiveUserGuide.html#_variables"></a><a class="link" href="ProActiveUserGuide.html#_variables">5.6. Variables</a></h3>
<div class="paragraph">
<p>Variables can come at hand while developing ProActive applications.
Propagate data between tasks, customize jobs, and store useful debug information are a few examples of
how variables can ease development. ProActive has basically two groups of variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="ProActiveUserGuide.html#_workflow_variables">Workflow variables</a>, declared on the XML job definition.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_dynamic_variables">Dynamic Variables</a>, system variables or variables created at task runtime.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to immediately distinguish advanced and hidden variables, we present advanced variables in orange and hidden variables in light grey in our portals.</p>
</div>
<div class="paragraph">
<p>Here is an example with an Object&#8217;s details in the <strong>Catalog Portal</strong></p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/advanced-hidden-variables.png" alt="advanced hidden variables">
</div>
<div class="title">Figure 1. Catalog&#8217;s object variables</div>
</div>
<div class="sect3">
<h4 id="_workflow_variables"><a class="anchor" href="ProActiveUserGuide.html#_workflow_variables"></a><a class="link" href="ProActiveUserGuide.html#_workflow_variables">5.6.1. Workflow variables</a></h4>
<div class="paragraph">
<p>Workflow variables are declared in the XML job definition. Within the definition we can have variables in several
levels, at job level the variables are visible and shared by all tasks. At task level, variables are visible
only within the task execution context.</p>
</div>
<div class="sect4">
<h5 id="_job_variables"><a class="anchor" href="ProActiveUserGuide.html#_job_variables"></a><a class="link" href="ProActiveUserGuide.html#_job_variables">Job variables</a></h5>
<div class="paragraph">
<p>In a workflow, you can define <strong>job variables</strong> that are shared and visible by all tasks.</p>
</div>
<div class="paragraph">
<p>A job variable is defined using the following attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>name</strong>: the variable name.</p>
</li>
<li>
<p><strong>value</strong>: the variable value.</p>
</li>
<li>
<p><strong>model</strong>: the variable value type or model (optional). See section <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a>.</p>
</li>
<li>
<p><strong>description</strong>: the variable description (optional). The description can be written using html syntax (e.g. <code>This variable is &lt;b&gt;mandatory&lt;/b&gt;.</code>).</p>
</li>
<li>
<p><strong>group</strong>: the group name associated with the variable (optional). When the workflow has many variables,
defining variable groups helps understanding the various parameters. Variables with no associated group are called <em>Main Variables</em>.</p>
</li>
<li>
<p><strong>advanced</strong>: when a variable is advanced, it is not displayed by default in the workflow submission form.
A checkbox allows the user to display or hide advanced variables.</p>
</li>
<li>
<p><strong>hidden</strong>: a hidden variable is not displayed to the user in the workflow submission form. Hidden variables have the following usages:</p>
<div class="ulist">
<ul>
<li>
<p>perform <em>hidden checks</em> on other variables, defined by a variable model <em>SpEL expression</em>, see <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a> and <a href="ProActiveUserGuide.html#_spring_expression_language_model">Spring Expression Language Model</a>.</p>
</li>
<li>
<p>build <em>dynamic forms</em> where variables are displayed or hidden depending on the values of other variables, see <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a>, <a href="ProActiveUserGuide.html#_spring_expression_language_model">Spring Expression Language Model</a> and <a href="ProActiveUserGuide.html#_dynamic_forms">Dynamic form example using SpEL</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="_templating" class="paragraph">
<p>Variables are very useful to use workflows as templates where only a few parameters change for each
execution. Upon submission you can define variable values in several ways from <a href="ProActiveUserGuide.html#_scheduler_command_line">CLI</a>,
using the ProActive Workflow Studio, directly editing the XML job definition, or even using REST
API.</p>
</div>
<div class="paragraph">
<p>The following example shows how to define a job variable in the XML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;job ... &gt;
    &lt;variables&gt;
        &lt;variable name="variable" value="value" model=""/&gt;
    &lt;/variables&gt;
    ...
&lt;/job&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Job variables</strong> can be referenced anywhere in the workflow, including other job variables.</p>
</div>
<div class="paragraph">
<p>The syntax for referencing a variable is the pattern <code>${variable_name}</code> (case-sensitive), for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;nativeExecutable&gt;
    &lt;staticCommand value="${variable}" /&gt;
&lt;/nativeExecutable&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_task_variables"><a class="anchor" href="ProActiveUserGuide.html#_task_variables"></a><a class="link" href="ProActiveUserGuide.html#_task_variables">Task variables</a></h5>
<div class="paragraph">
<p>Similarly to job variables, <strong>Task variables</strong> can be defined within task scope in the job XML definition.
Task variables scope is strictly limited to the task definition.</p>
</div>
<div class="paragraph">
<p>A task variable is defined using the following attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>name</strong>: the variable name.</p>
</li>
<li>
<p><strong>value</strong>: the variable value.</p>
</li>
<li>
<p><strong>inherited</strong>: asserts when the content of this variable is propagated from a <a href="ProActiveUserGuide.html#_job_variables">job variable</a> or a <a href="ProActiveUserGuide.html#_inherited_variables">parent task</a>.
If <em>true</em>, the value defined in the task variable will only be used if no variable with the same name is propagated. Value field can be left empty however it can
also work as a default value in case a previous task fails to define the variable.</p>
</li>
<li>
<p><strong>model</strong>: the variable value type or model (optional). See section <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a></p>
</li>
<li>
<p><strong>description</strong>: the variable description (optional). The description can be written using html syntax (e.g. <code>This variable is &lt;b&gt;mandatory&lt;/b&gt;.</code>).</p>
</li>
<li>
<p><strong>group</strong>: the group name associated with the variable (optional). When the workflow has many variables,
defining variable groups helps understanding the various parameters. Variables with no associated group are called <em>Main Variables</em>.</p>
</li>
<li>
<p><strong>advanced</strong>: when a variable is advanced, it is not displayed by default in the workflow submission form.
A checkbox allows the user to display or hide advanced variables.</p>
</li>
<li>
<p><strong>hidden</strong>: a hidden variable is not displayed to the user in the workflow submission form. Hidden variables have the following usages:</p>
<div class="ulist">
<ul>
<li>
<p>perform <em>hidden checks</em> on other variables, defined by a variable model <em>SpEL expression</em>, see <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a> and <a href="ProActiveUserGuide.html#_spring_expression_language_model">Spring Expression Language Model</a>.</p>
</li>
<li>
<p>build <em>dynamic forms</em> where variables are displayed or hidden depending on the values of other variables, see <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a>, <a href="ProActiveUserGuide.html#_spring_expression_language_model">Spring Expression Language Model</a> and <a href="ProActiveUserGuide.html#_dynamic_forms">Dynamic form example using SpEL</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task ... &gt;
    &lt;variables&gt;
        &lt;variable name="variable" value="value" inherited="false" model=""/&gt;
    &lt;/variables&gt;
    ...
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Task variables can be used similarly to job variables using the pattern <code>${variable_name}</code> but only inside the task where the variable is defined.</p>
</div>
<div class="paragraph">
<p>Task variables <strong>override</strong> job variables, this means that if a job variable and a task variable are defined with the same name, the task variable value will be used inside the task (unless the task variable is marked as <strong>inherited</strong>), and the job variable value will be used elsewhere in the job.</p>
</div>
</div>
<div class="sect4">
<h5 id="_global_variables"><a class="anchor" href="ProActiveUserGuide.html#_global_variables"></a><a class="link" href="ProActiveUserGuide.html#_global_variables">Global Variables</a></h5>
<div class="paragraph">
<p>Global variables are <strong>job variables</strong> that are configured inside ProActive server and apply to all workflows or to certain categories of workflows (e.g. workflows with a given name).</p>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_configure_global_variables_and_generic_information">Configure Global Variables and Generic Information</a> section to understand how global variables can be configured on the ProActive server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_variable_model"><a class="anchor" href="ProActiveUserGuide.html#_variable_model"></a><a class="link" href="ProActiveUserGuide.html#_variable_model">Variable Model</a></h5>
<div class="paragraph">
<p>Job and Task variables can define a <code>model</code> attribute which let the workflow designer control the variable value syntax.
A workflow designer can for example decide that the variable NUMBER_OF_ENTRIES is expected to be convertible to an Integer ranged between 0 and 20.</p>
</div>
<div class="paragraph">
<p>The workflow designer will then provide a default value to the variable NUMBER_OF_ENTRIES, for example "10". This workflow is valid as "10" can be converted to an Integer and is between 0 and 20.</p>
</div>
<div class="paragraph">
<p>When submitting the workflow, it will be possible to choose a new value for the variable NUMBER_OF_ENTRIES.
If the user submitting the workflow chooses for example the value -5, the validation will fail and an error message will appear.</p>
</div>
<div class="sect5">
<h6 id="_available_models"><a class="anchor" href="ProActiveUserGuide.html#_available_models"></a><a class="link" href="ProActiveUserGuide.html#_available_models">Available Models</a></h6>
<div class="paragraph">
<p>The following list describes the various model syntaxes available:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Main variable models</p>
<div class="ulist">
<ul>
<li>
<p><strong>PA:INTEGER</strong> , <strong>PA:INTEGER[min,max]</strong> : variable can be converted to <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/lang/Integer.html">java.lang.Integer</a>, and eventually is contained in the range [min, max].<br>
Examples: PA:INTEGER will accept "-5" but not "1.4", PA:INTEGER[0,20] will accept "12" but not "25".</p>
</li>
<li>
<p><strong>PA:LONG</strong> , <strong>PA:LONG[min,max]</strong> : same as above with <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/lang/Long.html">java.lang.Long</a>.</p>
</li>
<li>
<p><strong>PA:FLOAT</strong> , <strong>PA:FLOAT[min,max]</strong> : same as above with <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/lang/Float.html">java.lang.Float</a>.<br>
Examples: PA:FLOAT[-0.33,5.99] will accept "3.5" but not "6".</p>
</li>
<li>
<p><strong>PA:DOUBLE</strong> , <strong>PA:DOUBLE[min,max]</strong> : same as above with <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/lang/Double.html">java.lang.Double</a>.</p>
</li>
<li>
<p><strong>PA:SHORT</strong> , <strong>PA:SHORT[min,max]</strong> : same as above with <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/lang/Short.html">java.lang.Short</a>.</p>
</li>
<li>
<p><strong>PA:BOOLEAN</strong> : variable is either "true", "false", "0" or "1".</p>
</li>
<li>
<p><strong>PA:NOT_EMPTY_STRING</strong> : variable must be provided with a non-empty string value.</p>
</li>
<li>
<p><strong>PA:HIDDEN</strong> : variable which allows the user to securely enter his/her value (i.e., each character is shown as an asterisk, so that it cannot be read.) while submitting the workflow.</p>
</li>
<li>
<p><strong>PA:URL</strong> : variable can be converted to <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/net/URL.html">java.net.URL</a>.<br>
Examples: PA:URL will accept "http://mysite.com" but not "c:/Temp".</p>
</li>
<li>
<p><strong>PA:URI</strong> : variable can be converted to <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/net/URI.html">java.net.URI</a>.<br>
Examples: PA:URI will accept "/tmp/file" but not "c:\a^~to" due to invalid characters.</p>
</li>
<li>
<p><strong>PA:LIST(item1,item2,&#8230;&#8203;)</strong> : variable must be one of the values defined in the list.<br>
Examples: PA:LIST(a,b,c) will accept "a", "b", "c" but no other value.</p>
</li>
<li>
<p><strong>PA:JSON</strong> : variable syntax must be a valid JSON expression as defined in <a href="http://www.json.org/">JSON doc</a>.<br>
Examples: PA:JSON will accept {"name": "John", "city":"New York"} and empty values like {} or [{},{}], but not ["test" : 123] (Unexpected character ':') and {test : 123} (Unexpected character 't').</p>
</li>
<li>
<p><strong>PA:REGEXP(pattern)</strong> : variable syntax must match the regular expression defined in the pattern. The regular expression syntax is described in class <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/util/regex/Pattern.html">Pattern</a>.<br>
Examples: PA:REGEXP([a-z]+) will accept "abc", "foo", but not "Foo".</p>
</li>
</ul>
</div>
</li>
<li>
<p>Advanced variable models</p>
<div class="ulist">
<ul>
<li>
<p><strong>PA:CATALOG_OBJECT</strong> :
use this type when you want to reference and use, in the current workflow, another object from the Catalog. Various portals and tools will make it easy to manage catalog objects. For instance, at Job submission, you will be able to browse the Catalog to select the needed object.<br>
Variable value syntax must be a valid expression that matches the following pattern: <code>bucketName/objectName[/revision]</code>.
Note that the revision sub-pattern is a hash code number represented by 13 digit.<br>
Examples: PA:CATALOG_OBJECT accepts "bucket-example/object-example" and "bucket-example/object-example/1539310165443" but not "bucket-example/object-example/153931016" (invalid revision number) nor "bucket-example/" (missing object name).</p>
</li>
<li>
<p><strong>PA:CATALOG_OBJECT(kind,contentType,bucketName,objectName)</strong> :
one or more filters can be specified in the specified order of the PA:CATALOG_OBJECT model to limit the accepted values. For example PA:CATALOG_OBJECT(kind) can be used to filter a specific <code>Kind</code>, PA:CATALOG_OBJECT(kind,contentType) to filter both <code>Kind</code> and <code>Content-type</code>, PA:CATALOG_OBJECT(,contentType) to filter only a <code>Content-type</code> (note the empty first parameter), etc&#8230;&#8203;<br>
In that case, the variable value must be a catalog object which matches the <code>Kind</code>, <code>Content type</code>, <code>BucketName</code> and/or <code>ObjectName</code> requirements (For more information regarding Kind and Content type click <a href="ProActiveUserGuide.html#_exportingimporting_objects_into_the_catalog">here</a>).<br>
Note that Kind and Content type are case insensitive and require a "startsWith" matching, while BucketName and ObjectName are case sensitive and, by default, require a "contains" matching.
That is, the Kind and the Content type of the provided catalog object must start with the filters specified in the model while BucketName and ObjectName of the catalog object should contain them.
The scheduler server verifies that the object exists in the catalog and fulfills the specified requirements when the workflow is submitted.<br>
Examples:</p>
<div class="ulist">
<ul>
<li>
<p>PA:CATALOG_OBJECT(Workflow/standard) accepts only standard workflow objects, that means PSA workflows or scripts are not valid values.</p>
</li>
<li>
<p>PA:CATALOG_OBJECT(Script, text/x-python) accepts a catalog object which is a Python script but not a workflow object or a Groovy script.</p>
</li>
<li>
<p>PA:CATALOG_OBJECT(,,basic-example, Native_Task) accepts catalog objects that are in buckets ia-basic-example or basic-example-python and named Native_Task or Native_Task_Python but not NATIVE_TASK.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>Notice that the default behaviour of BucketName or ObjectName filters can be modified by including the special character <code>%</code> that matches any word.
Hence, by adding <code>%</code> in the beginning (resp. end) of a BucketName or an ObjectName we mean that the filtered value should end (resp. start) with the specified string.<br>
Examples:</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p></p>
<div class="ulist none">
<ul class="none">
<li>
<p></p>
<div class="ulist">
<ul>
<li>
<p>PA:CATALOG_OBJECT(,,%basic-example) accepts catalog objects that are in buckets ia-basic-example or db-basic-example but not the ones in basic-example-python.</p>
</li>
<li>
<p>PA:CATALOG_OBJECT(,,,Native_Task%) accepts catalog objects that are named Native_Task or Native_Task_Python but not Simplified_Native_Task.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is possible to have a PA:CATALOG_OBJECT object variable that has an optional value by using the notation <code>PA:CATALOG_OBJECT?</code>. See <a href="ProActiveUserGuide.html#optional_variable">here</a>.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="openblock">
<div class="content">
<div class="ulist none">
<ul class="none">
<li>
<p></p>
<div class="ulist">
<ul>
<li>
<p><strong>PA:CREDENTIAL</strong> : variable whose value is a key of the <a href="ProActiveUserGuide.html#_third_party_credentials">ProActive Scheduler Third-Party Credentials</a> (which are stored on the server side in encrypted form). The variable allows the user to access a credential from the task implementation in a secure way (e.g., for a groovy task credentials.get(variables.get("MY_CRED_KEY")) instead of a plain-text. At workflow submission, the scheduler server verifies that the key exists in the 3rd party credentials of the user. In addition, the use of this model enables the user to manage her/his credentials via a graphical interface.</p>
</li>
<li>
<p><strong>PA:CRON</strong> : variable syntax must be a valid cron expression as defined in the  <a href="http://www.sauronsoftware.it/projects/cron4j/manual.php#p02">cron4j manual</a>. This model can be used for example to control the provided value to the <code>loop</code> control flow parameter.+
Examples: PA:CRON will accept "5 * * * *" but not "* * * *" (missing minutes sub-pattern).</p>
</li>
<li>
<p><strong>PA:DATETIME(format)</strong> , <strong>PA:DATETIME(format)[min,max]</strong> : variable can be converted to a <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/util/Date.html">java.util.Date</a> using the format specified (see the format definition syntax in the <a href="https://docs.oracle.com/javase/7/docs/api/index.html?java/text/SimpleDateFormat.html">SimpleDateFormat</a> class).<br>
A range can also be used in the PA:DATETIME model. In that case, each bound of the range must match the date format used.<br>
This model is used for example to control an input value used to trigger the execution of a task at a specific date time.</p>
<div class="paragraph">
<p>Examples:<br>
PA:DATETIME(yyyy-MM-dd) will accept "2014-12-01" but not "2014".<br>
PA:DATETIME(yyyy-MM-dd)[2014-01-01, 2015-01-01] will accept "2014-12-01" but not "2015-03-01".<br>
PA:DATETIME(yyyy-MM-dd)[2014, 2015] will result in an error during the workflow definition as the range bounds [2014, 2015] are not using the format yyyy-MM-dd.</p>
</div>
</li>
<li>
<p><strong>PA:MODEL_FROM_URL(url)</strong> : variable syntax must match the model fetched from the given URL. This can be used for example when the model needs to represent a list of elements which may evolve over time and is updated inside a file. Such as a list of machines in an infrastructure, a list of users, etc.<br>
See <a href="ProActiveUserGuide.html#_variable_model_using_resource_manager_data">Variable Model using Resource Manager data</a> for premade models based on the Resource Manager state.<br>
Examples: PA:MODEL_FROM_URL(<a href="file:///srv/machines_list_model.txt" class="bare">file:///srv/machines_list_model.txt</a>), if the file machines_list_model.txt contains PA:LIST(host1,host2), will accept only "host1" and "host2", but may accept other values as the machines_list_model file changes.</p>
</li>
<li>
<p><strong>PA:GLOBAL_FILE</strong> : variable whose value is the relative path of a file in the <a href="ProActiveUserGuide.html#_global_and_user_spaces">Global Data Space</a>. At workflow submission, the scheduler server verifies that the file exists in the global dataspace. In addition, this model enables the user to graphically browse the global dataspace to select a file as an input data for the workflow.</p>
</li>
<li>
<p><strong>PA:USER_FILE</strong> : variable whose value is the relative path of a file in the <a href="ProActiveUserGuide.html#_global_and_user_spaces">User Data Space</a>. At workflow submission, the scheduler server verifies that the file exists in the user dataspace. In addition, this model enables the user to graphically browse the user dataspace to select a file as an input data for the workflow.</p>
</li>
<li>
<p><strong>PA:GLOBAL_FOLDER</strong> : variable whose value is the relative path of a folder in the <a href="ProActiveUserGuide.html#_global_and_user_spaces">Global Data Space</a>. At workflow submission, the scheduler server verifies that the folder exists in the global dataspace. Note, the variable value should not end with a slash to avoid the problem of duplicate slash in its usage.</p>
</li>
<li>
<p><strong>PA:USER_FOLDER</strong> : variable whose value is the relative path of a folder in the <a href="ProActiveUserGuide.html#_global_and_user_spaces">User Data Space</a>. At workflow submission, the scheduler server verifies that the folder exists in the user dataspace. Note, the variable value should not end with a slash to avoid the problem of duplicate slash in its usage.</p>
</li>
<li>
<p><strong>PA:SPEL(SpEL expression)</strong> : variable syntax will be evaluated by a <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html">SpEL</a> expression. Refer to the next paragraph.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_variable_model_type_using_a_type_defined_dynamically_in_another_variable"><a class="anchor" href="ProActiveUserGuide.html#_variable_model_type_using_a_type_defined_dynamically_in_another_variable"></a><a class="link" href="ProActiveUserGuide.html#_variable_model_type_using_a_type_defined_dynamically_in_another_variable">Variable Model (Type) using a type defined dynamically in another Variable<br></a></h6>
<div class="paragraph">
<p>A Variable can use as its type a model that is defined in another variable.<br></p>
</div>
<div class="paragraph">
<p>To use such possibility, the workflow designer can simply use in the Model definition of another specific variable name proceeded by the character <code>$</code>.</p>
</div>
<div class="paragraph">
<p>When submitting the workflow, the user will have the ability to select the model dynamically by changing the value of the referenced variable. And then will be able to select the value of the first variable according to the selected type.<br></p>
</div>
<div class="paragraph">
<p>For example, if we have:<br>
<code>variable1</code> has as its model <code>PA:LIST(PA:GLOBAL_FILE, PA:INTEGER)</code><br>
<code>variable2</code> has as its model <code>$variable1</code><br>
Then the model of <code>variable2</code> is the value that the variable <code>variable1</code> will have in runtime. Thus, it will be either <code>PA:GLOBAL_FILE</code> or <code>PA:INTEGER</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="optional_variable"><a class="anchor" href="ProActiveUserGuide.html#optional_variable"></a><a class="link" href="ProActiveUserGuide.html#optional_variable">Optional Variable</a></h6>
<div class="paragraph">
<p>To define an <strong>optional variable</strong>, the workflow designer can simply add <code>?</code> at the end of the <code>model</code> attribute, such as <code>PA:INTEGER?</code>.</p>
</div>
<div class="paragraph">
<p>When submitting the workflow, it will be allowed to not provide a value for the optional variables.
The validation will only fail when the user fills in an invalid value.</p>
</div>
<div class="paragraph">
<p>For example, a variable <code>MY_OPTIONAL_INTEGER</code> defined as the model <code>PA:INTEGER?</code> will accept an empty string as the variable value, but it will refuse <code>1.4</code>.</p>
</div>
<div class="paragraph">
<p>All the available model syntaxes, except <code>PA:NOT_EMPTY_STRING</code> support to be defined as <strong>optional</strong>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_variable_model_using_resource_manager_data"><a class="anchor" href="ProActiveUserGuide.html#_variable_model_using_resource_manager_data"></a><a class="link" href="ProActiveUserGuide.html#_variable_model_using_resource_manager_data">Variable Model using Resource Manager data</a></h6>
<div class="paragraph">
<p>ProActive Resource Manager provides a set of REST endpoints which allow to create dynamic models based on the Resource Manager state.</p>
</div>
<div class="paragraph">
<p>These models are summarized in the following table. Models returned are PA:LIST types which allow to select a value in ProActive portals through a drop-down list.
The list always contain an empty value choice.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Resource Manager Models</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Metric Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Model Syntax</th>
<th class="tableblock halign-left valign-top">Example query/returned data</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All machine host names or ip addresses registered in the Resource Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/hosts)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PA:LIST(,try.activeeon.com,10.0.0.19)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hosts Filtered by Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All machine host names or ip addresses registered in the Resource Manager that match a given <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html">regular expression</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/hosts?name=regexp)</code></p>
<p class="tableblock"><em>Some characters of the regular expression must be encoded according to the <a href="https://en.wikipedia.org/wiki/URL_encoding">specification</a>.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?name=try%5Ba-z%5D*.activeeon.com &#8658; PA:LIST(,try.activeeon.com,trydev.activeeon.com,tryqa.activeeon.com)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Sources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All node sources registered in the Resource Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/nodesources)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PA:LIST(,Default,LocalNodes,GPU,Kubernetes)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Sources Filtered by Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All node sources registered in the Resource Manager that match a given <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html">regular expression</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/nodesources?name=regexp)</code></p>
<p class="tableblock"><em>Some characters of the regular expression must be encoded according to the <a href="https://en.wikipedia.org/wiki/URL_encoding">specification</a>.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?name=Azure.* &#8658; PA:LIST(,AzureScaleSet1,AzureScaleSet2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Sources Filtered by Infrastructure Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All node sources registered in the Resource Manager whose infrastructure type matches a given <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html">regular expression</a>. See <a href="../admin/ProActiveAdminGuide.html#_node_source_infrastructures">Node Source Infrastructures</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/nodesources?infrastructure=regexp)</code></p>
<p class="tableblock"><em>Some characters of the regular expression must be encoded according to the <a href="https://en.wikipedia.org/wiki/URL_encoding">specification</a>.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?infrastructure=Azure.* will return all node sources that have an AzureInfrastructure or AzureVMScaleSetInfrastructure types.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Sources Filtered by Policy Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All node sources registered in the Resource Manager whose policy type matches a given <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html">regular expression</a>. See <a href="../admin/ProActiveAdminGuide.html#_node_source_policies">Node Source Policies</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/nodesources?policy=regexp)</code></p>
<p class="tableblock"><em>Some characters of the regular expression must be encoded according to the <a href="https://en.wikipedia.org/wiki/URL_encoding">specification</a>.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?policy=Dynamic.* will return all node sources that have a DynamicPolicy type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokens</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All tokens registered in the Resource Manager (across all registered ProActive Nodes). See <a href="ProActiveUserGuide.html#_node_access_token">NODE_ACCESS_TOKEN</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/tokens)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PA:LIST(,token1,token2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokens Filtered by Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All tokens registered in the Resource Manager (across all registered ProActive Nodes) that match a given <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html">regular expression</a>. See <a href="ProActiveUserGuide.html#_node_access_token">NODE_ACCESS_TOKEN</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/tokens?name=regexp)</code></p>
<p class="tableblock"><em>Some characters of the regular expression must be encoded according to the <a href="https://en.wikipedia.org/wiki/URL_encoding">specification</a>.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?name=token.* &#8658; PA:LIST(,token1,token2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokens Filtered by Node Source</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All tokens registered in the given Node Source. This filter returns a list which contains tokens defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>globally on the Node Source.</p>
</li>
<li>
<p>on any Node which belongs to the Node Source.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="ProActiveUserGuide.html#_node_access_token">NODE_ACCESS_TOKEN</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA:MODEL_FROM_URL(${PA_SCHEDULER_REST_PUBLIC_URL}/rm/model/tokens?nodeSource=name)</code></p>
<p class="tableblock">The exact name of the target Node Source must be provided (check is case-sensitive).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?nodeSource=LocalNodes &#8658; PA:LIST(,token1,token2)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_spring_expression_language_model"><a class="anchor" href="ProActiveUserGuide.html#_spring_expression_language_model"></a><a class="link" href="ProActiveUserGuide.html#_spring_expression_language_model">Spring Expression Language Model</a></h6>
<div class="paragraph">
<p>The <code>PA:SPEL(expr)</code> model allows to define expressions able to validate a variable value or not. Additionally, this model can be used to validate multiple variable values or to dynamically update other variables.
The syntax of the SpEL expression is defined by the <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html">Spring Expression Language reference</a>.<br></p>
</div>
<div class="paragraph">
<p>For security concerns, we apply a restriction on the authorized class types. Besides the commonly used data types (Boolean, String, Long, Double, etc.), we authorize the use of <strong>ImmutableSet</strong>, <strong>ImmutableMap</strong>, <strong>ImmutableList</strong>, <strong>Math</strong>, <strong>Date</strong> types, <strong>JSONParser</strong> and <strong>ObjectMapper</strong> for <code>JSON</code> type and <strong>DocumentBuilderFactory</strong> for <code>XML</code> type.</p>
</div>
<div class="paragraph">
<p>In order to interact with variables, the expression has access to the following properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>#value</code>: this property will contain the value of the current variable defined by the user.</p>
</li>
<li>
<p><code>variables['variable_name']</code>: this property array contains all the variable values of the same context (for example of the same task for a task variable).</p>
</li>
<li>
<p><code>models['variable_name']</code>: this property array contains all the variable models of the same context (for example of the same task for a task variables).</p>
</li>
<li>
<p><code>valid</code>: can be set to <code>true</code> or <code>false</code> to validate or invalidate a variable.</p>
</li>
<li>
<p><code>temp</code>: can be set to a temporary object used in the SpEL expression.</p>
</li>
<li>
<p><code>tempMap</code>: an empty Hash Map structure which can be populated and used in the SpEL expression.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The expression has also access to the following functions (in addition to the functions available by default in the SpEL language):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>t(expression)</code>: evaluate the expression and return <code>true</code>.</p>
</li>
<li>
<p><code>f(expression)</code>: evaluate the expression and return <code>false</code>.</p>
</li>
<li>
<p><code>s(expression)</code>: evaluate the expression and return an empty string.</p>
</li>
<li>
<p><code>hideVar('variable name')</code>: hides the variable given in parameter. Used to build <a href="ProActiveUserGuide.html#_dynamic_forms">Dynamic form example using SpEL</a>. Returns <code>true</code> to allow chaining actions.</p>
</li>
<li>
<p><code>showVar('variable name')</code>: shows the variable given in parameter. Used to build <a href="ProActiveUserGuide.html#_dynamic_forms">Dynamic form example using SpEL</a>. Returns <code>true</code> to allow chaining actions.</p>
</li>
<li>
<p><code>hideGroup('group name')</code>: hides all variables belonging to the variable group given in parameter. Used to build <a href="ProActiveUserGuide.html#_dynamic_forms">Dynamic form example using SpEL</a>. Returns <code>true</code> to allow chaining actions.</p>
</li>
<li>
<p><code>showGroup('group name')</code>: shows all variables belonging to the variable group given in parameter. Used to build <a href="ProActiveUserGuide.html#_dynamic_forms">Dynamic form example using SpEL</a>. Returns <code>true</code> to allow chaining actions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The SpEL expression must either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>return a <strong>boolean value</strong>, <code>true</code> if the value is correct, <code>false</code> otherwise.</p>
</li>
<li>
<p>set the <strong>valid</strong> property to <code>true</code> or <code>false</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any other behavior will raise an error.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Example of SpEL simple validations:</strong><br></p>
<div class="paragraph">
<p><code>PA:SPEL(#value == 'abc')</code> : will accept the value if it&#8217;s the 'abc' string<br>
<code>PA:SPEL(T(Integer).parseInt(#value) &gt; 10)</code> : will accept the value if it&#8217;s an integer greater than 10.<br></p>
</div>
<div class="paragraph">
<p>Note that #value always contains a string and must be converted to other types if needed.<br></p>
</div>
</li>
<li>
<p><strong>Example of SpEL multiple validations:</strong><br></p>
<div class="paragraph">
<p><code>PA:SPEL(variables['var1'] + variables['var2'] == 'abcdef')</code> : will be accepted if the string concatenation of variable var1 and var2 is 'abcdef'.<br>
<code>PA:SPEL(T(Integer).parseInt(variables['var1']) + T(Integer).parseInt(variables['var2']) &lt; 100)</code> : will be accepted if the sum of variables var1 and var2 are smaller than 100.<br></p>
</div>
</li>
<li>
<p><strong>Example of SpEL variable inference:</strong><br></p>
<div class="paragraph">
<p><code>PA:SPEL( variables['var2'] == '' ? t(variables['var2'] = variables['var1']) : true )</code> : if the variable var2 is empty, it will use the value of variable var1 instead.<br></p>
</div>
</li>
<li>
<p><strong>Example of SpEL variable using ObjectMapper type:</strong><br></p>
<div class="paragraph">
<p><code>PA:SPEL( t(variables['var1'] = new org.codehaus.jackson.map.ObjectMapper().readTree('{"abc": "def"}').get('abc').getTextValue()) )</code> : will assign the value 'def' to the variable var1.<br></p>
</div>
</li>
<li>
<p><strong>Example of SpEL variable using DocumentBuilderFactory type:</strong><br></p>
<div class="paragraph">
<p><code>PA:SPEL( t(variables['var'] = T(javax.xml.parsers.DocumentBuilderFactory).newInstance().newDocumentBuilder().parse(new org.xml.sax.InputSource(new java.io.StringReader('&lt;employee id="101"&gt;&lt;name&gt;toto&lt;/name&gt;&lt;title&gt;tata&lt;/title&gt;&lt;/employee&gt;'))).getElementsByTagName('name').item(0).getTextContent()) )</code>: will assign the value 'toto' to the variable var1.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the SpEL expression must return a boolean value, this is why in the above expressions we use the <code>t(expression)</code> function to perform affectations and return a boolean <code>true</code> value.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_dynamic_forms"><a class="anchor" href="ProActiveUserGuide.html#_dynamic_forms"></a><a class="link" href="ProActiveUserGuide.html#_dynamic_forms">Dynamic form example using SpEL</a></h6>
<div class="paragraph">
<p>Using SpEL expressions, it is possible to show or hide variables based on the values of other variables. Thus, it allows to create <em>dynamic forms</em>.</p>
</div>
<div class="paragraph">
<p>Consider the following variables definition (attributes xml escaping has been removed for clarity):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;variables&gt;
    &lt;variable name="type" value="vegetable" model="PA:LIST(vegetable,fruit)" description="" group="" advanced="false" hidden="false"/&gt;
    &lt;variable name="potatoes" value="0" model="PA:INTEGER" description="Amount of potatoes to order (in kilograms)" group="vegetables" advanced="false" hidden="false"/&gt;
    &lt;variable name="leek" value="0" model="PA:INTEGER" description="Amount of leek to order (in kilograms)" group="vegetables" advanced="false" hidden="false"/&gt;
    &lt;variable name="apples" value="0" model="PA:INTEGER" description="Amount of apples to order (in kilograms)" group="fruits" advanced="false" hidden="true"/&gt;
    &lt;variable name="oranges" value="0" model="PA:INTEGER" description="Amount of oranges to order (in kilograms)" group="fruits" advanced="false" hidden="true"/&gt;
    &lt;variable name="type_handler" value="" model="PA:SPEL(variables['type'] == 'vegetable' ? showGroup('vegetables') &amp;&amp; hideGroup('fruits') : showGroup('fruits') &amp;&amp; hideGroup('vegetables'))" description="" group="" advanced="false" hidden="true"/&gt;
  &lt;/variables&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first variable <code>type</code> presents a choice to the user : select <em>fruits</em> or <em>vegetables</em>.
The last variable <code>type_handler</code>, which is hidden to the user, analyses this choice and displays either variables belonging to the <em>fruits</em> group or the <em>vegetables</em> group.
The <a href="ProActiveUserGuide.html#_spring_expression_language_model">SpEL</a> model associated with <code>type_handler</code> performs this operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>PA:SPEL(variables['type'] == 'vegetable' ? showGroup('vegetables') &amp;&amp; hideGroup('fruits') : showGroup('fruits') &amp;&amp; hideGroup('vegetables'))</pre>
</div>
</div>
<div class="paragraph">
<p>When <code>type</code> is equal to <code>fruit</code>, then the variables belonging to the <code>vegetables</code> group are hidden, and the variables belonging to the <code>fruits</code> group are shown. Respectively, the <code>vegetables</code> group is shown and the <code>fruits</code> group is hidden when <code>type</code> is equal to <code>vegetable</code>.</p>
</div>
<div class="paragraph">
<p>The complete workflow example can be downloaded <a href="https://trydev2.activeeon.com/doc/user/examples/my_basket.xml" target="_blank" rel="noopener">here</a>.</p>
</div>
<div class="paragraph">
<p>Here is how the variables are displayed when submitting the workflow:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://trydev2.activeeon.com/doc/images/vegetables.png" alt="Vegetables"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://trydev2.activeeon.com/doc/images/fruits.png" alt="Fruits"></span></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dynamic_variables"><a class="anchor" href="ProActiveUserGuide.html#_dynamic_variables"></a><a class="link" href="ProActiveUserGuide.html#_dynamic_variables">5.6.2. Dynamic Variables</a></h4>
<div class="paragraph">
<p>As opposed to <a href="ProActiveUserGuide.html#_workflow_variables">Workflow variables</a>, <strong>dynamic variables</strong> are created or manipulated directly when executing workflow tasks scripts,
through the use of the <code>variables</code> script binding map (see the <a href="ProActiveUserGuide.html#_script_bindings">Script Bindings chapter</a> or <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a> for more information about script bindings).
We have mainly two types of <strong>dynamic variables</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="ProActiveUserGuide.html#_system_variables">ProActive system variables</a>, declared by the ProActive scheduler.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_inherited_variables">Script variables</a>, created after adding values to the <code>variables</code> map.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_system_variables"><a class="anchor" href="ProActiveUserGuide.html#_system_variables"></a><a class="link" href="ProActiveUserGuide.html#_system_variables">ProActive system variables</a></h5>
<div class="paragraph">
<p>Some variables are implicitly defined by the Scheduler to retrieve runtime information about a job or a task.</p>
</div>
<div class="paragraph">
<p>Here is the list of ProActive system variables:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. ProActive variables</caption>
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 55.5555%;">
<col style="width: 22.2223%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> <strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_JOB_ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current job ID.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_JOB_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current job name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_TASK_ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current task ID.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_TASK_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current task name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_TASK_ITERATION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current iteration index, when using <a href="ProActiveUserGuide.html#_loop">looping</a>, starts at 0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_TASK_REPLICATION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current iteration index, when using a <a href="ProActiveUserGuide.html#_replicate">replication</a>, starts at 0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_TASK_PROGRESS_FILE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the progress file, used to set the task&#8217;s progress.</p>
<p class="tableblock">  You can import and use the utility class <code>org.ow2.proactive.scripting.helper.progress.ProgressFile</code> to read/write values to the file identified by this variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_SCHEDULER_HOME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to Scheduler home, where the Scheduler or the Node is installed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_NODESFILE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the hostfile when using a <a href="ProActiveUserGuide.html#_multi_node_task">multi nodes task</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_NODESNUMBER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of acquired nodes when using a <a href="ProActiveUserGuide.html#_multi_node_task">multi nodes task</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username of the ProActive user who has submitted the job.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_SCHEDULER_REST_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of scheduler REST api.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_SCHEDULER_REST_PUBLIC_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of scheduler REST public api if the setting pa.scheduler.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_CATALOG_REST_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of catalog REST api.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_CATALOG_REST_PUBLIC_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of catalog REST public api if the setting pa.catalog.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_CLOUD_AUTOMATION_REST_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of Service Automation REST api.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_CLOUD_AUTOMATION_REST_PUBLIC_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of Service Automation REST public api if the setting pa.cloud-automation.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_JOB_PLANNER_REST_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of job planner REST api.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_JOB_PLANNER_REST_PUBLIC_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of job planner REST public api if the setting pa.job-planner.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_NOTIFICATION_SERVICE_REST_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of notification service REST api.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PA_NOTIFICATION_SERVICE_REST_PUBLIC_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of notification service REST public api if the setting pa.notification-service.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>They can be used inside the workflow with the pattern syntax, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task ...&gt;
    ...
     &lt;forkEnvironment workingDir="/opt/${PA_JOB_ID}"&gt;&lt;/forkEnvironment&gt;
    ...
&lt;/task&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_inherited_variables"><a class="anchor" href="ProActiveUserGuide.html#_inherited_variables"></a><a class="link" href="ProActiveUserGuide.html#_inherited_variables">Script variables</a></h5>
<div class="paragraph">
<p>In addition to the ability to declare variables directly inside job XML definition, it is also possible to
dynamically read and write new variables while executing a task script with the <code>variables</code> map. This map of <code>variables</code> is bound to
hash type depending on the script engine you are using, for instance in native
Java as <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" target="_blank" rel="noopener">Map</a>.
In <strong>Groovy</strong>  as a global map, see below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">String var = variables.get("one_variable")
variables.put("other_variable", "foo")</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <strong>Groovy</strong> example above the first line retrieve the value of variable
<code>one_variable</code> from the <code>variables</code> map. The second line create a new entry  <code>other_variable</code> with value <code>foo</code>.
The <code>variables</code> map is propagated down the execution chain. If a task modifies a variable in the variables map,
or add a new variable, all dependent tasks will have access to this modification.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// task1
String var = variables.get("one_variable")
variables.put("one_variable", "foo")
variables.put("other_variable", "bar")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// task2 depends on task1
println variables.get("one_variable") // will display "foo"
println variables.get("other_variable") // will display "bar"</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a task depends on several tasks and each task modifies the same variable, the final value of the variable
which is propagated down the execution chain, depends on the <strong>order of task execution</strong>.
Therefore, the users need to take appropriate measures to prevent any undesired effects such as race conditions.</p>
</div>
<div class="paragraph">
<p>System variables can also be accessed from the <code>variables</code> map, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">println variables.get("PA_JOB_ID") // will display the id of the current job</code></pre>
</div>
</div>
<div class="paragraph">
<p>If using a <strong>Bash shell script</strong>, variables are accessible through environment variables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/bash
echo $variables_PA_TASK_NAME</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
In native tasks and Bash/CMD script engines, variables can be read but not written to.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For Java native script you can set any <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" target="_blank" rel="noopener">Java serializable object</a>
 as a variable value. They will be converted into strings using
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" target="_blank" rel="noopener">toString()</a>
 method when required, for instance, to make those values available as environment variables in native tasks.</p>
</div>
<div class="paragraph">
<p>The field variable tag has an <code>inherited</code> field, if this field is set as true a task variable will read
its value from the <strong>variables</strong> map instead of the <code>value</code> field in the XML definition.
In this case, the <strong>value</strong> field becomes optional and work as a default value.
Below a XML schema that shows two tasks: <strong>first</strong> and <strong>second</strong>. Task <strong>first</strong> insert a new
variable using <code>variables.put("inherited_var", "somevalue")</code>.
Task <strong>second</strong> declares <strong>inherited_var</strong>
but with <strong>defaultvalue</strong>, this value will be overwritten by the  <strong>first</strong> task, <code>variables.put("inherited_var", "somevalue")</code>.
Defining a default value  might be useful if for some reason the <strong>first</strong> task fails before inserting the <strong>inherited_var</strong>
on <strong>variables</strong> map. In this last case the <code>defaultvalue</code> remains unchanged.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="first" &gt;
    &lt;scriptExecutable&gt;
        &lt;script&gt;
            &lt;code language="groovy"&gt;
                &lt;![CDATA[
                variables.put("inherited_var", "somevalue")
                ]]&gt;
            &lt;/code&gt;
        &lt;/script&gt;
    &lt;/scriptExecutable&gt;
&lt;/task&gt;
...
&lt;task name="second"&gt;
    &lt;variables&gt;
        &lt;variable name="inherited_var" value="defaultvalue" inherited="true"/&gt;
    &lt;/variables&gt;
    &lt;depends&gt;
        &lt;task ref="before"/&gt;
    &lt;/depends&gt;
...
&lt;/task&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_dynamic_replacements"><a class="anchor" href="ProActiveUserGuide.html#_dynamic_replacements"></a><a class="link" href="ProActiveUserGuide.html#_dynamic_replacements">Dynamic replacements</a></h5>
<div class="paragraph">
<p>We&#8217;ve seen in <a href="ProActiveUserGuide.html#_job_variables">Job variables</a> that we can use the <code>${varname}</code> syntax to create and access variables.
Dynamic replacement is in charge to resolve variables just before the execution of task script, or
in case of job variables, just before submitting the job.
We can also combine recursive definitions of variables.</p>
</div>
<div class="paragraph">
<p>For example, one could write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;job ...&gt;
    ...
    &lt;variables&gt;
        &lt;variable name="job_var" value="hello" model=""/&gt;
        &lt;variable name="job_var2" value="${job_var}" model=""/&gt;
        &lt;variable name="job_var3" value="${job_var2}" model=""/&gt;
    &lt;/variables&gt;
    ...
&lt;/job&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The dynamic replacement will resolve <code>job_var3</code> to <code>hello</code> just before submitting the job to the scheduler.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
We can use job variable references in task variables but not otherwise.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When dynamic replacing a task script variable the resolution happens just before running the task. So we can
 use the <code>variables</code> map value. The example below will print "hello world" because <code>hello</code> is recursively
 resolved at job level assigning <code>hello world</code> to <code>inherited_var</code>. When <code>task_2</code> starts its local
    variable <code>task_var2</code> is dynamically replaced by <code>hello world</code>, i.e., the content of <code>inherited_var</code> that was
    inserted in the <code>variables</code> map by the previous task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;job ... &gt;
  &lt;variables&gt;
    &lt;variable name="job_var" value="hello" model=""/&gt;
    &lt;variable name="job_var2" value="${job_var}" model=""/&gt;
  &lt;/variables&gt;
  &lt;taskFlow&gt;
    &lt;task name="task_1" &gt;
      &lt;scriptExecutable&gt;
        &lt;script&gt;
          &lt;code language="groovy"&gt;
            &lt;![CDATA[
            variables.put("inherited_var", "\${job_var2} world")
            ]]&gt;
          &lt;/code&gt;
        &lt;/script&gt;
      &lt;/scriptExecutable&gt;
    &lt;/task&gt;
    &lt;task name="task_2"&gt;
      &lt;variables&gt;
        &lt;variable name="task_var2" value="${inherited_var}" inherited="false"/&gt;
      &lt;/variables&gt;
      &lt;depends&gt;
        &lt;task ref="task_1"/&gt;
      &lt;/depends&gt;
      &lt;scriptExecutable&gt;
        &lt;script&gt;
          &lt;code language="groovy"&gt;
            &lt;![CDATA[
            println ""+variables.get("task_var2")
            ]]&gt;
          &lt;/code&gt;
        &lt;/script&gt;
      &lt;/scriptExecutable&gt;
    &lt;/task&gt;
  &lt;/taskFlow&gt;
&lt;/job&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that we can combine recursive definitions of variables.</p>
</div>
<div class="paragraph">
<p>For example, one could write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task ...&gt;
    ...
     &lt;forkEnvironment workingDir="/opt/${DIRECTORY_${PA_TASK_REPLICATION}}"&gt;&lt;/forkEnvironment&gt;
    ...
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In that case, the variable <code>DIRECTORY_0</code> or <code>DIRECTORY_1</code>, etc (depending on the replication index) will be used in the working dir attribute.</p>
</div>
<div class="paragraph">
<p>Pattern variable replacements may be performed at submission time or at execution time:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A replacement performed at <strong>execution time</strong> means that the replacement is executed only when the task enclosing the replacement is executed.</p>
</li>
<li>
<p>A replacement performed at <strong>submission time</strong> means that the replacement is directly executed when the job is submitted to the scheduler.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Replacements directly using global job or task variables will always be performed at submission time.</p>
</div>
<div class="paragraph">
<p>In the following example, the description replacement is performed at submission time:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;job ... &gt;
    &lt;variables&gt;
        &lt;variable name="description" value="My ProActive workflow"/&gt;
    &lt;/variables&gt;
    ...
    &lt;task ... &gt;
        &lt;description&gt;${description}&lt;/description&gt;

    &lt;/task&gt;
&lt;/job&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Replacements using system variables, such as the workingDir example above, will always be performed at execution time.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_generic_information"><a class="anchor" href="ProActiveUserGuide.html#_generic_information"></a><a class="link" href="ProActiveUserGuide.html#_generic_information">5.7. Generic Information</a></h3>
<div class="paragraph">
<p>In addition to variables, another key/value structure can be accessed inside a script: <strong><em>Generic Information</em></strong>.</p>
</div>
<div class="paragraph">
<p>Generic information semantics differ from <a href="ProActiveUserGuide.html#_job_variables">Job variables</a> semantics in the following way:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generic information can be accessed inside a script, but cannot be modified.</p>
</li>
<li>
<p>Generic information can be defined at <strong>job-level</strong> or at <strong>task-level</strong>. If the same generic information is defined both at job-level and at task-level, the latter value takes precedence inside the task scope.</p>
</li>
<li>
<p>Generic information cannot be used directly inside the workflow with the syntax ${} (See  <a href="ProActiveUserGuide.html#_job_variables">Job variables</a>).</p>
</li>
<li>
<p>Generic information are used in general internally by the scheduler, for example to provide information to the scheduling loop on how to handle the task. An example of such generic information is the <em>START_AT</em> info used inside <a href="ProActiveUserGuide.html#_cron_tasks">Cron Tasks</a>.</p>
</li>
<li>
<p>Generic information can use in their definition job/task variables patterns, pattern replacements can be done at execution time when using task generic information.</p>
</li>
<li>
<p>Generic information need in most cases to be defined manually by the workflow designer, but some generic information such as <em>PARENT_JOB_ID</em> are defined automatically by ProActive.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example of a generic information definition:</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task ... &gt;
    &lt;genericInformation&gt;
        &lt;info name="ginfo" value="${test}"/&gt;
    &lt;/genericInformation&gt;
    ...
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some generic information can also be configured globally on the ProActive server. These <strong>global generic information</strong> will then apply to all submitted workflows or to certain categories of workflows (e.g. workflows with a given name). Global generic information are <strong>job-level</strong> only.</p>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_configure_global_variables_and_generic_information">Configure Global Variables and Generic Information</a> section to understand how global generic information can be configured on the ProActive server.</p>
</div>
<div class="paragraph">
<p>The following table describes all available generic information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Generic Information</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mode</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Example</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Resource Manager</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_node_access_token">NODE_ACCESS_TOKEN</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">execute task(s) on node(s) with token-based usage restriction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">my_token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_node_source_generic_info">NODE_SOURCE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">execute task(s) on node(s) belonging to the given node source. Provision nodes if needed similarly to <a href="ProActiveUserGuide.html#_native_scheduler">NS</a> or <a href="ProActiveUserGuide.html#_nodesourcename">NODESOURCENAME</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyNodeSource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_native_scheduler">NS</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">run the task on a <a href="https://trydev2.activeeon.com/doc/admin/ProActiveAdminGuide.html.html#_deploy_via_other_schedulers">Native Scheduler Node Source</a>. Provision a new node to run the task on the associated cluster. Value is the Node Source name. <strong>Deprecated</strong>, consider using <a href="ProActiveUserGuide.html#_node_source_generic_info">NODE_SOURCE</a> instead.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level,task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLURM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_native_scheduler">NS_BATCH</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extra parameters given to the native scheduler command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level,task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-q queue1 -lnodes=2:ppn=2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_native_scheduler">NS_PRE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command run before the ProActive Node is started inside the Native Scheduler infrastructure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level,task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">module load mpi/gcc/openmpi-1.6.4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_nodesourcename">NODESOURCENAME</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">run the task on a Node Source controlled by a <a href="https://trydev2.activeeon.com/doc/admin/ProActiveAdminGuide.html.html#_dynamic_policy">Dynamic Policy</a> (generally cloud node sources). Provision a new node to run the task on the associated node source. Value is the Node Source name. <strong>Deprecated</strong>, consider using <a href="ProActiveUserGuide.html#_node_source_generic_info">NODE_SOURCE</a> instead.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level,task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Azure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_resource_tags">RESOURCE_TAGS</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add tags to cloud instances acquired by a Node Source controlled by a <a href="https://trydev2.activeeon.com/doc/admin/ProActiveAdminGuide.html.html#_dynamic_policy">Dynamic Policy</a> (only available when the associated infrastructure is an <a href="https://trydev2.activeeon.com/doc/admin/ProActiveAdminGuide.html.html#_azure_scale_set_infrastructure">Azure Scale Set Infrastructure</a>). Definition must be a json key/value structure which contain tag names and values.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level,task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{
"tagName1" :  "tagValue1",
"tagName2" :  "tagValue2"
}</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Scheduling</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_start_at">START_AT</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delay a job or task execution at a specified date/time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020-06-20T18:00:00+02:00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_earliest_deadline_first_policy">JOB_DDL</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job deadline used in <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.html.html#_earliest_deadline_first_edf_policy">Earliest Deadline First Scheduling Policy</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+5:30:00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_earliest_deadline_first_policy">JOB_EXEC_TIME</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job expected execution time used in <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.html.html#_earliest_deadline_first_edf_policy">Earliest Deadline First Scheduling Policy</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1:00:00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_walltime">WALLTIME</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum execution time of a task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10:00</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>User Interface</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_parent_job_id">PARENT_JOB_ID</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the id of the parent job (if the current job has been submitted from another workflow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_documentation">Documentation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a documentation link to the workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http://my-server/my-doc.html</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_documentation">task.documentation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a documentation link to the task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http://my-server/my-doc.html</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_icon_management">workflow.icon</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add an icon to the workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http://my-server/my-icon.png</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_icon_management">task.icon</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add an icon to the task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http://my-server/my-icon.png</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_job_planner">calendar.name</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generic information automatically added by the Job Planner. It contains the name of the calendar based on which the job is planned.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">every_10_minutes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_job_planner">next.execution</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generic information automatically added by the Job Planner. It contains the next execution date of the job.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2022-04-26 12:50:00 CEST</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_submission_mode">submission.mode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the origin from which the job was submitted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-planner</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Notification</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_email">EMAIL</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send email to recipient(s) based on job state events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="mailto:user@example.com">user@example.com</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_email">NOTIFICATION_EVENTS</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a list of job events associated with email notifications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JOB_PENDING_TO_RUNNING, JOB_RUNNING_TO_FINISHED</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Housekeeping</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_remove_delay">REMOVE_DELAY</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">once the job is terminated, this setting controls the delay after which it will be removed from the scheduler database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3d 12h</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_remove_delay">REMOVE_DELAY_ON_ERROR</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">once the job is terminated with errors, this setting controls the delay after which it will be removed from the scheduler database. This generic information should be set in addition to REMOVE_DELAY when there is a need to keep the job longer in the scheduler database in case of error.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3d 12h</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Task Control</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_disable_ptk">DISABLE_PTK</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">skip sub-process cleaning after the task is terminated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_pre_script_as_file">PRE_SCRIPT_AS_FILE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">skip pre-script execution and store its content as a file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">my_prescript.py</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Result Format</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_result_metadata">content.type</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign a MIME content type to a byte array task result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image/png</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_result_metadata">file.name</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign a file name to a byte array task result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">image_balloon.png</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_result_metadata">file.extension</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign a file extension to a byte array task result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.png</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Run As User</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_run_as_me_generic_info">RUNAS_METHOD</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the impersonation method used when executing the task. Can be <code>pwd</code>, <code>key</code> or <code>none</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pwd</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_run_as_me_generic_info">RUNAS_USER</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the login name used during the impersonation. This allows to run a task under a different user as the user who submitted the workflow.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bob</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_run_as_me_generic_info">RUNAS_DOMAIN</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows defining or overriding a user domain that will be attached to the impersonated user. User domains are only used on Windows operating systems.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyOrganisation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_run_as_me_generic_info">RUNAS_PWD</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the password attached to the impersonated user. This can be used only when the impersonation method is set to <code>pwd</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyPassword</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_run_as_me_generic_info">RUNAS_PWD_CRED</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to RUNAS_PWD but the password will be defined inside <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.adoc#_third_party_credentials">Third-Party Credential</a> instead of inlined in the workflow. This method of defining the password should be preferred to RUNAS_PWD for security reasons. The value of RUNAS_PWD_CRED must be the third-party credential name containing the user password.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyPasswordCredName</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_run_as_me_generic_info">RUNAS_SSH_KEY_CRED</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the SSH private key attached to the impersonated user. This can be used only when the impersonation method is set to <code>key</code>. The private key will be defined inside <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.adoc#_third_party_credentials">Third-Party Credential</a> instead of inlined in the workflow. The value of RUNAS_SSH_KEY_CRED must be the third-party credential name containing the SSH key.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySSHKeyCredName</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>CPython engine</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_python_command">PYTHON_COMMAND</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Python command to use in <a href="ProActiveUserGuide.html#_python">CPython script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">python3</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Docker Compose engine</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_docker_compose_options">docker-compose-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">general parameters given to the docker-compose command in <a href="ProActiveUserGuide.html#_docker_compose">Docker Compose script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--verbose</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_docker_compose_options">docker-compose-up-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">general parameters given to the docker-compose up command in <a href="ProActiveUserGuide.html#_docker_compose">Docker Compose script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--exit-code-from helloworld</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_docker_compose_options">docker-compose-options-split-regex</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declare a string to be used as options separator in <a href="ProActiveUserGuide.html#_docker_compose">Docker Compose script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!SPLIT!</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="5"><p class="tableblock"><strong>Dockerfile engine</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-actions</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">actions to perform in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">build,run</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-image-tag</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag identifying the docker image in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">my-image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-container-tag</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag identifying the docker container in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">my-container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-build-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">options given to the <code>docker build</code> command in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--no-cache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-run-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">options given to the <code>docker run</code> command in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--detach</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-exec-command</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command given to <code>docker exec</code>, if used in <strong>docker-actions</strong>. See <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/bin/sh -c echo 'hello'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-exec-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">options given to the <code>docker exec</code> command in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-t -w /my/work/dir</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-stop-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">options given to the <code>docker stop</code> command in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--time 20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-rm-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">options given to the <code>docker rm</code> command in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--volumes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-rmi-options</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">options given to the <code>docker rmi</code> command in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--force</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_dockerfile_options">docker-file-options-split-regex</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declare a string to be used as options separator in <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script engine</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">job-level, task-level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!SPLIT!</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_start_at"><a class="anchor" href="ProActiveUserGuide.html#_start_at"></a><a class="link" href="ProActiveUserGuide.html#_start_at">5.7.1. START_AT</a></h4>
<div class="paragraph">
<p>The <code>START_AT</code> Generic Information can be used to delay a job or task execution at a specified date/time.
Its value should be <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">ISO 8601</a> compliant. See <a href="ProActiveUserGuide.html#_cron_tasks">Cron Tasks</a> for more details.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>START_AT = "2020-06-20T18:00:00"</code> will delay the job execution until 20th June 2020 at 6pm GMT.</p>
</li>
<li>
<p><code>START_AT = "2020-06-20T18:00:00+02:00"</code> will delay the job execution until 20th June 2020 at 6pm GMT+02:00.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>START_AT</code> can be defined at <strong>job-level</strong> (delay the execution of the whole job) or at  <strong>task-level</strong> (delay the execution of a single task).</p>
</div>
</div>
<div class="sect3">
<h4 id="_parent_job_id"><a class="anchor" href="ProActiveUserGuide.html#_parent_job_id"></a><a class="link" href="ProActiveUserGuide.html#_parent_job_id">5.7.2. PARENT_JOB_ID</a></h4>
<div class="paragraph">
<p>The <code>PARENT_JOB_ID</code> Generic Information is set automatically by ProActive when the current job has been submitted from another workflow using the <a href="ProActiveUserGuide.html#_scheduler_api">Scheduler API</a>.
It contains the id of the parent job which submitted the current job.</p>
</div>
<div class="paragraph">
<p><code>PARENT_JOB_ID</code> is defined at <strong>job-level</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_node_access_token"><a class="anchor" href="ProActiveUserGuide.html#_node_access_token"></a><a class="link" href="ProActiveUserGuide.html#_node_access_token">5.7.3. NODE_ACCESS_TOKEN</a></h4>
<div class="paragraph">
<p>The <code>NODE_ACCESS_TOKEN</code> Generic Information can be used to execute a task or all tasks of a workflow to specific nodes restricted by tokens.</p>
</div>
<div class="paragraph">
<p>The value of <code>NODE_ACCESS_TOKEN</code> must contain the token value. Workflows or tasks with <code>NODE_ACCESS_TOKEN</code> enabled will run exclusively on nodes containing the token.</p>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_policy_common_parameters">Node Source Policy Parameters</a> for further information on node token restrictions.</p>
</div>
<div class="paragraph">
<p><code>NODE_ACCESS_TOKEN</code> can be defined at <strong>job-level</strong> (applies to all tasks of a workflow) or at  <strong>task-level</strong> (applies to a single task).</p>
</div>
</div>
<div class="sect3">
<h4 id="_email"><a class="anchor" href="ProActiveUserGuide.html#_email"></a><a class="link" href="ProActiveUserGuide.html#_email">5.7.4. Email</a></h4>
<div class="paragraph">
<p>Email notifications on job events can be enabled on workflows using the following generic information:</p>
</div>
<div class="paragraph">
<p><code>EMAIL</code>: contains the email address(es) of recipient(s) which should be notified.</p>
</div>
<div class="paragraph">
<p><code>NOTIFICATION_EVENTS</code>: contains the set of events which should trigger a notification.</p>
</div>
<div class="paragraph">
<p>These generic information can be defined at <strong>job-level</strong> only.</p>
</div>
<div class="paragraph">
<p>See <a href="ProActiveUserGuide.html#_get_notifications_on_job_events">Get Notifications on Job Events</a> for further information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_remove_delay"><a class="anchor" href="ProActiveUserGuide.html#_remove_delay"></a><a class="link" href="ProActiveUserGuide.html#_remove_delay">5.7.5. REMOVE_DELAY</a></h4>
<div class="paragraph">
<p>The <code>REMOVE_DELAY</code> generic information can be used to control when a job is removed from the scheduler database after its termination.</p>
</div>
<div class="paragraph">
<p>The <a href="../admin/ProActiveAdminGuide.html#_housekeeping">housekeeping mechanism</a> must be configured to allow usage of <code>REMOVE_DELAY</code>.</p>
</div>
<div class="paragraph">
<p><code>REMOVE_DELAY</code> overrides the global <code>pa.scheduler.core.automaticremovejobdelay</code> setting for a particular job.
It allows a job to be removed either <strong>before</strong> or <strong>after</strong> the delay configured globally on the server.</p>
</div>
<div class="paragraph">
<p>The general format of the <code>REMOVE_DELAY</code> generic information is <code>VVd XXh YYm ZZs</code>, where VV contain days, XX hours, YY minutes and ZZ seconds.</p>
</div>
<div class="paragraph">
<p>The format allows flexible combinations of the elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>12d 1h 10m</code>: 12 days, 1 hour and 10 minutes.</p>
</li>
<li>
<p><code>26h</code>: 26 hours.</p>
</li>
<li>
<p><code>120m 12s</code>: 120 minutes and 12 seconds.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>REMOVE_DELAY</code> can be defined at <strong>job-level</strong> only.</p>
</div>
</div>
<div class="sect3">
<h4 id="_remove_delay_on_error"><a class="anchor" href="ProActiveUserGuide.html#_remove_delay_on_error"></a><a class="link" href="ProActiveUserGuide.html#_remove_delay_on_error">5.7.6. REMOVE_DELAY_ON_ERROR</a></h4>
<div class="paragraph">
<p>The <code>REMOVE_DELAY_ON_ERROR</code> generic information can be used to control when a job is removed from the scheduler database after its termination, if the job has terminated with errors.</p>
</div>
<div class="paragraph">
<p>The <a href="../admin/ProActiveAdminGuide.html#_housekeeping">housekeeping mechanism</a> must be configured to allow usage of <code>REMOVE_DELAY_ON_ERROR</code>.</p>
</div>
<div class="paragraph">
<p><code>REMOVE_DELAY_ON_ERROR</code> overrides the global <code>pa.scheduler.core.automaticremove.errorjob.delay</code> setting for a particular job.
It allows a job to be removed either <strong>before</strong> or <strong>after</strong> the delay configured globally on the server.</p>
</div>
<div class="paragraph">
<p>The general format of the <code>REMOVE_DELAY_ON_ERROR</code> generic information is <code>VVd XXh YYm ZZs</code>, where VV contain days, XX hours, YY minutes and ZZ seconds.</p>
</div>
<div class="paragraph">
<p>The format allows flexible combinations of the elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>12d 1h 10m</code>: 12 days, 1 hour and 10 minutes.</p>
</li>
<li>
<p><code>26h</code>: 26 hours.</p>
</li>
<li>
<p><code>120m 12s</code>: 120 minutes and 12 seconds.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>REMOVE_DELAY_ON_ERROR</code> can be defined at <strong>job-level</strong> only.</p>
</div>
</div>
<div class="sect3">
<h4 id="_earliest_deadline_first_policy"><a class="anchor" href="ProActiveUserGuide.html#_earliest_deadline_first_policy"></a><a class="link" href="ProActiveUserGuide.html#_earliest_deadline_first_policy">5.7.7. Earliest Deadline First Policy</a></h4>
<div class="paragraph">
<p>The <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.html.html#_earliest_deadline_first_edf_policy">Earliest Deadline First Policy</a> is a <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.html.html#_scheduling_policies">Scheduling Policy</a> which can be enabled in the ProActive Scheduler server.</p>
</div>
<div class="paragraph">
<p>When enabled, this policy uses the following generic information to determine jobs deadlines and expected duration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JOB_DDL</code>: represents the job deadline in absolute (e.g. <code>2018-08-14T08:40:30+02:00</code>) or relative to submission (e.g. <code>+4:30</code>) format.</p>
</li>
<li>
<p><code>JOB_EXEC_TIME</code>: represents job expected execution time in the format HH:mm:ss, mm:ss or ss (e.g. <code>4:30</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.html.html#_earliest_deadline_first_edf_policy">Earliest Deadline First Policy</a> for further information.</p>
</div>
<div class="paragraph">
<p><code>JOB_DDL</code> and <code>JOB_EXEC_TIME</code> can be defined at <strong>job-level</strong> only.</p>
</div>
</div>
<div class="sect3">
<h4 id="_disable_ptk"><a class="anchor" href="ProActiveUserGuide.html#_disable_ptk"></a><a class="link" href="ProActiveUserGuide.html#_disable_ptk">5.7.8. DISABLE_PTK</a></h4>
<div class="paragraph">
<p>The <code>DISABLE_PTK</code> Generic Information can be used to prevent the <strong>Process Tree Killer</strong> from running after a task execution.</p>
</div>
<div class="paragraph">
<p>Disabling the Process Tree Killer is mostly useful when a task requires to start a backgroud process which must remain alive after the task terminates.</p>
</div>
<div class="paragraph">
<p>Simply define a <code>DISABLE_PTK=true</code> generic information on any given task to prevent the Process Tree Killer from running.</p>
</div>
<div class="paragraph">
<p>More information is available in the <a href="../admin/ProActiveAdminGuide.html#_task_termination_behavior">Task Termination Behavior</a> section.</p>
</div>
<div class="paragraph">
<p><code>DISABLE_PTK</code> can be defined at <strong>task-level</strong> only.</p>
</div>
</div>
<div class="sect3">
<h4 id="_walltime"><a class="anchor" href="ProActiveUserGuide.html#_walltime"></a><a class="link" href="ProActiveUserGuide.html#_walltime">5.7.9. WALLTIME</a></h4>
<div class="paragraph">
<p>The <code>WALLTIME</code> Generic Information can be used to enforce a <strong>maximum execution time</strong> for a task, or all tasks of a workflow.</p>
</div>
<div class="paragraph">
<p>The general format of the walltime attribute is <code>[hh:mm:ss]</code>, where h is hour, m is minute and s is second.
The format still allows for more flexibility. We can define the walltime simply as <code>5</code> which corresponds to
5 seconds, <code>10</code> is 10 seconds, <code>4:10</code> is 4 minutes and 10 seconds, and so on.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When used at job-level, the configured walltime will not be applied to the workflow globally but to each individual task of the workflow.</p>
</div>
<div class="paragraph">
<p>For example, if the walltime is configured at job-level to be ten minutes, each task of the workflow can run no more than ten minutes, but the workflow itself has no time limitation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As the walltime can also be configured directly in the workflow (xml attribute) or globally on the scheduler server (scheduler property), an order of priority applies.</p>
</div>
<div class="paragraph">
<p>More information is available in the <a href="ProActiveUserGuide.html#_maximum_execution_time_for_a_task">Maximum execution time for a task</a> section.</p>
</div>
<div class="paragraph">
<p><code>WALLTIME</code> can be defined at <strong>job-level</strong> or <strong>task-level</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pre_script_as_file"><a class="anchor" href="ProActiveUserGuide.html#_pre_script_as_file"></a><a class="link" href="ProActiveUserGuide.html#_pre_script_as_file">5.7.10. PRE_SCRIPT_AS_FILE</a></h4>
<div class="paragraph">
<p>The <code>PRE_SCRIPT_AS_FILE</code> Generic Information can be used to store a task pre-script into a file and skip its execution.
It can be used for example to embed inside a workflow a data file or a file written in a script language not supported by ProActive tasks and delegate its execution to a command-line interpreter.</p>
</div>
<div class="paragraph">
<p>More information is available in the <a href="ProActiveUserGuide.html#_save_script">Save script</a> section.</p>
</div>
<div class="paragraph">
<p><code>PRE_SCRIPT_AS_FILE</code> can be defined at <strong>task-level</strong> only.</p>
</div>
</div>
<div class="sect3">
<h4 id="_node_source_generic_info"><a class="anchor" href="ProActiveUserGuide.html#_node_source_generic_info"></a><a class="link" href="ProActiveUserGuide.html#_node_source_generic_info">5.7.11. NODE_SOURCE</a></h4>
<div class="paragraph">
<p><code>NODE_SOURCE</code> is a multipurpose generic information which allows selecting only nodes that belong to the specified <em>Node Source</em>.</p>
</div>
<div class="paragraph">
<p>Other than selecting nodes, it allows also the dynamic provisioning of nodes when the selected Node Source is controlled by a <a href="../admin/ProActiveAdminGuide.html#_dynamic_policy">Dynamic Policy</a> or is a
<a href="../admin/ProActiveAdminGuide.html#_execute_tasks_on_a_native_scheduler_node_source">Native Scheduler Node Source</a>.</p>
</div>
<div class="paragraph">
<p><code>NODE_SOURCE</code> should be preferred to using <a href="ProActiveUserGuide.html#_native_scheduler">NS</a> or <a href="ProActiveUserGuide.html#_nodesourcename">NODESOURCENAME</a> generic information.</p>
</div>
<div class="paragraph">
<p>Example usages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NODE_SOURCE=LocalNodes</code> &#8658; the task will run exclusively on nodes that belong to the <em>LocalNodes</em> node source.</p>
</li>
<li>
<p><code>NODE_SOURCE=AzureNodeSource</code> &#8658; will dynamically provision nodes in <em>AzureNodeSource</em> (here <em>AzureNodeSource</em> refer to an <em>AzureInfrastructure</em> node source controlled by a <em>DynamicPolicy</em>) and run the task in the provisioned node.</p>
</li>
<li>
<p><code>NODE_SOURCE=SlurmNodeSource</code> &#8658; will dynamically provision nodes in a Slurm cluster attached to <em>SlurmNodeSource</em> (here <em>SlurmNodeSource</em> refer to a <em>NativeSchedulerInfrastructure</em> node source) and run the task in the provisioned node.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>NODE_SOURCE</code> can be defined at <strong>job-level</strong> (applies to all tasks of a workflow) or at  <strong>task-level</strong> (applies to a single task).</p>
</div>
</div>
<div class="sect3">
<h4 id="_native_scheduler"><a class="anchor" href="ProActiveUserGuide.html#_native_scheduler"></a><a class="link" href="ProActiveUserGuide.html#_native_scheduler">5.7.12. Native Scheduler</a></h4>
<div class="paragraph">
<p><code>NS</code> (short for <strong>Native Scheduler</strong>), <code>NS_BATCH</code> and <code>NS_PRE</code> are Generic Information used to deploy and configure workflow tasks inside a <strong>Native Scheduler infrastructure</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NS</code>: execute a task associated with this generic information inside a ProActive Node Source interacting with a native scheduler.
The Node Source will dynamically deploy a Node to execute a task marked with this generic information.
<strong>Deprecated</strong>, consider using <a href="ProActiveUserGuide.html#_node_source_generic_info">NODE_SOURCE</a> instead.
The value of this generic information can be:</p>
<div class="ulist">
<ul>
<li>
<p>equal to the node source name. Example: <code>NS=Slurm</code>.</p>
</li>
<li>
<p><code>true</code> to select any Native Scheduler node source.</p>
</li>
<li>
<p><code>false</code> to disallow executing the task on a Native Scheduler node source.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>NS_BATCH</code>: allows providing additional parameters to the native scheduler. Example: <code>NS_BATCH=-q queue1 -lnodes=2:ppn=2</code>.</p>
</li>
<li>
<p><code>NS_PRE</code>: allows providing a single line command which will be executed before the ProActive Node on the cluster. Example: <code>NS_PRE=module load mpi/gcc/openmpi-1.6.4</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_execute_tasks_on_a_native_scheduler_node_source">Execute Tasks on a Native Scheduler Node Source</a> for more information.</p>
</div>
<div class="paragraph">
<p><code>NS</code>, <code>NS_BATCH</code> and <code>NS_PRE</code> can be defined at <strong>job-level</strong> (applies to all tasks of a workflow) or at <strong>task-level</strong> (applies to a single task).</p>
</div>
</div>
<div class="sect3">
<h4 id="_nodesourcename"><a class="anchor" href="ProActiveUserGuide.html#_nodesourcename"></a><a class="link" href="ProActiveUserGuide.html#_nodesourcename">5.7.13. NODESOURCENAME</a></h4>
<div class="paragraph">
<p><code>NODESOURCENAME</code> is used to deploy workflow tasks in a Node Source controlled by a <strong>Dynamic Policy</strong>.
The Node Source will dynamically deploy a Node to execute a task marked with this generic information.</p>
</div>
<div class="paragraph">
<p><strong>Deprecated</strong>, consider using <a href="ProActiveUserGuide.html#_node_source_generic_info">NODE_SOURCE</a> instead.</p>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_dynamic_policy">Dynamic Policy</a> for more information.</p>
</div>
<div class="paragraph">
<p><code>NODESOURCENAME</code> can be defined at <strong>job-level</strong> (applies to all tasks of a workflow) or at  <strong>task-level</strong> (applies to a single task).</p>
</div>
</div>
<div class="sect3">
<h4 id="_resource_tags"><a class="anchor" href="ProActiveUserGuide.html#_resource_tags"></a><a class="link" href="ProActiveUserGuide.html#_resource_tags">5.7.14. RESOURCE_TAGS</a></h4>
<div class="paragraph">
<p><code>RESOURCE_TAGS</code> is used to assign tags to compute instances deployed in a Node Source controlled by a <strong>Dynamic Policy</strong>.</p>
</div>
<div class="paragraph">
<p>RESOURCE_TAGS format is a json key/value structure, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "tagName1" :  "tagValue1",
  "tagName2" :  "tagValue2"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Node Source will forward these tags to the <a href="../admin/ProActiveAdminGuide.html#_node_source_infrastructures">Node Source Infrastructure</a>.
The way these tags will be added to compute resources depends on the infrastructure.
Currently, only the <a href="../admin/ProActiveAdminGuide.html#_azure_scale_set_infrastructure">Azure Scale Set Infrastructure</a> supports tags assignment.</p>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_dynamic_policy_resource_tagging">Dynamic Policy Resource Tagging</a> and <a href="../admin/ProActiveAdminGuide.html#_scale_set_tagging">Scale Set Tagging</a> for more information.</p>
</div>
<div class="paragraph">
<p><code>RESOURCE_TAGS</code> can be defined at <strong>job-level</strong> (applies to all tasks of a workflow) or at  <strong>task-level</strong> (applies to a single task).</p>
</div>
</div>
<div class="sect3">
<h4 id="_documentation"><a class="anchor" href="ProActiveUserGuide.html#_documentation"></a><a class="link" href="ProActiveUserGuide.html#_documentation">5.7.15. Documentation</a></h4>
<div class="paragraph">
<p>The <code>Documentation</code> generic information allows to associate an html documentation with a workflow.
Its value must contain an URL pointing to the workflow documentation.</p>
</div>
<div class="paragraph">
<p><code>Documentation</code> can be defined at <strong>job-level</strong> only.</p>
</div>
<div class="paragraph">
<p>The <code>task.documentation</code> generic information allows to associate an html documentation with a task.
Its value must contain an URL pointing to the task documentation.</p>
</div>
<div class="paragraph">
<p><code>task.documentation</code> can be defined at <strong>task-level</strong> only.</p>
</div>
<div class="paragraph">
<p><code>Documentation</code> and <code>task.documentation</code> values can also be a relative path.
In that case, the html file containing the documentation must be put inside <code>SCHEDULER_HOME/dist/war/getstarted/doc</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_icon_management"><a class="anchor" href="ProActiveUserGuide.html#_icon_management"></a><a class="link" href="ProActiveUserGuide.html#_icon_management">5.7.16. Icon Management</a></h4>
<div class="paragraph">
<p>There are specific generic information that are dedicated to icon management.
The icon of a workflow is specified inside the <strong>job-level</strong> Generic Information using the keyword <code>workflow.icon</code>.
The icon of a task is specified inside  <strong>task-level</strong> Generic Information using the keyword <code>task.icon</code>.</p>
</div>
<div class="paragraph">
<p>These generic information are used in ProActive portals for proper visualization of workflow and task icons.</p>
</div>
<div class="paragraph">
<p>The value of these generic information can contain either a url or a path to the icon.
ProActive server stores by default workflow icons in <code>SCHEDULER_HOME/dist/war/automation-dashboard/styles/patterns/img/wf-icons/</code>.</p>
</div>
<div class="paragraph">
<p>Example value with the default icon path: <code>/automation-dashboard/styles/patterns/img/wf-icons/postgresql.png</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_result_metadata"><a class="anchor" href="ProActiveUserGuide.html#_result_metadata"></a><a class="link" href="ProActiveUserGuide.html#_result_metadata">5.7.17. Result Metadata</a></h4>
<div class="paragraph">
<p>The following generic information can be used to assign result metadata to a workflow task.</p>
</div>
<div class="paragraph">
<p>Can only be used if the task result content is an array of bytes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>content.type</code>: define the MIME type of the result.</p>
</li>
<li>
<p><code>file.name</code>: allows to store (Save as) the result from the scheduler or workflow-automation portals as a specific file name.</p>
</li>
<li>
<p><code>file.extension</code>: allows to store (Save as) the result from the scheduler or workflow-automation portals as a specific file extension with auto-generated file name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="ProActiveUserGuide.html#_assigning_metadata_to_task_result">Assigning metadata to task result</a> for further information.</p>
</div>
<div class="paragraph">
<p>Result metadata generic information can be defined at <strong>task-level</strong> only.</p>
</div>
</div>
<div class="sect3">
<h4 id="_python_command"><a class="anchor" href="ProActiveUserGuide.html#_python_command"></a><a class="link" href="ProActiveUserGuide.html#_python_command">5.7.18. PYTHON_COMMAND</a></h4>
<div class="paragraph">
<p>When using <a href="ProActiveUserGuide.html#_python">CPython</a> tasks, the <code>PYTHON_COMMAND</code> generic information can be used to define the command starting the python interpreter.</p>
</div>
<div class="paragraph">
<p>The interpreter is started by default using the <code>python</code> command, but this generic information can be defined to use for example <code>python3</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="ProActiveUserGuide.html#_python">Python script language</a> for further information.</p>
</div>
<div class="paragraph">
<p><code>PYTHON_COMMAND</code> generic information should be defined at <strong>task-level</strong> but can be defined at job-level to apply to all workflow tasks.</p>
</div>
</div>
<div class="sect3">
<h4 id="_docker_compose_options"><a class="anchor" href="ProActiveUserGuide.html#_docker_compose_options"></a><a class="link" href="ProActiveUserGuide.html#_docker_compose_options">5.7.19. Docker Compose options</a></h4>
<div class="paragraph">
<p>When using <a href="ProActiveUserGuide.html#_docker_compose">Docker Compose</a> tasks, the following generic information can be used to control options given to <code>docker-compose</code> commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>docker-compose-options</code>: general parameters given to the docker-compose command.</p>
</li>
<li>
<p><code>docker-compose-up-options</code>: options given to the <code>docker-compose up</code> command.</p>
</li>
<li>
<p><code>docker-compose-options-split-regex</code>: declare a string to be used as options separator.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="ProActiveUserGuide.html#_docker_compose">Docker Compose script language</a> for further information.</p>
</div>
<div class="paragraph">
<p>The Docker Compose generic information should be defined at <strong>task-level</strong> but can be defined at job-level to apply to all workflow tasks.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dockerfile_options"><a class="anchor" href="ProActiveUserGuide.html#_dockerfile_options"></a><a class="link" href="ProActiveUserGuide.html#_dockerfile_options">5.7.20. Dockerfile options</a></h4>
<div class="paragraph">
<p>When using <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile</a> tasks, the following generic information can be used to control options given to <code>docker</code> commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>docker-actions</code>: actions to perform. A comma separated list of possible actions (build, run, exec, stop, rmi). Default is <code>build,run,stop,rmi</code>.</p>
</li>
<li>
<p><code>docker-image-tag</code>: tag identifying the docker image. Default is <code>image_${PA_JOB_ID}t${PA_TASK_ID}</code></p>
</li>
<li>
<p><code>docker-container-tag</code>: tag identifying the docker container. Default is <code>container_${PA_JOB_ID}t${PA_TASK_ID}</code></p>
</li>
<li>
<p><code>docker-build-options</code>: options given to the <code>docker build</code> command.</p>
</li>
<li>
<p><code>docker-run-options</code>: options given to the <code>docker run</code> command.</p>
</li>
<li>
<p><code>docker-exec-command</code>: command given to <code>docker exec</code>, if used in <code>docker-actions</code>. If the command contains spaces, <code>docker-file-options-split-regex</code> should be used to split command parameters.</p>
</li>
<li>
<p><code>docker-exec-options</code>: options given to the <code>docker exec</code> command. Default is <code>-t</code> (which should always be included).</p>
</li>
<li>
<p><code>docker-stop-options</code>: options given to the <code>docker stop</code> command.</p>
</li>
<li>
<p><code>docker-rm-options</code>: options given to the <code>docker rm</code> command.</p>
</li>
<li>
<p><code>docker-rmi-options</code>: options given to the <code>docker rmi</code> command.</p>
</li>
<li>
<p><code>docker-file-options-split-regex</code>: declare a string to be used as options separator, instead of the <code>space</code> character.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="ProActiveUserGuide.html#_dockerfile">Dockerfile script language</a> for further information.</p>
</div>
<div class="paragraph">
<p>The Dockerfile generic information should be defined at the <strong>task level</strong>. Some (docker-file-options-split-regex, or command options) may be defined at the <strong>job level</strong> to apply to all tasks of the workflow.</p>
</div>
</div>
<div class="sect3">
<h4 id="_job_planner"><a class="anchor" href="ProActiveUserGuide.html#_job_planner"></a><a class="link" href="ProActiveUserGuide.html#_job_planner">5.7.21. Job Planner</a></h4>
<div class="paragraph">
<p>The <a href="https://trydev2.activeeon.com/doc/JobPlanner/JobPlannerUserGuide.html.html#_all_doc_jp_user_guide">Job Planner</a> automatically adds two generic information to the jobs it submits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>calendar.name</code>: the calendar name based on which the job is planned.</p>
</li>
<li>
<p><code>next.execution</code>: the next execution date of the planned job. The date is formatted with respect to the pattern <code>yyyy-MM-dd HH:mm:ss z</code> and considers the time zone specified in the Job Planner configuration.
When no time zone is specified, the default time zone of ProActive server is considered.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_submission_mode"><a class="anchor" href="ProActiveUserGuide.html#_submission_mode"></a><a class="link" href="ProActiveUserGuide.html#_submission_mode">5.7.22. Submission.mode</a></h4>
<div class="paragraph">
<p>The <strong>Submission Mode</strong> allows keeping track from where a Job has been submitted.
It can have values in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Interactive Submissions:</strong> <code>studio</code>, <code>catalog</code>, <code>workflow-execution</code>, <code>scheduler-portal</code></p>
</li>
<li>
<p><strong>Automated Submissions:</strong> <code>job-planner</code>, <code>service-automation</code>, <code>event-orchestration</code></p>
</li>
<li>
<p><strong>API Submissions:</strong> <code>workflow-api</code>, <code>cli</code>, <code>rest-api</code></p>
</li>
<li>
<p><strong>Custom:</strong> <code>user-defined value</code>, to differentiate application-specific submissions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is implemented with the <strong>submission.mode</strong> Generic Information that records the information.</p>
</div>
<div class="paragraph">
<p>When submitting a workflow from one of the portals (Studio, Scheduler, Workflow Execution, Catalog, etc.), or when using one of the ProActive submission services (Job Planner, Service Automation, Event Orchestration) this Generic Information is automatically defined by the system, using the standardized values.</p>
</div>
<div class="paragraph">
<p>When a workflow is submitted from a third-party component (such as a company service), one can set this Generic Information value to a meaningful custom name, that will help identify the origin from which the workflow has been submitted.</p>
</div>
<div class="paragraph">
<p>The Submission Mode can be seen synthetically in the  <a href="ProActiveUserGuide.html#_glossary_health_dashboard">Health Dashboard</a> for a selected time-frame in the widget “Submission Mode”, including custom values.</p>
</div>
<div class="paragraph">
<p>The Submission Mode can also be seen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In <strong>Workflow Execution</strong>: the user can see the value in the Generic Information section of the detailed Job info.</p>
</li>
<li>
<p>In <strong>Scheduler Portal</strong>: the value is displayed in “Submitted from” column of the Job table, and in the Job info tab.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_task_result"><a class="anchor" href="ProActiveUserGuide.html#_task_result"></a><a class="link" href="ProActiveUserGuide.html#_task_result">5.8. Task result</a></h3>
<div class="paragraph">
<p>Another way to propagate data from a task to another is the use of the <strong>result</strong> script binding.
Anywhere in a parent task (usually at the end) you can set a value to a reserved
variable named <strong>result</strong>. This value will be available in the child tasks i.e which are depending on the parent task.
If a task has one or several parents, <strong>results</strong> will always be an array.</p>
</div>
<div class="paragraph">
<p>Assuming that we have two tasks <strong>task1</strong> and <strong>task2</strong> written in Groovy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// task1
result = "task1";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// task2
result = "task2";</code></pre>
</div>
</div>
<div class="paragraph">
<p>and <strong>task3</strong> that depends on tasks <strong>task1</strong> and <strong>task2</strong>, then, you can access result values defined by the parents as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// task3
println(results[0]);
// will print "task1"
println(results[1]);
// will print "task2"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
results will be aggregated according to the order declared in the dependency list. Consequently, if the xml <strong>depends</strong> tag of <strong>task3</strong> contains the list [task1, task2] (see the xml example below), then results[0] will contain the result of <strong>task1</strong> and results[1] the result of <strong>task2</strong>. On the contrary, if the depends list is [task2, task1], then results[0] will contain the result of <strong>task2</strong> and results[1] the result of <strong>task1</strong>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;depends&gt;
        &lt;task ref="task1"/&gt;
        &lt;task ref="task2"/&gt;
&lt;/depends&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For nearly all script languages, the <strong>results</strong> variable contains a list of <a href="../javadoc/org/ow2/proactive/scheduler/common/task/TaskResult.html">TaskResult java object</a>.
In order to access the result value, the <strong>value()</strong> method of this object must be called.
Example for Python/Jython:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">print results[0].value()</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_assigning_metadata_to_task_result"><a class="anchor" href="ProActiveUserGuide.html#_assigning_metadata_to_task_result"></a><a class="link" href="ProActiveUserGuide.html#_assigning_metadata_to_task_result">5.8.1. Assigning metadata to task result</a></h4>
<div class="paragraph">
<p>Result metadata can contain additional information associated with the result. In order to store metadata information, you have to use the <strong>resultMetadata</strong> script binding.
As for the <strong>result</strong> binding, the <strong>resultMetadata</strong> value of a task is available in its child tasks.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// task1
result = "task1";
resultMetadata.put("mymetadata", "myvalue")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// task2
println(results[0].getMetadata());</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is the user code which specifies the metadata semantics. However, some specific metadata can have a meaning when downloading or previewing results from the <strong>Scheduler portal</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>file.name:</strong> the name of the file, including the extension, which will be used when storing the result in binary format.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// fileNameTask
file = new File("balloon13.png")
result = file.getBytes()
resultMetadata.put("file.name","balloon13.png")</code></pre>
</div>
</div>
</li>
<li>
<p><strong>file.extension:</strong> the extension, which will be appended to the automatically generated name, when storing the result in binary format</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// fileExtensionTask
file = new File("balloon13.png")
result = file.getBytes()
resultMetadata.put("file.extension",".png")</code></pre>
</div>
</div>
</li>
<li>
<p><strong>content.type:</strong> the display format, which will be used when previewing the file in the browser. Open the following <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">link</a> for the complete list of mime-types.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// contentTypeTask
file = new File("balloon13.png")
result = file.getBytes()
resultMetadata.put("content.type","image/png")</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>A Task result can be added to the list of results of a Job, see section <a href="ProActiveUserGuide.html#_result_list">Result List</a> below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The specific result metadata described above can also be set using <a href="ProActiveUserGuide.html#_generic_information">Generic Information</a>. For example, defining the generic information <em>content.type = text/html</em> is equivalent to adding this value to the <strong>resultMetadata</strong> map.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_job_results"><a class="anchor" href="ProActiveUserGuide.html#_job_results"></a><a class="link" href="ProActiveUserGuide.html#_job_results">5.9. Job Results</a></h3>
<div class="paragraph">
<p>Job Results are composed of two elements: <strong>Result List</strong> and <strong>Result Map</strong>.
Each task can contribute to both.
Once the job is finished, the user can download/visualize Job Results from the Scheduler portal as shown in screenshot below.
The label in <strong>Result List</strong> corresponds to the task name that generated the value.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/scheduler-result-map.png" alt="scheduler result map">
</div>
</div>
<div class="sect3">
<h4 id="_result_list"><a class="anchor" href="ProActiveUserGuide.html#_result_list"></a><a class="link" href="ProActiveUserGuide.html#_result_list">5.9.1. Result List</a></h4>
<div class="paragraph">
<p>Each task has its own result (see section <a href="ProActiveUserGuide.html#_task_result">Task result</a>). Some of intermediate task results may be precious such that the user would like to
access them easily at the job level. To do that, the user has to select precious task(s) and check the <strong>Task Result Added to Job Result</strong> checkbox as shown in the screenshot below.
In that case, the task result will be added to the <strong>Result List</strong> when the job execution is finished.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/precious-result.png" alt="precious result">
</div>
</div>
<div class="paragraph">
<p>In the Job xml schema it is available as <code>preciousResult</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-{.xml} hljs" data-lang="{.xml}">&lt;task name="Init_Task" preciousResult="true" &gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_result_map"><a class="anchor" href="ProActiveUserGuide.html#_result_map"></a><a class="link" href="ProActiveUserGuide.html#_result_map">5.9.2. Result Map</a></h4>
<div class="paragraph">
<p>In addition to the <strong>Results List</strong>,
a Job can also store some results into a dedicated key-value map,
which is called <strong>Result Map</strong>. Every task can contribute to this <strong>Result Map</strong>.
It is a write-only map, in such a way that a task cannot see
what other tasks already wrote to the result map.
When several tasks write the same key to the result map,
the last write always takes precedence. This map contains String as a key,
and <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" target="_blank" rel="noopener">Serializable </a> as value.</p>
</div>
<div class="paragraph">
<p>Consider the following groovy example.</p>
</div>
<div class="paragraph">
<p><code>Task 1</code> writes to <strong>Result Map</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">resultMap.put("filename", "results.txt")
resultMap.put("latestError", "no error")</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Task 2</code> writes to <strong>Result Map</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">resultMap.put("latestError", "wrong user id")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the job is finished, <strong>Result Map</strong> would contain:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">"filename" -&gt; "results.txt"
"latestError" -&gt; "wrong user id"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_control_flow_scripts"><a class="anchor" href="ProActiveUserGuide.html#_control_flow_scripts"></a><a class="link" href="ProActiveUserGuide.html#_control_flow_scripts">5.10. Control Flow Scripts</a></h3>
<div class="paragraph">
<p>To perform a control flow action such as if, replicate or loop, a
<strong>Control Flow Script</strong> is executed on the ProActive node. This script
takes the result of the task as input; meaning a Java object if it was a
Java or Script task, or nothing if it was a native task.</p>
</div>
<div class="paragraph">
<p>The script is executed on the ProActive node, just after the task&#8217;s
executable. If the executable is a Java Executable and returns a result,
the variable <code>result</code> will be set in the script&#8217;s environment so that
dynamic decisions can be taken with the task&#8217;s result as input. Native
Java objects can be used in a Groovy script.</p>
</div>
<div class="listingblock">
<div class="title">Decide whether to keep looping or not based on the task&#8217;s result:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">loop = result</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly to how parameters are passed through the <strong>result</strong> variable to
the script, the script needs to define variables specific to each action
to determine what action the script will lead to.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <strong>replicate</strong> control flow action needs to define how many parallel
runs will be executed, by defining the variable <code>runs</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// assuming result is a java.lang.Integer
runs = result % 4 + 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>The assigned value needs be a strictly positive integer.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An <strong>if</strong> control flow action needs to determine whether the if or the
else branch is selected, it does this by defining the boolean
variable <code>branch</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// assuming result is a java.lang.Integer
if (result % 2) {
  branch = "if"
} else {
  branch = "else"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The assigned value needs to be the string value <em>if</em> or <em>else</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>loop</strong> control flow action requires setting the <code>loop</code>, which
will determine whether looping to the statically defined target is
performed, or if the normal flow is executed as would a continue
instruction do in a programming language:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">loop = result as Boolean</code></pre>
</div>
</div>
<div class="paragraph">
<p>The assigned value needs to be a boolean.</p>
</div>
<div class="paragraph">
<p>Failure to set the required variables or to provide a valid
control flow script will not be treated gracefully and will result in
the failure of the task.</p>
</div>
</div>
<div class="sect2">
<h3 id="_loop_and_replicate_awareness"><a class="anchor" href="ProActiveUserGuide.html#_loop_and_replicate_awareness"></a><a class="link" href="ProActiveUserGuide.html#_loop_and_replicate_awareness">5.11. Loop and Replicate awareness</a></h3>
<div class="paragraph">
<p>When Control Flow actions such as <strong>replicate</strong> or <strong>loop</strong> are performed,
some tasks are replicated. To be able to identify replicated tasks
uniquely, each replicated task has an <strong>iteration index</strong>, <strong>replication
index</strong>, and a <strong>tag</strong>. In addition to help to identify uniquely, these tags are
useful to filter tasks by iterations for example.</p>
</div>
<div class="sect3">
<h4 id="_task_name"><a class="anchor" href="ProActiveUserGuide.html#_task_name"></a><a class="link" href="ProActiveUserGuide.html#_task_name">5.11.1. Task name</a></h4>
<div class="paragraph">
<p>First, those indexes are reflected inside the names of the tasks
themselves. Indeed, task names must be unique inside a job. The indexes
are added to the original task name as a suffix, separated by a special
character.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a task named <em>T</em> is replicated after a <strong>loop</strong> action, the newly
created tasks will be named <em>T#1</em>, <em>T#2</em>, etc. The number
following the <em>#</em> separator character represents the <strong>iteration
index</strong>.</p>
</li>
<li>
<p>The same scheme is used upon <strong>replicate</strong> actions: newly created
tasks are named <em>T*1</em>, <em>T*2</em>, and so on. The number following the
* separator represents the <strong>replication index</strong>.|</p>
</li>
<li>
<p>When combining both of the above, the resulting task names are of
the form: <em>T#1*1</em>, <em>T#2*4</em>, etc., in that precise order.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_task_tag"><a class="anchor" href="ProActiveUserGuide.html#_task_tag"></a><a class="link" href="ProActiveUserGuide.html#_task_tag">5.11.2. Task tag</a></h4>
<div class="paragraph">
<p>Tags are assigned automatically by the scheduler when a task is created by
replication from another task. They are designed to reflect the task that
initiated the replication for the first time, the type of replication (loop
or replicate) and the iteration index or replication indexes. So the tag is
formed like this: <strong>(LOOP|REPLICATE)-Name_of_the_initiator-index</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the task <em>T1</em> initiates a loop that contains the tasks <em>T2</em> and <em>T3</em>,
then the tasks <em>T2#1</em> and <em>T3#1</em> will have the tag <strong>LOOP-T1-1</strong>. The tasks
<em>T2#2</em> and <em>T3#2</em> will have the tag <strong>LOOP-T1-3</strong>.</p>
</li>
<li>
<p>If the loop is a cron loop, the index is replaced by the resolved time of
the initiated looping. For example, in a cron loop that was initiated the
21/12/2015 at 14h00, the task <em>T1#1</em> will have the tag <strong>LOOP-T1#1-21_12_15_14_00</strong>.</p>
</li>
<li>
<p>If the task <em>T1</em> replicates a block that contains the tasks <em>T2</em> and <em>T3</em>,
then the tasks <em>T2*1</em> and <em>T3*1</em> will have the tag <strong>REPLICATE-T1-1</strong>. The
tasks <em>T2*2</em> and <em>T3*2</em> will have the tag <strong>REPLICATE-T1-2</strong>.</p>
</li>
<li>
<p>If the task <em>T1#1</em>, inside a loop, replicates tasks, the new tasks will have
the tags <strong>REPLICATE-T1#1-1</strong>, <strong>REPLICATE-T1#1-2</strong>, etc&#8230;&#8203;</p>
</li>
<li>
<p>If the replicated task <em>T1*1</em> initiates a loop inside a replicate, the new
created tasks will have the tags <strong>LOOP-T1*1-1</strong>, <strong>LOOP-T1*1-2</strong>, etc&#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_task_definition"><a class="anchor" href="ProActiveUserGuide.html#_task_definition"></a><a class="link" href="ProActiveUserGuide.html#_task_definition">5.11.3. Task definition</a></h4>
<div class="paragraph">
<p>Those indexes are also available as <a href="ProActiveUserGuide.html#_workflow_variables">workflow variables</a>. They can be
obtained using the variable names:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PA_TASK_REPLICATION</p>
</li>
<li>
<p>PA_TASK_ITERATION</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is how to access those variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Native Executable arguments:</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;staticCommand value="/path/to/bin.sh"&gt;
  &lt;arguments&gt;
    &lt;argument value="/some/path/${PA_TASK_ITERATION}/${PA_TASK_REPLICATION}.dat" /&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Dataspace input and output:</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="t1" retries="2"&gt;
  &lt;inputFiles&gt;
    &lt;files includes="foo_${PA_TASK_ITERATION}_${PA_TASK_REPLICATION}.dat" accessMode="transferFromInputSpace"/&gt;
  &lt;/inputFiles&gt;&lt;outputFiles&gt;
    &lt;files includes="bar_${PA_TASK_ITERATION}_${PA_TASK_REPLICATION}.res" accessMode="transferToOutputSpace"/&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Scripts affected by the variable substitutions are: Pre, Post, Control Flow.
<strong>No substitution will occur in selection scripts or clean scripts.</strong>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_task_executable"><a class="anchor" href="ProActiveUserGuide.html#_task_executable"></a><a class="link" href="ProActiveUserGuide.html#_task_executable">5.11.4. Task executable</a></h4>
<div class="paragraph">
<p>The iteration and replication indexes are available inside the
executables launched by tasks.</p>
</div>
<div class="paragraph">
<p>In script tasks, the indexes are exported through the following <a href="ProActiveUserGuide.html#_workflow_variables">workflow variables</a>:
 <code>PA_TASK_ITERATION</code> and <code>PA_TASK_REPLICATION</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">int it  = variables.get("PA_TASK_ITERATION")
int rep = variables.get("PA_TASK_REPLICATION")</code></pre>
</div>
</div>
<div class="paragraph">
<p>In a similar fashion, environment variables are set when launching a
native executable: <code>PAS_TASK_ITERATION</code> and <code>PAS_TASK_REPLICATION</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-{.sh} hljs" data-lang="{.sh}">#!/bin/sh
myApp.sh /path/to/file/${variables_PAS_TASK_ITERATION}.dat</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_embarrassingly_parallel_problem"><a class="anchor" href="ProActiveUserGuide.html#_example_embarrassingly_parallel_problem"></a><a class="link" href="ProActiveUserGuide.html#_example_embarrassingly_parallel_problem">5.12. Example: Embarrassingly Parallel problem</a></h3>
<div class="paragraph">
<p>An <a href="https://en.wikipedia.org/wiki/Embarrassingly_parallel" target="_blank" rel="noopener">Embarrassingly Parallel problem</a> is a problem that is easy
to split into smaller independent tasks. With ProActive Scheduler you can tackle this type of problem with the
<a href="ProActiveUserGuide.html#_replicate">Replicate</a> construct.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Familiar with <a href="https://en.wikipedia.org/wiki/MapReduce" target="_blank" rel="noopener">MapReduce</a>? Well, a workflow using replication
uses similar concepts.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <a href="https://try.activeeon.com/tutorials/adv.html" target="_blank" rel="noopener">Advanced workflows</a> is an example of an embarrassingly parallel
problem where the computation is easily distributed across ProActive Nodes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mpi_application"><a class="anchor" href="ProActiveUserGuide.html#_mpi_application"></a><a class="link" href="ProActiveUserGuide.html#_mpi_application">5.13. Example: MPI application</a></h3>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Message_Passing_Interface" target="_blank" rel="noopener">MPI</a> is often used in the area of parallel computing.
The Scheduler integrates with MPI with the concept of <a href="ProActiveUserGuide.html#_multi_node_task">multi node tasks</a>.
 This particular task will acquire several nodes and will expose these nodes to the MPI environment.</p>
</div>
<div class="paragraph">
<p>Applications built with MPI are often executed using the <a href="https://linux.die.net/man/1/mpirun" target="_blank" rel="noopener">mpirun</a> command.
It accepts several parameters to
choose how many CPUs and how many machines will be used. One particular parameter is the machine file that is
built by the Scheduler when using <strong>multi node tasks</strong>.
Here is how an MPI application invocation would look like when executed with the Scheduler:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mpirun -hostfile $variables_PA_NODESFILE myApplication</pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="ProActiveUserGuide.html#_workflow_variables">variable</a> <code>$variables_PA_NODESFILE</code> contains the path to a machine file created by the Scheduler that will be similar to:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>compute-host
compute-host
another-host</pre>
</div>
</div>
<div class="paragraph">
<p>Meaning that <code>myApplication</code> will use 2 CPUs on <code>compute-host</code> and 1 CPU on <code>another-host</code>.
You can also use <code>$variables_PA_NODESNUMBER</code> to retrieve the number of acquired nodes.</p>
</div>
<div class="paragraph">
<p>You can find an example of a native task in this
<a href="https://trydev2.activeeon.com/doc/user/examples/mpi_task.xml" target="_blank" rel="noopener">XML workflow</a> or you can also build one yourself using the
<strong>Workflow Studio</strong>.</p>
</div>
<div class="paragraph">
<p>To achieve the best performance for MPI applications, nodes can be selected taking into account their <strong>network topology</strong>. One might want to select nodes that are as
close to each other as possible to obtain better network performance or nodes on different hosts to split the I/O load.
Refer to <a href="ProActiveUserGuide.html#_topology_types">Topology Types</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_install_specific_software_tools_and_libraries_before_launching_tasks"><a class="anchor" href="ProActiveUserGuide.html#_example_install_specific_software_tools_and_libraries_before_launching_tasks"></a><a class="link" href="ProActiveUserGuide.html#_example_install_specific_software_tools_and_libraries_before_launching_tasks">5.14. Example: Install specific software tools and libraries before launching tasks</a></h3>
<div class="paragraph">
<p>Some workflow tasks require the prior installation of specific software tools and libraries
that are necessary to properly execute these tasks. ProActive offers two methods to enable the installation of such tools and libraries:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>By using software containers encapsulating the required libraries and tools.
ProActive enables then the execution of computational tasks in containers such as Docker, Podman or Singularity containers.
See Section <a href="ProActiveUserGuide.html#_fork_environment">Fork environment</a> for more details about executing tasks inside software containers.</p>
</li>
<li>
<p>By using pre-scripts, i.e., scripts that are executed just before the considered computational task, and on the same compute resource.
Such pre-scripts implement the instructions for installing and configuring the required tools and libraries. ProActive solution allows writing pre-scripts in various languages.
These include languages ​​for operating systems (shell, batch, powershell, etc.), scripting languages ​​(groovy, javascript, etc.) and programming languages (python, java, etc.).
See Section <a href="ProActiveUserGuide.html#_pre_post_clean">Pre, Post &amp; Clean Scripts</a> for more details about pre-scripts.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_workflow_execution_control"><a class="anchor" href="ProActiveUserGuide.html#_workflow_execution_control"></a><a class="link" href="ProActiveUserGuide.html#_workflow_execution_control">6. Workflow Execution Control</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>ProActive Scheduler</strong> supports portable script execution through the <strong>JSR-223</strong> Java
Scripting capabilities. Scripts can be written in any language supported by the underlying
Java Runtime Environment.</p>
</div>
<div class="paragraph">
<p>They are used in the ProActive Scheduler to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Execute some simple <strong>pre</strong>, <strong>post</strong> and <strong>cleaning</strong> processing (pre scripts, post scripts and cleaning scripts)</p>
</li>
<li>
<p>Select among available resources the node that <strong>suits the execution</strong> (selection scripts).</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_selection"><a class="anchor" href="ProActiveUserGuide.html#_selection"></a><a class="link" href="ProActiveUserGuide.html#_selection">6.1. Selection of ProActive Nodes</a></h3>
<div class="sect3">
<h4 id="_selection_scripts"><a class="anchor" href="ProActiveUserGuide.html#_selection_scripts"></a><a class="link" href="ProActiveUserGuide.html#_selection_scripts">6.1.1. Selection Scripts</a></h4>
<div class="paragraph">
<p>A <a href="ProActiveUserGuide.html#_glossary_selection_script">selection script</a> provides an ability for the Scheduler to execute tasks on particular ProActive nodes.
E.g. you can specify that a task must be executed on a Unix/Linux system.</p>
</div>
<div class="paragraph">
<p>A <a href="ProActiveUserGuide.html#_glossary_selection_script">selection script</a> is always executed before the task itself on any candidate node:
the execution of a <a href="ProActiveUserGuide.html#_glossary_selection_script">selection script</a> must set the boolean variable <code>selected</code>,
that indicates if the candidate node is suitable for the execution of the associated task.</p>
</div>
<div class="paragraph">
<p>A Java helper <strong>org.ow2.proactive.scripting.helper.selection.SelectionUtils</strong> is provided for allowing
user to simply make some kind of selections. Some script samples are available in
<code>PROACTIVE_HOME/samples/scripts/selection</code>.</p>
</div>
<div class="paragraph">
<p>The following example selects only nodes running on Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">importClass(org.ow2.proactive.scripting.helper.selection.SelectionUtils);

/* Check if OS name is Windows */
if (SelectionUtils.checkOSName("windows")) {
    selected = true;
} else {
    selected = false;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use variables inside the <a href="ProActiveUserGuide.html#_glossary_selection_script">selection script</a>, these variables must be visible within the task
context, i.e., declared on job scope, on task scope, or result variable from a previous task. In the last
case, it is mandatory that the task which declares the inherited variable precedes the task using the variable. Below
is an example job in XML format which uses a task variable to select Unix/Linux as operating system. In this example,
variable <strong>operating_system</strong> (task scope) resolves to variable <strong>operating_system_workflow</strong> (job scope).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;job
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="urn:proactive:jobdescriptor:3.10"
     xsi:schemaLocation="urn:proactive:jobdescriptor:3.10 https://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.10/schedulerjob.xsd"
    name="variable solving"
    priority="normal"
    onTaskError="continueJobExecution"
     maxNumberOfExecution="2"
&gt;
  &lt;variables&gt;
    &lt;variable name="operating_system_workflow" value="linux" model=""/&gt;
  &lt;/variables&gt;
  &lt;taskFlow&gt;
    &lt;task name="Groovy_Task0"&gt;
      &lt;description&gt;
        &lt;![CDATA[ The simplest task, ran by a groovy engine. ]]&gt;
      &lt;/description&gt;
      &lt;variables&gt;
        &lt;variable name="operating_system" value="$operating_system_workflow" inherited="false" /&gt;
      &lt;/variables&gt;
      &lt;scriptExecutable&gt;
        &lt;script&gt;
          &lt;code language="groovy"&gt;
            &lt;![CDATA[
                import org.ow2.proactive.scripting.helper.selection.SelectionUtils
                selected = SelectionUtils.checkOSName(variables.get("operating_system"))
            ]]&gt;
          &lt;/code&gt;
        &lt;/script&gt;
      &lt;/scriptExecutable&gt;
    &lt;/task&gt;
  &lt;/taskFlow&gt;
&lt;/job&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_generic_information_selection"><a class="anchor" href="ProActiveUserGuide.html#_generic_information_selection"></a><a class="link" href="ProActiveUserGuide.html#_generic_information_selection">6.1.2. Generic Information</a></h4>
<div class="paragraph">
<p>A few <a href="ProActiveUserGuide.html#_generic_information">Generic Information</a> allow to control where the associated task will be executed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="ProActiveUserGuide.html#_node_access_token">NODE_ACCESS_TOKEN</a>: the task will be executed only on Nodes which have the specified token. A node token is defined as a <a href="../admin/ProActiveAdminGuide.html#_policy_common_parameters">parameter</a> of a <a href="../admin/ProActiveAdminGuide.html#_node_source_policies">Node Source Policy</a>.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_node_source_generic_info">NODE_SOURCE</a>: the task will be executed only on Nodes which belong to the specified <a href="ProActiveUserGuide.html#_glossary_node_source">Node Source</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fork_environment"><a class="anchor" href="ProActiveUserGuide.html#_fork_environment"></a><a class="link" href="ProActiveUserGuide.html#_fork_environment">6.2. Fork environment</a></h3>
<div class="paragraph">
<p>A fork environment is a new forked Java Virtual Machine (JVM) which is started exclusively to execute a task. For example, this task may need to use some third-party libraries, so it can be executed properly. In this example, the list of path elements to be added when starting a new JVM will be specified inside the <code>Additional Classpath</code> field.
Starting a new JVM means that the task inside it will run in a dedicated, configurable environment.</p>
</div>
<div class="sect3">
<h4 id="_fork_environment_modes"><a class="anchor" href="ProActiveUserGuide.html#_fork_environment_modes"></a><a class="link" href="ProActiveUserGuide.html#_fork_environment_modes">6.2.1. Fork environment modes</a></h4>
<div class="paragraph">
<p>The fork environment can be activated through one of these four executions modes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standard forked mode,</p>
</li>
<li>
<p>Fork mode with customized configuration,</p>
</li>
<li>
<p><a href="../admin/AdminTutorials.html#_run_as_me">Run as me</a> mode,</p>
</li>
<li>
<p>Fork mode with docker.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/fork-environment.png" alt="fork environment" width="512" height="256">
</div>
</div>
<div class="paragraph">
<p>By default, all workflow tasks are executed in a standard fork mode, that is, executed in a forked JVM separated from the ProActive Node&#8217;s JVM.
This behavior can be controlled <strong>globally</strong> at the ProActive server level by modifying the global setting <code>pa.scheduler.task.fork</code> in the <a href="../admin/ProActiveAdminGuide.html#_general_configuration">scheduler configuration file</a> and also <strong>locally</strong> at the task level via the optional checkbox property <strong>Fork</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In case the server is configured in non-fork mode (i.e. <code>pa.scheduler.task.fork</code> = <code>false</code>), the checkbox property <strong>Fork</strong> is unchecked and uneditable and all the fields under <strong>Fork Environment</strong> are uneditable.</p>
</li>
<li>
<p>In case the server is configured in a fork mode (i.e. <code>pa.scheduler.task.fork</code> = <code>true</code>), the checkbox property <strong>Fork</strong> is checked and uneditable and all the fields under <strong>Fork Environment</strong> are editable.</p>
</li>
<li>
<p>In case the global setting is not set (i.e. comment out the related configuration through <code>#pa.scheduler.task.fork</code> = <code>true</code>), each task can specify its execution mode through the checkbox property <strong>Fork</strong>. If the checkbox property <strong>Fork</strong> is unchecked, then all the other fields under <strong>Fork Environment</strong> are disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_fork_environment_customization"><a class="anchor" href="ProActiveUserGuide.html#_fork_environment_customization"></a><a class="link" href="ProActiveUserGuide.html#_fork_environment_customization">6.2.2. Fork environment customization</a></h4>
<div class="paragraph">
<p>The fork execution environment mechanism can be customized by writing a <a href="ProActiveUserGuide.html#_glossary_fork_environment_script">fork environment script</a>.
This script contains a specific <a href="ProActiveUserGuide.html#_glossary_script_bindings">script binding</a> called <code>forkEnvironment</code> containing a <a href="../javadoc/org/ow2/proactive/scheduler/common/task/ForkEnvironment.html">ForkEnvironment java object</a>
giving access to various configuration settings.</p>
</div>
<div class="paragraph">
<p>For example, the following fork environment groovy script can be written to change the working directory of the task, and the path to the java executable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">forkEnvironment.setWorkingDir("/data/folder")
forkEnvironment.setJavaHome("/usr/java/default")</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_environment_cleanup"><a class="anchor" href="ProActiveUserGuide.html#_environment_cleanup"></a><a class="link" href="ProActiveUserGuide.html#_environment_cleanup">6.2.3. Environment cleanup</a></h4>
<div class="paragraph">
<p>After a task is executed, an internal mechanism called the <strong>Process Tree Killer</strong> ensures that all children processes started by the task are automatically terminated.
This mechanism is explained in details in the <a href="../admin/ProActiveAdminGuide.html#_task_termination_behavior">Task Termination Behavior</a> section.</p>
</div>
<div class="paragraph">
<p>The <strong>Process Tree Killer</strong> mechanism can be disabled using the <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.html.html#_disabled_ptk">DISABLE_PTK</a> generic information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_docker_fork_execution_environment"><a class="anchor" href="ProActiveUserGuide.html#_docker_fork_execution_environment"></a><a class="link" href="ProActiveUserGuide.html#_docker_fork_execution_environment">6.2.4. Docker fork execution environment</a></h4>
<div class="paragraph">
<p>A Docker fork execution environment is a specific usage of the fork environment mechanism.
In that case, the ProActive Node&#8217;s JVM starts a docker container which will run the forked JVM described above.
This forked JVM can be customized by the JVM settings and by the tool-set and isolation provided by Docker containers.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If your task needs to install new software or updates software, then run it inside a Docker container.
That way, other tasks will not be affected by changes, because Docker containers provide isolation so that
the host machine&#8217;s software stays the same.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_the_simplest_way_to_use_a_docker_fork_execution_environment"><a class="anchor" href="ProActiveUserGuide.html#_the_simplest_way_to_use_a_docker_fork_execution_environment"></a><a class="link" href="ProActiveUserGuide.html#_the_simplest_way_to_use_a_docker_fork_execution_environment">The simplest way to use a Docker fork execution environment</a></h5>
<div class="paragraph">
<p>From the <a class="studioUrl" href="https://trydev2.activeeon.com/studio" target="_blank">Studio Portal</a>, when editing a workflow task, open the <strong>Fork Environment</strong> section, and select <code>Docker</code> in the <strong>Fork Execution Environment</strong> Dropdown.
A sample Docker environment script will appear.</p>
</div>
<div class="paragraph">
<p>These settings ensure, that the current task is executed inside a Docker container, or fail if Docker is
 not installed or the user has no permission to run Docker containers.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If the executing Node has no Docker installed, the task will fail. A <a href="ProActiveUserGuide.html#_selection">selection script</a> can ensure
that tasks are executed only on Nodes which have Docker installed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_docker_fork_environment_script"><a class="anchor" href="ProActiveUserGuide.html#_docker_fork_environment_script"></a><a class="link" href="ProActiveUserGuide.html#_docker_fork_environment_script">Docker fork environment script</a></h5>
<div class="paragraph">
<p>The default Docker fork environment script contains the following groovy code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// This script creates a docker fork environment using java as docker image

// If used on windows:
//  - currently, only linux containers are supported
//  - make sure the drives containing the scheduler installation and TEMP folders are shared with docker containers
//  - the container used must have java installed by default in the /usr folder. Change the value of the java home parameter to use a different installation path
// On linux, the java installation used by the ProActive Node will be also used inside the container

// Prepare Docker parameters
import org.ow2.proactive.utils.OperatingSystem;
import org.ow2.proactive.utils.OperatingSystemFamily;

dockerImageName = "java"
cmd = []
cmd.add("docker")
cmd.add("run")
cmd.add("--rm")
cmd.add("--env")
cmd.add("HOME=/tmp")

String osName = System.getProperty("os.name");
println "Operating system : " + osName;
OperatingSystem operatingSystem = OperatingSystem.resolveOrError(osName);
OperatingSystemFamily family = operatingSystem.getFamily();

switch (family) {
    case OperatingSystemFamily.WINDOWS:
    	isWindows = true;
    	break;
    default:
        isWindows = false;
}
forkEnvironment.setDockerWindowsToLinux(isWindows)

// Prepare ProActive home volume
paHomeHost = variables.get("PA_SCHEDULER_HOME")
paHomeContainer = (isWindows ? forkEnvironment.convertToLinuxPath(variables.get("PA_SCHEDULER_HOME")) : variables.get("PA_SCHEDULER_HOME"))
cmd.add("-v")
cmd.add(paHomeHost + ":" + paHomeContainer)
// Prepare working directory (For Dataspaces and serialized task file)
workspaceHost = localspace
workspaceContainer = (isWindows ? forkEnvironment.convertToLinuxPath(workspaceHost) : workspaceHost)
cmd.add("-v")
cmd.add(workspaceHost + ":" + workspaceContainer)

cachespaceHost = cachespace
cachespaceContainer = (isWindows ? forkEnvironment.convertToLinuxPath(cachespaceHost) : cachespaceHost)
cmd.add("-v")
cmd.add(cachespaceHost + ":" + cachespaceContainer)

if (!isWindows) {
     // when not on windows, mount and use the current JRE
    currentJavaHome = System.getProperty("java.home")
	forkEnvironment.setJavaHome(currentJavaHome)
    cmd.add("-v")
    cmd.add(currentJavaHome + ":" + currentJavaHome)
}

// Prepare container working directory
cmd.add("-w")
cmd.add(workspaceContainer)

if (isWindows) {
    // linux on windows does not allow sharing identities (such as AD identities)
} else {
    sigar = new org.hyperic.sigar.Sigar()
    try {
        pid = sigar.getPid()
        creds = sigar.getProcCred(pid)
        uid = creds.getUid()
        gid = creds.getGid()
        cmd.add("--user=" + uid + ":" + gid)
    } catch (Exception e) {
        println "Cannot retrieve user or group id : " + e.getMessage()
    } finally {
        sigar.close()
    }
}
cmd.add(dockerImageName)

forkEnvironment.setPreJavaCommand(cmd)

// Show the generated command
println "DOCKER COMMAND : " + forkEnvironment.getPreJavaCommand()</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script exports a variable composed of a list of command + arguments via the forkEnvironment.getPreJavaCommand function, which is picked up by the Node executing the Task.
This variable is supposed to be a Docker run command inside a string.
This string will be split by space and added in front of the fork execution command. As an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/usr/bin/java -cp [Classpath] [ExecutedClass]</pre>
</div>
</div>
<div class="paragraph">
<p>And the Docker run command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker run java</pre>
</div>
</div>
<div class="paragraph">
<p>Then both will be combined to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> docker run java /usr/bin/java -cp [Classpath] [ExecutedClass]</pre>
</div>
</div>
<div class="paragraph">
<p>The combined command will execute a JVM inside a docker container.
Internally the command is split into docker, run, java, /usr/bin/java, -cp, [Classpath], [ExecutedClass].
 That is important to know because the fork execution command is split by spaces.
  That means, that paths can’t contain spaces. The Docker container mounts the ProActive home and a
   folder in the temp directory of the operating system. Those cannot contain spaces, because if they
    do then the fork execution command will be split wrong and fail.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pre_post_clean"><a class="anchor" href="ProActiveUserGuide.html#_pre_post_clean"></a><a class="link" href="ProActiveUserGuide.html#_pre_post_clean">6.3. Pre, Post &amp; Clean Scripts</a></h3>
<div class="paragraph">
<p>Another functionality is the possibility to define pre and post scripts. For a given task (Java, Script or Native task),
it is possible to launch a script before and after its execution. This possibility can be useful to copy files
to a node, or clean a directory before or after task execution, for example.</p>
</div>
<div class="paragraph">
<p>This is a way to separate from business code the preparation of execution environment and its cleaning. A good example
is a script that removes files from a specific directory once the task is finished.</p>
</div>
<div class="listingblock">
<div class="title">Clean script example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">Files.deleteIfExists(new File("/tmp/working_dir/").toPath())</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_file_transfer"><a class="anchor" href="ProActiveUserGuide.html#_file_transfer"></a><a class="link" href="ProActiveUserGuide.html#_file_transfer">6.3.1. File transfer</a></h4>
<div class="sect4">
<h5 id="_inputoutput_data_in_shared_directory"><a class="anchor" href="ProActiveUserGuide.html#_inputoutput_data_in_shared_directory"></a><a class="link" href="ProActiveUserGuide.html#_inputoutput_data_in_shared_directory">Input/Output Data in Shared Directory</a></h5>
<div class="paragraph">
<p>The easiest way to use your data on computing machines is to set up a <strong>shared directory</strong> available on all Compute Hosts. For
Linux it&#8217;s typically an NFS directory, for Windows it could be an SMB network share. Then, in tasks you can manipulate
files seamlessly across ProActive Nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">File inputData = new File("/data/username/inputfile");</code></pre>
</div>
</div>
<div class="paragraph">
<p>This approach has some limitations though:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The path to the shared folder should be <strong>identical</strong> on all Compute Hosts</p>
</li>
<li>
<p>It can be difficult to use with <strong>heterogeneous resources</strong>, e.g. Linux and Windows hosts</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_save_script"><a class="anchor" href="ProActiveUserGuide.html#_save_script"></a><a class="link" href="ProActiveUserGuide.html#_save_script">6.3.2. Save script</a></h4>
<div class="sect4">
<h5 id="_save_the_pre_script_in_a_file_and_skip_its_execution"><a class="anchor" href="ProActiveUserGuide.html#_save_the_pre_script_in_a_file_and_skip_its_execution"></a><a class="link" href="ProActiveUserGuide.html#_save_the_pre_script_in_a_file_and_skip_its_execution">Save the pre-script in a file and skip its execution</a></h5>
<div class="paragraph">
<p>Instead of executing a task pre-script, we also provide a way to save the pre-script into a file and skip its execution.
To do so, a Generic Information is required for the desired task, with the key
<code>PRE_SCRIPT_AS_FILE</code>, and the path of the file that you want to save your pre-script as its value.</p>
</div>
<div class="paragraph">
<p>The path should contain a file name. If it is an absolute path, then the file will be stored in this absolute path.
If it is a relative path, then the file will be stored in the <a href="ProActiveUserGuide.html#_local_space">Local Space</a>.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t give a specific extension in the path, the extension will be automatically assigned to the corresponding one of the language selected for this pre-script.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_as_me"><a class="anchor" href="ProActiveUserGuide.html#_run_as_me"></a><a class="link" href="ProActiveUserGuide.html#_run_as_me">6.4. Run Computation with a user&#8217;s system account</a></h3>
<div class="paragraph">
<p>When workflow tasks are executed inside a <a href="ProActiveUserGuide.html#_glossary_proactive_node">ProActive Node</a>, they run by default under the system account used to start the Node.</p>
</div>
<div class="paragraph">
<p>The <strong>RunAsMe</strong> mode, also called <em>user impersonation</em>, allows to start a workflow Task either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>under the job owner system account (default <em>RunAsMe</em>).</p>
</li>
<li>
<p>under a specific system account (<em>RunAsUser</em>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <strong>RunAsMe</strong> mode is defined in the XML representation of a Task:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="Linux_Bash_Task"
    fork="true"
    runAsMe="true" &gt;
      &lt;description&gt;
        &lt;![CDATA[ A task, ran by a bash engine. ]]&gt;
      &lt;/description&gt;
      &lt;scriptExecutable&gt;
        &lt;script&gt;
          &lt;code language="bash"&gt;
            &lt;![CDATA[
whoami
]]&gt;
          &lt;/code&gt;
        &lt;/script&gt;
      &lt;/scriptExecutable&gt;
    &lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the ProActive Studio, the RunAsMe mode is available in the Task Properties <strong>Fork Environment</strong> section.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/StudioRunAsMe.png" alt="RunAsMe in Studio" width="300">
</div>
</div>
<div class="paragraph">
<p>In order to impersonate a user, RunAsMe can use one of the following <strong>methods</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>PWD</strong>: impersonate a user with a login name and password (this is the default, it is also the only mode available on Windows Nodes).</p>
</li>
<li>
<p><strong>KEY</strong>: impersonate a user with a login name and SSH private key.</p>
</li>
<li>
<p><strong>NONE</strong>: impersonate a user with a login name and <a href="https://en.wikipedia.org/wiki/Sudo">sudo</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above modes are defined by the ProActive server administrator when ProActive Nodes are deployed. It is possible to define for each Node a different RunAsMe mode.
The underlying operating system need to be configured appropriately in order to impersonate a task.</p>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_run_as_me_admin">RunAsMe section</a> in the administration guide for further information.</p>
</div>
<div class="paragraph">
<p>The default mode for RunAsMe is to impersonate as the current user with the user login and password.
Accordingly, the user&#8217;s login and password inside ProActive must match the login and password of the user in the target machine&#8217;s operating system.</p>
</div>
<div class="paragraph">
<p>It is possible though to impersonate through a different user, using a different password, or even using a different impersonation method as the one configured by default.</p>
</div>
<div class="paragraph">
<p>This possibility is given by adding <a href="ProActiveUserGuide.html#_generic_information">Generic Information</a> described in the below table to the workflow task.
Each of these generic information can be defined both at task-level or job-level. When at job-level, it will apply to all tasks of this workflow with RunAsMe enabled.
Other tasks without RunAsMe enabled will ignore these generic information.</p>
</div>
<table id="_run_as_me_generic_info" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. RunAsMe Generic Information</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNAS_METHOD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the impersonation method used when executing the task. Can be <code>pwd</code>, <code>key</code> or <code>none</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pwd</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNAS_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the login name used during the impersonation. This allows to run a task under a different user as the user who submitted the workflow.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bob</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNAS_DOMAIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows defining or overriding a user domain that will be attached to the impersonated user. User domains are only used on Windows operating systems.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyOrganisation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNAS_PWD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the password attached to the impersonated user. This can be used only when the impersonation method is set to <code>pwd</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyPassword</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNAS_PWD_CRED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to RUNAS_PWD but the password will be defined inside <a href="ProActiveUserGuide.html#_third_party_credentials">Third-party credentials</a> instead of inlined in the workflow. This method of defining the password should be preferred to RUNAS_PWD for security reasons. The value of RUNAS_PWD_CRED must be the third-party credential name containing the user password.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyPasswordCredName</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RUNAS_SSH_KEY_CRED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows overriding the SSH private key attached to the impersonated user. This can be used only when the impersonation method is set to <code>key</code>. The private key will be defined inside <a href="ProActiveUserGuide.html#_third_party_credentials">Third-party credentials</a> instead of inlined in the workflow. The value of RUNAS_SSH_KEY_CRED must be the third-party credential name containing the SSH key.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySSHKeyCredName</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_multi_node_task"><a class="anchor" href="ProActiveUserGuide.html#_multi_node_task"></a><a class="link" href="ProActiveUserGuide.html#_multi_node_task">6.5. Reserve more than one node for a task execution</a></h3>
<div class="paragraph">
<p>To create a <a href="ProActiveUserGuide.html#_mpi_application">multi-nodes</a> execution (often used for MPI applications), you need to add a <strong>parallel environment</strong>
to the task definition. Parallel environment describes how many nodes are needed for a task execution as well as where these nodes should be
located. Thus, in addition to the number of ProActive Nodes, you can specify the <strong>nodes network topology</strong>, e.g
the set of nodes within some latency threshold, nodes on the same host and many more.</p>
</div>
<div class="paragraph">
<p>Here is the list of topologies we support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Arbitrary</strong> topology does not imply any restrictions on nodes location</p>
</li>
<li>
<p><strong>Best proximity</strong> - the set of closest nodes among those which are not executing other tasks.</p>
</li>
<li>
<p><strong>Threshold proximity</strong> - the set of nodes within a threshold proximity (in microseconds).</p>
</li>
<li>
<p><strong>Single Host</strong> - the set of nodes on a single host.</p>
</li>
<li>
<p><strong>Single Host Exclusive</strong> - the set of nodes of a single host exclusively. The host with selected nodes will be reserved for the user.</p>
</li>
<li>
<p><strong>Multiple Hosts Exclusive</strong> - the set of nodes filled in multiple hosts. Hosts with selected nodes will be reserved for the user.</p>
</li>
<li>
<p><strong>Different Hosts Exclusive</strong> - the set of nodes each from a different host. All hosts with selected nodes will be reserved for the user.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For instance, if a user wants to run 4 processes in parallel inside the scope of one task and in the same compute host, then she/he should specify that in the <strong>Multi-Nodes Execution</strong> section as shown in the following screenshot.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/multi-nodes-execution.png" alt="multi nodes execution" width="320" height="192">
</div>
</div>
<div class="paragraph">
<p>In the Job xml schema, the multi-nodes execution is available at the parallel tag</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
        &lt;topology&gt;
          &lt;singleHostExclusive/&gt;
        &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_error_handling"><a class="anchor" href="ProActiveUserGuide.html#_error_handling"></a><a class="link" href="ProActiveUserGuide.html#_error_handling">6.6. Error Handling</a></h3>
<div class="paragraph">
<p>It’s possible to have errors when your Job is executed. <strong>ProActive Scheduler</strong> provides several mechanisms to deal with exceptional situations in your Jobs.
If a Task contains errors during Job execution, the <strong>ProActive Scheduler</strong> automatically restarts this Task. The number of automatic restarts is defined by the Workflow owner by assigning an integer value to the counter <strong>Number of Automatic Restarts</strong>.
The user also defines <strong>Where he wants that the scheduler restarts In-Error tasks</strong>, i.e., on the same ProActive Node or on another ProActive Node.</p>
</div>
<div class="paragraph">
<p>If automatic restarts does not fix errors, the Scheduler applies one of the following Task error management policies, i.e., the one defined by the user during Workflow creation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Level 0 - Default: Ignore Error and continue Job execution:</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each <strong>In-Error</strong> Task inside the Job transits to <strong>Faulty</strong> and its successor Tasks are executed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Level 1 - In-Error: Continue Job execution, but suspend error-dependent Tasks:</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Successor Tasks of each <strong>In-Error</strong> Task are <strong>Pending</strong> until errors are fixed. The Job is in <strong>In-Error</strong> status.
The user can restart <strong>In-Error</strong> Tasks as many times as he wishes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Level 2 - Pause: Continue running Tasks, and suspend all others:</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Successor Tasks of each <strong>In-Error</strong> Task are paused until errors are fixed. The Job is paused.
The user can restart <strong>In-Error</strong> Tasks as many times as he wishes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Level 3 - Cancel: Running Tasks are aborted, and others not started:</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Job is canceled with all Tasks.</p>
</div>
<div class="paragraph">
<p>Error handling policy can be set globally on the job level, and also can be specified (overridden) individually for each Task.</p>
</div>
<div class="sect3">
<h4 id="_maximum_execution_time_for_a_task"><a class="anchor" href="ProActiveUserGuide.html#_maximum_execution_time_for_a_task"></a><a class="link" href="ProActiveUserGuide.html#_maximum_execution_time_for_a_task">6.6.1. Maximum execution time for a task</a></h4>
<div class="paragraph">
<p>A <code>timeout</code> (also known as <strong><em>walltime</em></strong>) can be set at the task&#8217;s level to stop a task&#8217;s execution when the timeout is reached.</p>
</div>
<div class="paragraph">
<p>This timeout is defined as an attribute of the task element, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="Task_Walltime"
    fork="true"
    walltime="12:00"&gt;
...
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The general format of the <code>walltime</code> attribute is <code>[hh:mm:ss]</code>, where h is hour, m is minute and s is second.
The format still allows for more flexibility. We can define the walltime simply as <code>5</code> which corresponds to
5 seconds, <code>10</code> is 10 seconds, <code>4:10</code> is 4 minutes and 10 seconds, and so on.</p>
</div>
<div class="paragraph">
<p>The walltime mechanism is started just before a task is launched.
If a task does finish before its walltime, the mechanism is canceled. Otherwise, the task is terminated.
Note that the tasks are terminated without any prior notice.</p>
</div>
<div class="paragraph">
<p>The walltime can also be configured using the <code>WALLTIME</code> <a href="ProActiveUserGuide.html#_generic_information">Generic Information</a>. The syntax of this generic information is similar to the task <code>walltime</code> attribute.
The interest of using a generic information rather than a task attribute is that the <code>WALLTIME</code> generic information, if defined at job-level, can be applied to all tasks of a workflow.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When used at job-level, the configured walltime will not be applied to the workflow globally but to each individual task of the workflow.</p>
</div>
<div class="paragraph">
<p>For example, if the walltime is configured at job-level to be ten minutes, each task of the workflow can run no more than ten minutes, but the workflow itself has no time limitation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, an administrator can configure the walltime globally at the scheduler server level. To do so, in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>, the property <code>pa.scheduler.task.walltime</code> must be defined with a global walltime.</p>
</div>
<div class="paragraph">
<p>For example, to define a global walltime of one hour:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>pa.scheduler.task.walltime=1:00:00</pre>
</div>
</div>
<div class="paragraph">
<p>As the walltime can be configured in multiple ways, an order or priority applies to the various configuration (from highest to lowest priority):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Walltime configured as a task attribute</p>
</li>
<li>
<p>Walltime configured as generic information</p>
</li>
<li>
<p>Walltime configured globally at the scheduler-level.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This order of priority ensures that a user can easily override a larger scope configuration.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cron_workflows"><a class="anchor" href="ProActiveUserGuide.html#_cron_workflows"></a><a class="link" href="ProActiveUserGuide.html#_cron_workflows">6.7. Cron Workflows</a></h3>
<div class="paragraph">
<p>The <strong>ProActive Scheduler</strong> allows to schedule <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a> with the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a>.
Find more information in the <a href="../JobPlanner/JobPlannerUserGuide.html"><strong>Job Planner User Guide</strong></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cron_tasks"><a class="anchor" href="ProActiveUserGuide.html#_cron_tasks"></a><a class="link" href="ProActiveUserGuide.html#_cron_tasks">6.8. Cron Tasks</a></h3>
<div class="paragraph">
<p><strong>ProActive Scheduler</strong> supports the execution of time-based tasks or cron tasks. The users can assign a
cron expression to the <code>loop</code> variable of a <strong>Loop</strong> in a ProActive Job. All tasks which belong
that Loop will be executed iteratively and indefinitely. The start time of the next iteration
is the next point of time specified by the cron expression.</p>
</div>
<div class="sect3">
<h4 id="_cron_expression_syntax"><a class="anchor" href="ProActiveUserGuide.html#_cron_expression_syntax"></a><a class="link" href="ProActiveUserGuide.html#_cron_expression_syntax">6.8.1. Cron Expression Syntax</a></h4>
<div class="paragraph">
<p>The syntax of the follows the UNIX crontab pattern, a string consists of five space-separated segments.
 Please refer <a href="http://www.sauronsoftware.it/projects/cron4j/manual.php#p02">cron4j documentation</a> for further details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_setting_up_cron_tasks"><a class="anchor" href="ProActiveUserGuide.html#_setting_up_cron_tasks"></a><a class="link" href="ProActiveUserGuide.html#_setting_up_cron_tasks">6.8.2. Setting up Cron Tasks</a></h4>
<div class="paragraph">
<p>Setting up a cron task requires two steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Define a <strong>Loop</strong> with the desired cron tasks</p>
</li>
<li>
<p>Assign a cron expression as the <code>loop</code> variable value</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example that prints <em>Hello</em> every 10 minutes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;job name=”cron_job”&gt;
     &lt;genericInformation&gt;
        &lt;info name="START_AT" value="2014-01-01T00:00:00+01:00"/&gt;
    &lt;/genericInformation&gt;
    &lt;task name=”cron_task”&gt;
        &lt;scriptExecutable&gt;
            &lt;script&gt;
                &lt;code language="javascript"&gt;
                    print("Hello");
                &lt;/code&gt;
            &lt;/script&gt;
        &lt;/scriptExecutable&gt;
        &lt;controlFlow&gt;
            &lt;loop target=”cron_task”&gt;
                &lt;script&gt;
                    loop = “10 * * * *”
                &lt;/script&gt;
            &lt;loop&gt;
        &lt;/controlFlow&gt;
    &lt;/task&gt;
&lt;/job&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can find a complete example running a simple task every minutes in this <a href="https://trydev2.activeeon.com/doc/user/examples/cron_task.xml" target="_blank" rel="noopener">XML workflow</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_notes"><a class="anchor" href="ProActiveUserGuide.html#_notes"></a><a class="link" href="ProActiveUserGuide.html#_notes">6.8.3. Notes</a></h4>
<div class="ulist">
<ul>
<li>
<p>The execution of the first iteration occurs immediately and does not depend on the cron expression specified.
However the user can specify a start time for the first iteration using <code>START_AT</code> <a href="ProActiveUserGuide.html#_generic_information">generic information</a>.
Its value should be <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener">ISO 8601</a> compliant.</p>
</li>
<li>
<p>Each iteration yields one or more task results and the user can query the job status and task status to
retrieve information of each iteration.</p>
</li>
<li>
<p>It is assumed that execution time of each iteration is less that time gap specified by the cron expression.
If the execution time of an iteration is longer, the execution of the next iteration will occur at next point
 of time with respect to the current time. For instance it is possible to observe lesser number of iteration
  executed within a certain time period than number of expected iterations, if some iterations had take longer finish time.</p>
</li>
<li>
<p>If the execution of the task defining the loop (where the &lt;controlFlow&gt; block is defined) fails,
the cron execution is terminated.</p>
</li>
<li>
<p>ProActive Scheduler executes any cron task indefinitely. Therefore the status of ProActive Job will remain
<code>RUNNING</code> unless the cron task execution terminates either by the user (for instance by killing the job
 or the task) or due an error in the task execution.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_visualization"><a class="anchor" href="ProActiveUserGuide.html#_remote_visualization"></a><a class="link" href="ProActiveUserGuide.html#_remote_visualization">6.9. Remote Visualization</a></h3>
<div class="paragraph">
<p>Using the Scheduler Web Interface, it is possible to access the display of the ProActive Node running a given task.
First remote visualization must be activated via the
<a href="../admin/ProActiveAdminGuide.html#_rest_api_properties">Scheduler configuration files</a> (set <strong>novnc.enabled</strong> to true).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Remote visualization works via VNC where the REST API will connect to the node running the task, i.e a graphical
application. The VNC output will be forwarded to the your browser and you will be able to interact with the
application.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The task that you want to visualize must output a special string using the following format:
<strong>PA_REMOTE_CONNECTION;JOB_ID;TASK_ID;vnc;HOSTNAME:PORT</strong> where <strong>JOB_ID</strong> must be the current <em>job id</em>, <strong>TASK_ID</strong> the current <em>task id</em>
and <strong>HOSTNAME:PORT</strong> the hostname and port where the VNC server runs.</p>
</div>
<div class="paragraph">
<p>It is the task&#8217;s responsibility to print the string.
Here is a <a href="https://trydev2.activeeon.com/doc/user/examples/remote_visualization_script.sh" target="_blank" rel="noopener">sample script</a> that starts a Xvnc server and runs
 a graphical application.
It can be used in a native task for instance.</p>
</div>
<div class="paragraph">
<p>In the Scheduler Web Interface, select the running job and use the <em>Preview</em> tab to enable remote visualization.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Since it runs a graphical application, the task will never exit and run forever. The common use case is that
you want to check manually some results via the graphical application and then exit the application.
The task will then terminate normally.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_troubleshoot_a_workflow_execution"><a class="anchor" href="ProActiveUserGuide.html#_troubleshoot_a_workflow_execution"></a><a class="link" href="ProActiveUserGuide.html#_troubleshoot_a_workflow_execution">6.10. Troubleshoot a Workflow Execution</a></h3>
<div class="paragraph">
<p>When a task has <strong>IN_ERROR</strong> status, a right click on it allows the user to select <em>Mark as finished and resume</em>.
This will set the task status as <strong>FINISHED</strong> and then resume job execution: this task won&#8217;t be executed again, subsequent tasks will execute as if the task executed correctly.
This allows the user to manually perform actions to the <strong>IN_ERROR</strong> task, without cancelling the whole job execution.</p>
</div>
<div class="paragraph">
<p>If the task has not <strong>IN_ERROR</strong> status, the <em>Mark as finished and resume</em> option will be in grey, meaning that the action is disabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_notifications_on_job_events"><a class="anchor" href="ProActiveUserGuide.html#_get_notifications_on_job_events"></a><a class="link" href="ProActiveUserGuide.html#_get_notifications_on_job_events">6.11. Get Notifications on Job Events</a></h3>
<div class="paragraph">
<p>Add a "NOTIFICATION_EVENTS" Generic information in the workflow level, to list events on which a user wants to be notified. List is comma-separated and should be taken from(events are not case sensitive):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Job change priority (or JOB_CHANGE_PRIORITY)</strong></p>
</li>
<li>
<p><strong>Job In-Error (or JOB_IN_ERROR)</strong></p>
</li>
<li>
<p><strong>Job paused (or JOB_PAUSED)</strong></p>
</li>
<li>
<p><strong>Job pending to finished (or JOB_PENDING_TO_FINISHED)</strong></p>
</li>
<li>
<p><strong>Job pending to running (or JOB_PENDING_TO_RUNNING)</strong></p>
</li>
<li>
<p><strong>Job restarted from error (or JOB_RESTARTED_FROM_ERROR)</strong></p>
</li>
<li>
<p><strong>Job resumed (or JOB_RESUMED)</strong></p>
</li>
<li>
<p><strong>Job running to finished (or JOB_RUNNING_TO_FINISHED)</strong></p>
</li>
<li>
<p><strong>Job submitted (or JOB_SUBMITTED)</strong></p>
</li>
<li>
<p><strong>Job running to finished with errors (or JOB_RUNNING_TO_FINISHED_WITH_ERRORS)</strong></p>
</li>
<li>
<p><strong>Job aborted (or JOB_ABORTED)</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Scheduler can send email to the users when one of the above events is received.</p>
</div>
<div class="paragraph">
<p>If a user wants to be notified by all these events, the "NOTIFICATION_EVENTS" Generic information should have "All" (not case sensitive) as its value.</p>
</div>
<div class="paragraph">
<p>Notifications will only be sent for jobs whose generic information (workflow level) contains user&#8217;s email address(es) under the "EMAIL" key, if multiple email addresses need to be used, they should be separated by comma. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;genericInformation&gt;
    &lt;info name="EMAIL" value="user0@example.com, user1@example.com"/&gt;
    &lt;info name="NOTIFICATION_EVENTS" value="Job paused, Job resumed"/&gt;
&lt;/genericInformation&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable this functionality, the configuration need to be done following the steps introduced in
<a href="../admin/ProActiveAdminGuide.html#_get_notifications">Get Notification on Job Events Configuration</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_chaining_workflows_submit_a_workflow_from_another_workflow"><a class="anchor" href="ProActiveUserGuide.html#_chaining_workflows_submit_a_workflow_from_another_workflow"></a><a class="link" href="ProActiveUserGuide.html#_chaining_workflows_submit_a_workflow_from_another_workflow">6.12. Chaining Workflows: Submit a Workflow from another Workflow</a></h3>
<div class="paragraph">
<p>In <strong>ProActive Studio</strong>, the <code>SubmitJobNoWait</code> and <code>SubmitJobAndWait</code> templates under the <strong>Controls</strong> menu allow you to submit a workflow from another workflow using the <a href="ProActiveUserGuide.html#_scheduler_api"><strong>schedulerapi</strong></a> binding.</p>
</div>
<div class="paragraph">
<p>These templates accept the single parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>called_workflow</code>: a <a href="ProActiveUserGuide.html#_proactive_catalog_object_storage_and_versioning">ProActive Catalog</a> path where the syntax is checked by the <strong>PA:CATALOG_OBJECT</strong> model.
The path must be a valid expression that matches the following pattern: <code>bucketName/workflowName[/revision]</code> referencing the workflow to submit from the Catalog (e.g. <em>basic-examples/Native_Task</em>).
In case one wants to promote the variable <code>called_workflow</code> at the level of the Workflow in order to be able to select the submitted Workflow at submission time, he just has to duplicate the variable at the Workflow level and mark the one at the Task level as inherited.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, these templates do not pass any parameter to the submitted workflow (using only default values provided by the workflow).</p>
</div>
<div class="paragraph">
<p>It is possible to modify this behavior by changing the <code>SubmitJobNoWait</code> or <code>SubmitJobAndWait</code> implementation.</p>
</div>
<div class="paragraph">
<p>For example, the following line can be replaced:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">workflow_variables = Collections.EMPTY_MAP</code></pre>
</div>
</div>
<div class="paragraph">
<p>by</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">workflow_variables = [firstName:'John', lastName:'Doe']</code></pre>
</div>
</div>
<div class="paragraph">
<p>To provide the <em>firstName</em> and <em>lastName</em> variables parameters to the submitted workflows.</p>
</div>
<div class="paragraph">
<p>The <code>SubmitJobNoWait</code> or <code>SubmitJobAndWait</code> templates behavior is different in the sense that the latter will wait until the submitted workflow terminates.</p>
</div>
<div class="paragraph">
<p>In case an error occurs in the chained jobs, a user may want to escalate this error from the submitted (child) job to the parent job by throwing an exception. It is possible to integrate this behavior in the <code>SubmitJobAndWait</code> implementation using the <a href="ProActiveUserGuide.html#_scheduler_api"><strong>schedulerapi</strong></a> binding as described in the code below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">jobid = variables.get("jobID")
jobState = schedulerapi.getJobState(jobid)
jobStatus = jobState.getStatus().toString().toUpperCase()
isJobSuccessful = !(jobStatus.equals("FAILED") || jobStatus.equals("CANCELED") || jobStatus.equals("KILLED") || (jobStatus.equals("FINISHED") &amp;&amp; jobState.getNumberOfFaultyTasks() &gt; 0))
if (isJobSuccessful) {
    println("Submitted job id=" + jobid + " (" + variables.get("called_workflow") + ") has been successfully run")
} else {
    throw new IllegalStateException("Submitted job id=" + jobid + " (" + variables.get("called_workflow") + ") has failed. The error is escalated to the parent job.")
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_control_and_validations"><a class="anchor" href="ProActiveUserGuide.html#_control_and_validations"></a><a class="link" href="ProActiveUserGuide.html#_control_and_validations">6.13. Control and Validations</a></h3>
<div class="paragraph">
<p><strong>Web Validations</strong> and <strong>Email Validations</strong> are two <strong>Tasks</strong> available in the Studio&#8217;s <strong>control-notification</strong> Bucket.<br>
When the <strong>Workflow&#8217;s</strong> execution flow reaches one of these Tasks, the <strong>Job</strong> is paused, emails are sent if necessary and a <strong>Validation</strong> is created in the <strong>Notification Portal</strong>.
From there, the Job remains in pause until an authorized user or user group performs an action on the Validation.</p>
</div>
<div class="paragraph">
<p>A <strong>Web Validation</strong> defines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A message: The associated message readable by all notified users.</p>
</li>
<li>
<p>A severity: The associated severity. Can be CRITICAL, ERROR, WARNING or INFO.</p>
</li>
<li>
<p>The Job submitter authorization: If the user who submits the job is authorized to perform an action on the Validation.</p>
</li>
<li>
<p>Authorized users: A comma separated list of users (login names) who will be notified and able to process the Validation.</p>
</li>
<li>
<p>Authorized groups: A comma separated list of groups who will be notified and able to process the Validation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Email Validations</strong> define an extra field called Emails which holds a comma separated list of emails.<br>
Each provided email will be notified that a Validation is pending. The email contains a link to the <strong>Notification Portal</strong>
where the user can perform an action on the Validation.</p>
</div>
<div class="paragraph">
<p>Authorized users may perform three types of actions on a <strong>Validation</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Yes: The Job will resume.</p>
</li>
<li>
<p>No: The Job will be killed.</p>
</li>
<li>
<p>Abstain: The Job will remain paused. Another user must process the Validation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All actions are final for each user. A user cannot modify his response.
Once a Validation receives a <strong>Yes</strong> or <strong>No action</strong>, the Validation is considered processed and <strong>no future actions</strong> can be done by any user.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/notification-service-validation.png" alt="notification service validation" width="768" height="121">
</div>
<div class="title">Figure 2. A Validation in the Notification-Portal</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_labels_to_jobs"><a class="anchor" href="ProActiveUserGuide.html#_adding_labels_to_jobs"></a><a class="link" href="ProActiveUserGuide.html#_adding_labels_to_jobs">6.14. Adding Labels to Jobs</a></h3>
<div class="paragraph">
<p>A label is a property that can be attached to a job, and changed dynamically by end-users.
The <strong>Labels</strong>  give the possibility to tag Jobs, group them and manipulate them by filtering based on these custom labels.
These Labels act as a custom status for the Jobs.
For example, a company can label jobs which are having errors to be reviewed by operators (label "to-be-reviewed"), and later mark them as "reviewed" when done.
Job labels can be used for this specific purpose, but for any other purpose.</p>
</div>
<div class="paragraph">
<p>Before being able to use labels for Jobs, an Administrator has to define the authorized label list, see <a href="../admin/ProActiveAdminGuide.html#_manage_job_labels"><strong>Manage job labels</strong></a>.
If you are not an Admin of your platform, and want to use Labels, ask your administrator to add a label list.</p>
</div>
<div class="paragraph">
<p>It’s possible to add a label on a job in <a href="ProActiveUserGuide.html#_glossary_workflow_automation_portal"><strong>Workflow Execution</strong></a>
The user can set a label on a job by clicking on <strong>Job Actions</strong> button of the job and then click on <strong>Edit label</strong>.
The user can select any of the labels available in the sub-menu list.
It’s possible as well to remove a label from a job by selecting <strong>Job Actions</strong> button of the job and then click on <strong>Remove label</strong>.</p>
</div>
<div class="paragraph">
<p>The user can set a label as well on a job from <a href="ProActiveUserGuide.html#_glossary_scheduler_web_interface"><strong>Scheduler Portal</strong></a>.
It’s possible to select one or more jobs and then, from the right-click drop-down menu, the user can select <strong>Edit label</strong> and chose from the available labels.
The user has the option to remove a label from a job or a list of jobs by selecting <strong>Remove label</strong> from the same drop-down menu.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_spaces"><a class="anchor" href="ProActiveUserGuide.html#_data_spaces"></a><a class="link" href="ProActiveUserGuide.html#_data_spaces">7. Data Spaces</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If a shared folder or file system is not an option in your environment, the ProActive Scheduler provides a convenient way to transfer files between server and tasks.</p>
</div>
<div class="paragraph">
<p>This mechanism is called <strong>ProActive Data Spaces</strong>.</p>
</div>
<div class="paragraph">
<p>Data Spaces come into two categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Server Data Spaces</strong>: Global and User Spaces belong to this category. It represents data spaces located on the server side.</p>
</li>
<li>
<p><strong>Node Data Spaces</strong>: Local and Cache Spaces belong to this category. It represents data spaces located on the Node or during a Task execution.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_global_and_user_spaces"><a class="anchor" href="ProActiveUserGuide.html#_global_and_user_spaces"></a><a class="link" href="ProActiveUserGuide.html#_global_and_user_spaces">7.1. Global and User Spaces</a></h3>
<div class="paragraph">
<p>Server Data Spaces have two types of storage on the host where the ProActive server is running:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <strong>Global Space</strong> where anyone can read/write files</p>
</li>
<li>
<p>An <strong>User Space</strong> which is a personal user data storage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, these spaces are linked to folders in the <strong>data</strong> directory of the ProActive Scheduler host:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PROACTIVE_HOME/data/defaultglobal</code></p>
</li>
<li>
<p><code>PROACTIVE_HOME/data/defaultuser</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>But it can be changed in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_data_spaces_configuration">Data Spaces configuration</a> for further details on how to configure the Global and User spaces.</p>
</div>
</div>
<div class="sect2">
<h3 id="_local_space"><a class="anchor" href="ProActiveUserGuide.html#_local_space"></a><a class="link" href="ProActiveUserGuide.html#_local_space">7.2. Local Space</a></h3>
<div class="paragraph">
<p>The <strong>Local Space</strong> is a Node Data Space created dynamically when a Task is executed.</p>
</div>
<div class="paragraph">
<p>The <strong>Local Space</strong> allows to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transfer files from one of the Server Spaces (Global or User) to the task execution context, before the task starts its execution.</p>
</li>
<li>
<p>Transfer files from the task execution context to one of the Server Spaces (Global or User) at the end of the task execution.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These two types of transfers must be declared in the Task definition in order to occur (transfer is not implicit).
You need to define which files have to be transferred from a data space to computing nodes by using <strong>input files</strong> and reciprocally from computing nodes to a data space by using <strong>output files</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="task1"&gt;
    ...
    &lt;inputFiles&gt;
        &lt;files includes="tata" accessMode="transferFromGlobalSpace"/&gt;
    &lt;/inputFiles&gt;
    &lt;outputFiles&gt;
        &lt;files includes="titi*" accessMode="transferToGlobalSpace"/&gt;
    &lt;/outputFiles&gt;
    ...
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Upon the execution of the previous example, ProActive Scheduler automatically transfers all files to a ProActive Node where the task will be executed. The files are put in a special place called <strong>Local Space</strong> on the ProActive Node. It corresponds to the working directory of a task when the task is in fork mode (default).
From a task point of view, files can be accessed normally like shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">File inputFile = new File("tata")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, based on the previous task definition, all the files whose the name starts with <em>titi</em> (e.g titi, titi2, etc.) produced by <em>task1</em> will be transferred back automatically to Global Space by the Scheduler once the task is finished.</p>
</div>
<div class="paragraph">
<p>Files can be also transferred from/to User Space by specifying <code>transferFromUserSpace</code>/<code>transferToUserSpace</code>.</p>
</div>
<div class="paragraph">
<p>Before running your jobs you should first <strong>upload</strong> your files into either Global or User Space. To do it you can export folders linked to
these spaces by one of the standard protocols like <strong>FTP</strong>, <strong>NFS</strong>, or use available web interfaces like
<a href="https://pydio.com/" target="_blank" rel="noopener">Pydio</a>.</p>
</div>
<div class="paragraph">
<p>It is possible to use wildcards in transfer directives, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="task1"&gt;
    ...
    &lt;inputFiles&gt;
        &lt;files includes="**/tata" accessMode="transferFromGlobalSpace"/&gt;
    &lt;/inputFiles&gt;
    &lt;outputFiles&gt;
        &lt;files includes="*" accessMode="transferToGlobalSpace"/&gt;
    &lt;/outputFiles&gt;
    ...
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information of pattern syntax can be found in the <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)">FileSystem class JDK documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cache_space"><a class="anchor" href="ProActiveUserGuide.html#_cache_space"></a><a class="link" href="ProActiveUserGuide.html#_cache_space">7.3. Cache Space</a></h3>
<div class="paragraph">
<p>In addition to transferring to the Task <strong>Local Space</strong>, it is also possible to transfer files to the Node host <strong>Cache Space</strong>.</p>
</div>
<div class="paragraph">
<p>From the Node host point of view, the Cache Space is <strong>unique</strong> and shared for all tasks and all ProActive Nodes deployed on the host.</p>
</div>
<div class="paragraph">
<p>Transfers to the cache are <strong>not concurrent</strong>, only a single task can transfer to the cache at the same time. I.e if multiple tasks are run in parallel on the same hosts and they all transfer to the cache, these transfers will be executed sequentially.</p>
</div>
<div class="paragraph">
<p>If a file declared for the transfer is newer than the existing version in the cache, the file will be updated.</p>
</div>
<div class="paragraph">
<p>In order to transfer files to the cache, simply use the cache transfer directives inside your job:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="task1"&gt;
    ...
    &lt;inputFiles&gt;
        &lt;files includes="tata" accessMode="cacheFromGlobalSpace"/&gt;
        &lt;files includes="toto" accessMode="cacheFromUserSpace"/&gt;
    &lt;/inputFiles&gt;
    ...
&lt;/task&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The files will not be transferred to the Local Space of the task, so it will not be possible to access these files from the current directory.</p>
</div>
<div class="paragraph">
<p>In order to access these files, use the <strong>cachespace</strong> variable which contains the location of the cache, for example in groovy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">inputFile = new File(cachespace, "tata")</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are no transfer directives to transfer output files <strong>from</strong> the cache. Output files transfers are only possible from the <strong>Local Space</strong>.</p>
</div>
<div class="paragraph">
<p>Files in the cache space are <strong>automatically deleted</strong> after a given period. The default invalidation period is two weeks, which means that files older than two weeks will be automatically deleted.</p>
</div>
<div class="paragraph">
<p>In order to change this period, the ProActive Node must be started with the property <strong>node.dataspace.cache.invalidation.period</strong> (in milliseconds).</p>
</div>
<div class="paragraph">
<p>The property <strong>node.dataspace.cachedir</strong> can also be used to control the cache location on the node.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_script_languages"><a class="anchor" href="ProActiveUserGuide.html#_script_languages"></a><a class="link" href="ProActiveUserGuide.html#_script_languages">8. Script Languages</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_script_engines_names"><a class="anchor" href="ProActiveUserGuide.html#_script_engines_names"></a><a class="link" href="ProActiveUserGuide.html#_script_engines_names">8.1. Script Engines Names</a></h3>
<div class="paragraph">
<p>This section gathers the available scripts engines and the operating system where they run.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Script engine naming is case-sensitive
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Script Engine Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Operating System</th>
<th class="tableblock halign-left valign-top">Additional Requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shell</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run several linux shell scripts using the shebang notation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bash</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run linux bash shell scripts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cmd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Windows CMD scripts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>powershell</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run PowerShell scripts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Powershell 2.0 Engine and .NET Framework 3.5 must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vbscript</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run VBScript commands and scripts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docker</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Docker containers defined as Dockerfile.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docker-compose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run composite Docker containers defined as Docker-compose description file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker and Docker-Compose must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kubernetes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Kubernetes pods using a kubernetes yaml job description file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes client kubectl must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javascript</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Javascript code using the Nashorn JSR223 implementation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groovy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Groovy scripts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ruby</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run JRuby scripts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>python</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Jython scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cpython</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run native CPython scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPython and py4j module must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>R</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run R language scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R must be installed and the rJava library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>perl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Perl scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perl must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>php</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to create html content using PHP interpreter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHP must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scalaw</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engine able to run Scala scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux, Mac, Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_bash_and_shell"><a class="anchor" href="ProActiveUserGuide.html#_bash_and_shell"></a><a class="link" href="ProActiveUserGuide.html#_bash_and_shell">8.2. Bash and Shell</a></h3>
<div class="paragraph">
<p>The <strong>Bash</strong> and <strong>Shell</strong> script engines allows to run linux shell scripts inside ProActive Tasks.
The main difference between the two script engines is that the Shell script engine must use the <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">Shebang instruction</a> to define the Shell in use inside the script.</p>
</div>
<div class="paragraph">
<p>Both engines features the following behaviors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Script bindings are translated as environment variables.</p>
</li>
<li>
<p>Workflow variables cannot be modified by shell scripts except when adding a <a href="ProActiveUserGuide.html#_pre_post_clean">post</a> script written in another language such as the <code>update_variables_from_file</code> script.</p>
</li>
<li>
<p>The <em>result</em> of the script engine execution corresponds to the return code of the bash or shell process executed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example <code>bash</code> script (the shebang notation is omitted):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Hello world"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example <code>shell</code> script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/ksh
print "Hello world"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Writing Bash or Shell scripts in ProActive Workflows is rather straightforward, but a few considerations need to be taken into account.</p>
</div>
<div class="paragraph">
<p>The <a href="ProActiveUserGuide.html#_script_bindings">automatic binding mechanism</a> works differently as other scripting language: it makes use of <strong>environment variables</strong>.</p>
</div>
<div class="paragraph">
<p>For example, suppose that the workflow variable <em>foo</em> is defined. This workflow variable can be accessed in the script engine through a specific environment variable created by the ProActive Scheduler:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Here is the value of the foo variable:"
echo "$variables_foo"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a> chapter shows how various bindings can be used in <code>bash</code> or <code>shell</code> script engines.</p>
</div>
<div class="paragraph">
<p>In chapter <a href="ProActiveUserGuide.html#_inherited_variables">Script variables</a>, we explain how a given task script can modify the variable map and propagate its modifications inside the workflow. This does not apply to shell script engines, i.e. a shell script engine cannot modify the variables map directly.</p>
</div>
<div class="paragraph">
<p>For example, suppose the initial value of the <em>foo</em> variable is "Old Value" and <em>Task_A</em> contains the script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Here is the value of the foo variable:"
echo "$variables_foo"
echo "I want to modify the value of the foo variable:"
variables_foo="New Value"</code></pre>
</div>
</div>
<div class="paragraph">
<p>And <em>Task_B</em> a child of <em>Task_A</em> contains:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Here is the value of the foo variable:"
echo "$variables_foo"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, <em>Task_B</em> will display</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Here is the value of the foo variable:
Old Value</pre>
</div>
</div>
<div class="paragraph">
<p>We can see that the execution of <em>Task_A</em> had no impact on the <em>foo</em> variable.</p>
</div>
<div class="paragraph">
<p>In general, when a modification of a workflow variable is needed, other script engines should be used.
In ProActive Catalog, an example groovy <a href="ProActiveUserGuide.html#_pre_post_clean">post script</a> called <code>update_variables_from_file</code> allows to propagate a variable modification from a shell main Task script using a temporary file:</p>
</div>
<div class="paragraph">
<p><em>Task_A</em> main bash script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Here is the value of the foo variable:"
echo "$variables_foo"
echo "I want to modify the value of the foo variable:"
variables_foo="New Value"
echo "foo=$variables_foo"&gt;&gt;$localspace/.variables</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Task_A</em> grovy post script (<code>update_variables_from_file</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">new File(localspace, ".variables").eachLine { line -&gt;
    keyvalue = line.split("\\s*=\\s*")
    if (keyvalue.length == 2) {
        variables.put(keyvalue[0], keyvalue[1])
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Task_B</em> a child of <em>Task_A</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Here is the value of the foo variable:"
echo "$variables_foo"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Displays:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Here is the value of the foo variable:
New Value</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_windows_cmd"><a class="anchor" href="ProActiveUserGuide.html#_windows_cmd"></a><a class="link" href="ProActiveUserGuide.html#_windows_cmd">8.3. Windows Cmd</a></h3>
<div class="paragraph">
<p>Windows Cmd script engine behaves similarly as <a href="ProActiveUserGuide.html#_bash_and_shell">bash script engine</a>, but for Microsoft Windows Operating systems.</p>
</div>
<div class="paragraph">
<p>It features the following behaviors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Script bindings are translated as environment variables.</p>
</li>
<li>
<p>Workflow variables cannot be modified by Windows Cmd scripts except when adding a <a href="ProActiveUserGuide.html#_pre_post_clean">post</a> script written in another language such as the <code>update_variables_from_file</code> script (see <a href="ProActiveUserGuide.html#_bash_and_shell">Bash script language</a> for further explanations).</p>
</li>
<li>
<p>The <em>result</em> of the script engine execution corresponds to the return code of the <code>cmd.exe</code> process executed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example variable usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dos hljs" data-lang="dos">echo "Here is the value of the foo variable:"
echo "%variables_foo%"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vbscript"><a class="anchor" href="ProActiveUserGuide.html#_vbscript"></a><a class="link" href="ProActiveUserGuide.html#_vbscript">8.4. VBScript</a></h3>
<div class="paragraph">
<p>VBScript engine behaves similarly as <a href="ProActiveUserGuide.html#_windows_cmd">Windows CMD</a> but using visual basic syntax instead of batch. It uses the <code>cscript.exe</code> command to execute <code>vbs</code> scripts.</p>
</div>
<div class="paragraph">
<p>It features the following behaviors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Script bindings are translated as environment variables. They must be accessed inside the script as a process variable.</p>
</li>
<li>
<p>Workflow variables cannot be modified by VB scripts except adding a <a href="ProActiveUserGuide.html#_pre_post_clean">post</a> script written in another language such as the <code>update_variables_from_file</code> script (see <a href="ProActiveUserGuide.html#_bash_and_shell">Bash script language</a> for further explanations).</p>
</li>
<li>
<p>The <em>result</em> of the script engine execution corresponds to the return code of the <code>cscript.exe</code> process executed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example variable usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-vbscript hljs" data-lang="vbscript">Set wshShell = CreateObject( "WScript.Shell" )
Set wshProcessEnv = wshShell.Environment( "PROCESS" )
Wscript.Echo "Hello World from Job " &amp; wshProcessEnv( "variables_PA_JOB_ID" )</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any error occurring during the script execution does not imply necessarily that the workflow task running the script will fail. This is due to the cscript command not immediately exiting upon error.</p>
</div>
<div class="paragraph">
<p>In order to report a failure to the task when running a VB script, the following instruction can be added in the beginning of the script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-vbscript hljs" data-lang="vbscript">On Error Quit 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-vbscript hljs" data-lang="vbscript">On Error Quit 1
Wscript.Echo "This will produce an error" &amp; (1 / 0)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_javascript"><a class="anchor" href="ProActiveUserGuide.html#_javascript"></a><a class="link" href="ProActiveUserGuide.html#_javascript">8.5. Javascript</a></h3>
<div class="paragraph">
<p>Javascript engine allows running <strong>Javascript</strong> scripts inside ProActive Tasks.
This engine is based on <a href="https://docs.oracle.com/javase/10/nashorn/introduction.htm#JSNUG136">Nashorn Javascript engine</a>.
Nashorn Javascript engine provides Rhino compatibility mode which is described in the following
<a href="https://wiki.openjdk.java.net/display/Nashorn/Rhino+Migration+Guide">documentation</a>.</p>
</div>
<div class="paragraph">
<p>Example of Javascript ProActive Task which modifies Job Variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">var status = variables.get("orderStatus")
if (status == "delivered") {
    status = "returned"
}
variables["orderStatus"] = status
variables.put("otherVar", "someConstValue")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example of Javascript ProActive Task which modifies Job Variable containing JSON object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">var jsonVariable = JSON.parse(variables.get("jsonVariable")) // you need to parse your variable first
jsonVariable["newVar"] = "newValue" // then you can modify it as regular json
var serializedJsonVariable = JSON.stringify(jsonVariable) // then you need to serialize it to string
variables["jsonVariable"] = serializedJsonVariable // and finally you can overwrite existing variable</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You have to use <code>variables["myVarName"] = somevar</code> syntax,
instead of <code>variables.put("myVarName", somevar)</code> syntax, for storing the variables if you are using Javascript variables.
You still can use <code>variables.put("myVarName", "someConstantValue")</code> syntax for storing constants.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example of Javascript ProActive Task which returns JSON object as a result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">var jsonObject = {"orderStatus": "done", "customerName": "privatePrivacy"};
var serializedJsonObject = JSON.stringify(jsonObject) // then you need to serialize it to string
result = serializedJsonVariable</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To save a JSON object as a variable or as a task result
you have to serialize to a string first, by using <code>JSON.stringify()</code>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_python"><a class="anchor" href="ProActiveUserGuide.html#_python"></a><a class="link" href="ProActiveUserGuide.html#_python">8.6. Python</a></h3>
<div class="paragraph">
<p>We support both Jython and Python Script Engines. Jython is an implementation of the Python programming language designed to run on the Java platform, Jython programs use Java classes instead of Python modules.
The advantage of using our Jython Script Engine is that you do not need to do any installation. It includes some modules in the standard Python programming language distribution, but lacking the modules implemented originally in C.
Besides, the libraries such as numpy, matplotlib, pandas, etc. are not supported by Jython. And the libraries which depends on numpy such as TensorFlow, PyTorch and Keras etc. are not supported neither.</p>
</div>
<div class="paragraph">
<p>In order to support native Python, we provide also a Python Script Engine. To use the Python Script Engine, the 'Language' field should be put to 'cpython'. By using Python Script Engine, you can personalize the Python version that you want to use.
Since there are many different versions of Python (mainly Python2 and Python3) which are not compatible, ProActive supports all the Python versions (Python2, Python3, etc).
By default, the Python used to execute the script is the default Python version on your machine. In order to use another Python version to execute
the task, it is required to add a 'PYTHON_COMMAND' <a href="ProActiveUserGuide.html#_glossary_generic_information">Generic Information</a>. Its value should contain the symbolic or absolute path to the desired python command to run (for example 'python3' or '/usr/local/opt/python3/bin/python3.6'). If the <a href="ProActiveUserGuide.html#_glossary_generic_information">Generic Information</a> is put at task level this version of Python will be only used for this task, if
it is put in the job level this version of Python will be used for all the tasks in this job.</p>
</div>
<div class="paragraph">
<p>For every tasks which use the native python script engine:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Python must be installed on the ProActive Node which will be used to execute the task.</p>
</li>
<li>
<p>The py4j module must be installed. Please refer to
<a href="../admin/ProActiveAdminGuide.html#_python_script_engine_python_task">Python Script Engine (Python task)</a> for the introduction about the installation of Python Script Engine.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is a workflow example (in xml format) about a simple Python task:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  &lt;taskFlow&gt;
    &lt;task name="Python_Task" &gt;
      &lt;description&gt;
        &lt;![CDATA[ The simplest task, ran by a python engine. ]]&gt;
      &lt;/description&gt;
      &lt;genericInformation&gt;
        &lt;info name="PYTHON_COMMAND" value="python3"/&gt;
      &lt;/genericInformation&gt;
      &lt;scriptExecutable&gt;
        &lt;script&gt;
          &lt;code language="cpython"&gt;
            &lt;![CDATA[
import platform
print("The current version of python you are using is: " + platform.python_version())
print("Hello World")
]]&gt;
          &lt;/code&gt;
        &lt;/script&gt;
      &lt;/scriptExecutable&gt;
    &lt;/task&gt;
  &lt;/taskFlow&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>jython</code> script engine execution runs in the same Java process as the Task execution. A <code>cpython</code> script engine execution runs inside a separate python process.</p>
</div>
</div>
<div class="sect2">
<h3 id="_r"><a class="anchor" href="ProActiveUserGuide.html#_r"></a><a class="link" href="ProActiveUserGuide.html#_r">8.7. R</a></h3>
<div class="paragraph">
<p>ProActive R script engine is based on the <a href="https://github.com/s-u/rJava">Java R Interface</a>.
In order to use the R script engine inside a ProActive Node (container which executes a workflow Task), the following prerequisites are needed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A R distribution must be installed.</p>
</li>
<li>
<p>The <a href="https://cran.r-project.org/web/packages/rJava/index.html">rJava</a> package must be installed.</p>
</li>
<li>
<p>The <code>R_HOME</code> environment variable needs to be configured, to allow the script engine finding the R distribution.</p>
</li>
<li>
<p>The <code>R_LIBS</code> environment variable might need to be configured if R libraries cannot be found automatically in $R_HOME/library.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The ProActive R script engine works on both Linux and Windows.</p>
</div>
<div class="paragraph">
<p>Here is an example of R script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-R hljs" data-lang="R">jobName &lt;- variables[['PA_JOB_NAME']]
cat('My job is called', jobName, '\n')</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following paragraphs describes the R script language specific syntaxes.</p>
</div>
<div class="paragraph">
<p>The progress variable is set as follows (notice the leading dot):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-R hljs" data-lang="R">.set_progress(50)</code></pre>
</div>
</div>
<div class="paragraph">
<p>In contrary to other languages such as groovy or jruby, the parent tasks results (<strong>results</strong> variable) is accessed directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-R hljs" data-lang="R">print(results[[0]])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Variable affectation can be done via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-R hljs" data-lang="R">variables[["myvar"]] &lt;- "some value"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Access to dataspaces variables is similar to other languages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-R hljs" data-lang="R">print(userspace)
print(globalspace)
print(inputspace)
print(localspace)
print(cachespace)
print(outputspace)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some internal R types (such as lists, vectors, strings) are automatically converted when stored as a result or in the workflow variable map,
but other types such as data.table are not automatically converted. Conversion for these types should be done manually, for example using json serialization or an output file.</p>
</div>
<div class="paragraph">
<p>Java objects such as fork environment variable, scheduler, userspace or globalspace APIs are not available in R.</p>
</div>
</div>
<div class="sect2">
<h3 id="_powershell"><a class="anchor" href="ProActiveUserGuide.html#_powershell"></a><a class="link" href="ProActiveUserGuide.html#_powershell">8.8. PowerShell</a></h3>
<div class="paragraph">
<p>ProActive PowerShell script engine is based on <a href="https://github.com/jni4net/jni4net">jni4net</a> to call the Powershell API from Java.</p>
</div>
<div class="paragraph">
<p>It requires that Powershell 2.0 Engine and .NET Framework 3.5 are installed on the relevant machines.</p>
</div>
<div class="paragraph">
<p>An example of Powershell script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-PowerShell hljs" data-lang="PowerShell">$variables.Set_Item('myvar', 'value')
$result = Get-Date</code></pre>
</div>
</div>
<div class="paragraph">
<p>In contrary to other languages such as groovy or jruby, the parent tasks results (<strong>results</strong> variable) is accessed directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-PowerShell hljs" data-lang="PowerShell">Write-Output $results[0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Variable affectation can be done via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-PowerShell hljs" data-lang="PowerShell">$variables.Set_Item('myvar', 'value')</code></pre>
</div>
</div>
<div class="paragraph">
<p>Internal PowerShell types such as Dates are automatically serialized to an internal format which can be understood by another powershell task, for example in the following two tasks:</p>
</div>
<div class="paragraph">
<p>Task1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-PowerShell hljs" data-lang="PowerShell">$result = Get-Date</code></pre>
</div>
</div>
<div class="paragraph">
<p>Task2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-PowerShell hljs" data-lang="PowerShell">Write-Output $results[0].Day</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second task is able to automatically use the Date object received from the first task.</p>
</div>
<div class="paragraph">
<p>When an internal PowerShell type needs to be used by another language than PowerShell, a manual conversion such as json must be performed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_perl"><a class="anchor" href="ProActiveUserGuide.html#_perl"></a><a class="link" href="ProActiveUserGuide.html#_perl">8.9. Perl</a></h3>
<div class="paragraph">
<p>The Perl script engine features the following behaviors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Script bindings are translated as environment variables.</p>
</li>
<li>
<p>Workflow variables cannot be modified by Perl scripts except when adding a <a href="ProActiveUserGuide.html#_pre_post_clean">post</a> script written in another language such as the <code>update_variables_from_file</code> script (see <a href="ProActiveUserGuide.html#_bash_and_shell">Bash script language</a> for further explanations).</p>
</li>
<li>
<p>The <em>result</em> of the script engine execution corresponds to the return code of the <code>perl</code> process executed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In that sense, the Perl script engine behaves similarly as the Bash or Cmd script engines.</p>
</div>
<div class="paragraph">
<p>Please refer to <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a> for the complete list of bindings accessible through environment variables.</p>
</div>
<div class="paragraph">
<p>Inside Perl, you can access environment variables using the <strong>%ENV</strong> hash.</p>
</div>
<div class="paragraph">
<p>Next examples clarify how script engine bindings can be accessed inside Perl scripts.</p>
</div>
<div class="paragraph">
<p>A workflow variable can be accessed using system environment variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-perl hljs" data-lang="perl">my $jobName= $ENV{"variables_PA_JOB_NAME"};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, the result of a parent task:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-perl hljs" data-lang="perl">my $parent_task_result= $ENV{"results_0"};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or another script binding (for example, USERSPACE):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-perl hljs" data-lang="perl">my $USERSPACE= $ENV{"USERSPACE"};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_php"><a class="anchor" href="ProActiveUserGuide.html#_php"></a><a class="link" href="ProActiveUserGuide.html#_php">8.10. PHP</a></h3>
<div class="paragraph">
<p>The PHP script engine features the following behaviors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Script bindings are translated as environment variables.</p>
</li>
<li>
<p>Workflow variables cannot be modified by PHP scripts except when adding a <a href="ProActiveUserGuide.html#_pre_post_clean">post</a> script written in another language such as the <code>update_variables_from_file</code> script (see <a href="ProActiveUserGuide.html#_bash_and_shell">Bash script language</a> for further explanations).</p>
</li>
<li>
<p>PHP script engine is meant to return HTML content and makes use of <a href="ProActiveUserGuide.html#_assigning_metadata_to_task_result">result metadata</a> through the <strong>content.type</strong>="text/html" <a href="ProActiveUserGuide.html#_generic_information">generic information</a>. Using the script engine without defining this generic information in the task is not recommended.</p>
</li>
<li>
<p>The <em>result</em> of the script engine execution is a byte array containing the HTML content produced by the <code>php</code> command. In case the <code>php</code> command returns a non zero value, the result of the script engine execution will be the command exit code and the associated workflow task will be in error.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>php</code> command returns a non-zero exit code only in case of syntax errors. When runtime issues occur, PHP will generally output warnings and the <code>php</code> command will return a zero exit code, not triggering a workflow task failure. This can be modified by using PHP exception mechanism and calling <code>exit(error_code)</code> in case of serious failures.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>The PHP script engine is not well adapted to <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a> or <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a> script execution. Even though pre, post of clean scripts can be defined using the PHP script engine, they will not produce any HTML output in these contexts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Inside PHP, you can access environment variables using the <strong>getenv()</strong> function.</p>
</div>
<div class="paragraph">
<p>Next examples clarify how script engine bindings can be accessed inside PHP scripts.
Please refer to <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a> for the complete list of bindings accessible through environment variables.</p>
</div>
<div class="paragraph">
<p>A workflow variable can be accessed using system environment variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-php hljs" data-lang="php">&lt;?php
    echo "&lt;p&gt;Hello World from &lt;b&gt;job ".getenv("variables_PA_JOB_ID")."&lt;/b&gt;&lt;/p&gt;";
?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, the result of a parent task:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-php hljs" data-lang="php">&lt;?php
    echo "&lt;p&gt;Result of parent task is &lt;b&gt;".getenv("results_0")."&lt;/b&gt;&lt;/p&gt;";
?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or another script binding (for example, USERSPACE):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-php hljs" data-lang="php">&lt;?php
    echo "&lt;p&gt;Userspace is located at &lt;b&gt;".getenv("USERSPACE")."&lt;/b&gt;&lt;/p&gt;";
?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_docker_compose"><a class="anchor" href="ProActiveUserGuide.html#_docker_compose"></a><a class="link" href="ProActiveUserGuide.html#_docker_compose">8.11. Docker Compose</a></h3>
<div class="paragraph">
<p>The execution of a Docker_Compose task requires the installation of both Docker and Docker Compose on the host machine of the ProActive Node. Please refer to the official
 Docker documentation to see how to install <a href="https://docs.docker.com/engine/installation/" target="_blank" rel="noopener">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener">Docker Compose</a>.</p>
</div>
<div class="paragraph">
<p>A Docker_Compose task expects the content of a Docker Compose file to be implemented inside the <em>Script</em> editor of the <strong>Task Implementation</strong> section. You can find out how to write Docker Compose files
in the official <a href="https://docs.docker.com/compose/" target="_blank" rel="noopener">Docker Compose documentation</a>.</p>
</div>
<div class="paragraph">
<p>To get started, we present below the content of the <em>Script</em> editor of a simple example of a Docker_Compose task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">helloworld:
    image: busybox
    command: echo "Hello ProActive"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example describes a container which is called 'helloworld'. That container is created from a busybox image,
 which will run the command 'echo "Hello ProActive"'</p>
</div>
<div class="paragraph">
<p>The Docker_Compose task allows to set parameters to the <code>docker-compose</code> tool with regard to the docker-compose CLI <a href="https://docs.docker.com/compose/reference/overview/">reference</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker-compose [general parameters] COMMAND [options]</pre>
</div>
</div>
<div class="paragraph">
<p>It supports general parameters as well as commands options (we currently only support options for the <code>up</code> command).
You can specify these options by supplying a space character separated list in the <a href="ProActiveUserGuide.html#_glossary_generic_information">generic informations</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To define a <em>general parameter</em>, use the key <strong>docker-compose-options</strong> and supply "--verbose" as an example value.</p>
</li>
<li>
<p>To define a <em>docker-compose up option</em>, use the key <strong>docker-compose-up-options</strong> and supply "--exit-code-from helloworld".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The two latter generic information will be used to generate the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker-compose --verbose up --exit-code-from helloworld</pre>
</div>
</div>
<div class="paragraph">
<p>If splitting by space is prohibitive you can specify the split regex in the <a href="ProActiveUserGuide.html#_glossary_generic_information">generic informations</a> with the
key <strong>docker-compose-options-split-regex</strong>. If you supply e.g. "!SPLIT!" as value, then your <strong>docker-compose-up-options</strong> will need to look like this: "--option1!SPLIT!--option2".</p>
</div>
</div>
<div class="sect2">
<h3 id="_dockerfile"><a class="anchor" href="ProActiveUserGuide.html#_dockerfile"></a><a class="link" href="ProActiveUserGuide.html#_dockerfile">8.12. Dockerfile</a></h3>
<div class="sect3">
<h4 id="_introduction"><a class="anchor" href="ProActiveUserGuide.html#_introduction"></a><a class="link" href="ProActiveUserGuide.html#_introduction">8.12.1. Introduction</a></h4>
<div class="paragraph">
<p>The Dockerfile engine allows to define a docker image using the Dockerfile syntax, build this image and run a container instance from it.
Once the execution is done, the container is stopped and the built image is deleted.
The build, start, stop and, remove actions can be parametrized through advanced command line options which are detailed in the <a href="ProActiveUserGuide.html#_docker_actions">Docker actions</a> section.</p>
</div>
<div class="paragraph">
<p>The execution of a Dockerfile task requires the installation of Docker engine on the host machine of the ProActive Node. Please refer to the official Docker documentation to see how to install <a href="https://docs.docker.com/engine/installation/" target="_blank" rel="noopener">Docker</a>.</p>
</div>
<div class="paragraph">
<p>To use a Dockerfile task, you have to put the content of a Dockerfile inside the <em>Script</em> editor of the <strong>Task Implementation</strong> section. You can find out how to write Dockerfile
in the official <a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener">Dockerfile documentation</a>.
A Dockerfile task allows executing a succession of docker commands according to the lifecycle of Docker containers.
In order, docker build, docker run, docker stop, docker rm and docker rmi are run when a Dockerfile task is executed, this sequence of actions can be configured (see below).</p>
</div>
<div class="paragraph">
<p>To get started, we present below the content of the <em>Script</em> editor of a simple example of a Dockerfile task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">FROM ubuntu:18.04
RUN echo "Hello ProActive" 
RUN sleep 30</code></pre>
</div>
</div>
<div class="paragraph">
<p>The execution of this example will create an image using the Docker build command and start a container from this image using the specified commands (echo and sleep).
At the end, the built image and the started container are deleted.</p>
</div>
<div class="paragraph">
<p>The created image default tag is <code>image_${PA_JOB_ID}t${PA_TASK_ID}</code> and the default container tag is <code>container_${PA_JOB_ID}t${PA_TASK_ID}</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_docker_actions"><a class="anchor" href="ProActiveUserGuide.html#_docker_actions"></a><a class="link" href="ProActiveUserGuide.html#_docker_actions">8.12.2. Docker actions</a></h4>
<div class="paragraph">
<p>The default sequence of docker commands (<strong>build</strong>, <strong>run</strong>, <strong>stop</strong>, <strong>rm</strong>, <strong>rmi</strong>) can be modified to use the docker script engine in different configurations such as multiple workflow tasks.</p>
</div>
<div class="paragraph">
<p>For example, an image could be built in a first task, and the same image can be reused in other tasks (and removed eventually in a terminating task):</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/DockerFile_Reuse_Image.png" alt="DockerFile Reuse Image">
</div>
</div>
<div class="paragraph">
<p>Another example would be to build an image and start a container in a first task, and then reuse this container in a different task:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/DockerFile_Reuse_Container.png" alt="DockerFile Reuse Container">
</div>
</div>
<div class="paragraph">
<p>These different modes are configured using the <code>docker-actions</code> <a href="https://trydev2.activeeon.com/doc/user/ProActiveUserGuide.html.html#_generic_information">Generic Information</a>.</p>
</div>
<div class="paragraph">
<p>For example, <code>docker-actions=build,run</code> allows to build an image, run a container, without performing <code>stop</code>, <code>rm</code> and <code>rmi</code> operations.</p>
</div>
<div class="paragraph">
<p><code>docker-actions</code> supports the following commands <code>build</code>, <code>run</code>, <code>exec</code>, <code>stop</code> (includes both stop and rm), <code>rmi</code>.</p>
</div>
<div class="paragraph">
<p>As the default image and container tag names contains the <strong>job id</strong> and <strong>task id</strong>, it is important to use the following generic information when sharing images or containers accross multiple tasks or multiples workflows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>docker-image-tag</code> : override default tag identifying the docker image.</p>
</li>
<li>
<p><code>docker-container-tag</code> : override default tag identifying the docker container.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When starting the docker container in one task and reusing this container in another task, it is necessary to start the container in <strong>detached mode</strong> (see below for explanation on how to define additionnal options to docker commands).
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When a <strong>build</strong> action is not present in <code>docker-actions</code>, the content of the Dockerfile in the task script editor will be ignored. In that case, the <code>docker-image-tag</code> generic information will be used to identify the image, which must be present in the local <em>docker cache</em>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_additional_options"><a class="anchor" href="ProActiveUserGuide.html#_additional_options"></a><a class="link" href="ProActiveUserGuide.html#_additional_options">8.12.3. Additional options</a></h4>
<div class="sect4">
<h5 id="_parsing_options"><a class="anchor" href="ProActiveUserGuide.html#_parsing_options"></a><a class="link" href="ProActiveUserGuide.html#_parsing_options">Parsing options</a></h5>
<div class="paragraph">
<p>The following command line options need to be parsed by the Java Virtual Machine before generating the real command which will be executed.
The default options parsing uses <em>&lt;space&gt;</em> as separator, but when an individual option contains spaces (such as a character string containg spaces), this could lead to parsing issues.
In order to solve these parsing issues, the generic information <strong>docker-file-options-split-regex</strong> can be used to define a pattern which will be used as options separator.
This pattern must comply to the Java Regular Expression syntax and will be given as parameter to the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-">split function</a> when parsing options.</p>
</div>
<div class="paragraph">
<p>For instance, if the docker-file-options-split-regex generic information is equal to <code>!SPLIT!</code>, then the option <code>/bin/sh!SPLIT!-c!SPLIT!echo 'hello'</code>, will be parsed as [<code>/bin/sh</code>, <code>-c</code>, <code>echo 'hello'</code>]</p>
</div>
</div>
<div class="sect4">
<h5 id="_docker_build"><a class="anchor" href="ProActiveUserGuide.html#_docker_build"></a><a class="link" href="ProActiveUserGuide.html#_docker_build">Docker build</a></h5>
<div class="paragraph">
<p>The Dockerfile task allows to set parameters to the <code>docker build</code> command with regard to the docker-build CLI <a href="https://docs.docker.com/engine/reference/builder/">reference</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker build [OPTIONS] PATH | URL | -</pre>
</div>
</div>
<div class="paragraph">
<p>To define a <em>docker-build option</em>, use the generic information <strong>docker-build-options</strong>.</p>
</div>
<div class="paragraph">
<p>For instance, by using the docker-build-options generic information with the value <code>--add-host</code>, a custom host-to-IP mapping will be added to the image.</p>
</div>
</div>
<div class="sect4">
<h5 id="_docker_run"><a class="anchor" href="ProActiveUserGuide.html#_docker_run"></a><a class="link" href="ProActiveUserGuide.html#_docker_run">Docker run</a></h5>
<div class="paragraph">
<p>The Dockerfile task allows to set parameters to the <code>docker run</code> command with regard to the docker-run CLI <a href="https://docs.docker.com/engine/reference/run/">reference</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]</pre>
</div>
</div>
<div class="paragraph">
<p>To define a <em>docker-run option</em>, use the generic information <strong>docker-run-options</strong>.</p>
</div>
<div class="paragraph">
<p>For instance, by using the docker-run-options generic information with the value <code>--detach</code>, the container will be started in detached mode.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
use the <strong>detached</strong> mode uption to run a container and share this running container between multiple workflow tasks.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_docker_exec"><a class="anchor" href="ProActiveUserGuide.html#_docker_exec"></a><a class="link" href="ProActiveUserGuide.html#_docker_exec">Docker exec</a></h5>
<div class="paragraph">
<p>The <code>docker exec</code> command can be executed optionnally if included in <a href="ProActiveUserGuide.html#_docker_actions">Docker actions</a>.</p>
</div>
<div class="paragraph">
<p>The Dockerfile task allows to set parameters to the <code>docker exec</code> command with regard to the docker-exec CLI <a href="https://docs.docker.com/engine/reference/commandline/exec/">reference</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker exec [OPTIONS] CONTAINER COMMAND [ARG...]</pre>
</div>
</div>
<div class="paragraph">
<p>To define the command and arguments which need to be executed inside a running container, use the generic information <strong>docker-exec-command</strong>.</p>
</div>
<div class="paragraph">
<p>For instance by using the docker-exec-command generic information with the value <code>my-program arg1 arg2</code>, the resulting command will be <code>docker exec &lt;container-tag&gt; my-program arg1 arg2</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
when command arguments contain spaces, use the generic information <a href="ProActiveUserGuide.html#_parsing_options"><strong>docker-file-options-split-regex</strong></a> to define an alternate option parsing pattern. For example: <code>/bin/sh!SPLIT!-c!SPLIT!echo 'hello'</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To define a <em>docker-exec option</em>, use the generic information <strong>docker-exec-options</strong>.</p>
</div>
<div class="paragraph">
<p>For instance, by using the docker-exec-options generic information with the value <code>--workdir /my/workkdir</code>, the command will be executed with the specified work directory.</p>
</div>
</div>
<div class="sect4">
<h5 id="_docker_stop"><a class="anchor" href="ProActiveUserGuide.html#_docker_stop"></a><a class="link" href="ProActiveUserGuide.html#_docker_stop">Docker stop</a></h5>
<div class="paragraph">
<p>The Dockerfile task allows to set parameters to the <code>docker stop</code> command with regard to the docker-stop CLI <a href="https://docs.docker.com/engine/reference/commandline/stop/">reference</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker stop [OPTIONS] CONTAINER [CONTAINER...]</pre>
</div>
</div>
<div class="paragraph">
<p>To define a <em>docker-stop option</em>, use the generic information <strong>docker-stop-options</strong>.</p>
</div>
<div class="paragraph">
<p>For instance by using the docker-stop-options generic information with the value --time 30, the container will be stopped after 30s.</p>
</div>
</div>
<div class="sect4">
<h5 id="_docker_rm"><a class="anchor" href="ProActiveUserGuide.html#_docker_rm"></a><a class="link" href="ProActiveUserGuide.html#_docker_rm">Docker rm</a></h5>
<div class="paragraph">
<p>The Dockerfile task allows to set parameters to the <code>docker rm</code> command with regard to the docker-rm CLI <a href="https://docs.docker.com/engine/reference/commandline/rm/">reference</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker rm [OPTIONS] CONTAINER [CONTAINER...]</pre>
</div>
</div>
<div class="paragraph">
<p>To define a <em>docker-rm option</em>, use the generic information <strong>docker-rm-options</strong>.</p>
</div>
<div class="paragraph">
<p>For instance by using the docker-rm-options generic information with the value <code>--volumes</code>, the anonymous volumes associated with the container will be automatically deleted after the container is removed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_docker_rmi"><a class="anchor" href="ProActiveUserGuide.html#_docker_rmi"></a><a class="link" href="ProActiveUserGuide.html#_docker_rmi">Docker rmi</a></h5>
<div class="paragraph">
<p>The Dockerfile task allows to set parameters to the <code>docker rmi</code> command with regard to the docker-rmi CLI <a href="https://docs.docker.com/engine/reference/commandline/rmi/#options">reference</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker rmi [OPTIONS] IMAGE [IMAGE...]</pre>
</div>
</div>
<div class="paragraph">
<p>To define a <em>docker-rmi option</em>, use the generic information <strong>docker-rmi-options</strong>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proactive_catalog_object_storage_and_versioning"><a class="anchor" href="ProActiveUserGuide.html#_proactive_catalog_object_storage_and_versioning"></a><a class="link" href="ProActiveUserGuide.html#_proactive_catalog_object_storage_and_versioning">9. Proactive Catalog: Object Storage and Versioning</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <strong>ProActive Catalog</strong> provides the storage and versioning of Workflows and several other objects inside <strong>Buckets</strong>. It also features a searching functionality using a <a href="https://graphql.org/">GraphQL</a> query language to fetch Workflows based on particular parameters.
The Catalog is a RESTful service. A <a href="https://swagger.io/">Swagger</a> <a class="catalogRestUrl" href="https://trydev2.activeeon.com/catalog" target="_blank">interface</a> is provided to understand and interact with the service.</p>
</div>
<div class="paragraph">
<p>This chapter will cover:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ProActive Catalog <strong>main concepts</strong>.</p>
</li>
<li>
<p>How to interact with the Catalog from the various <strong>ProActive Workflows and Scheduling Portals</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <a href="../admin/ProActiveAdminGuide.html#_catalog">Catalog administration guide</a> describe how the catalog can be configured and how access control of buckets can be enforced.</p>
</div>
<div class="sect2">
<h3 id="_bucket_concept"><a class="anchor" href="ProActiveUserGuide.html#_bucket_concept"></a><a class="link" href="ProActiveUserGuide.html#_bucket_concept">9.1. Bucket concept</a></h3>
<div class="paragraph">
<p>A <strong>Bucket</strong> is a collection of <em>ProActive Objects</em> and in particular <em>ProActive Workflows</em> that can be shared between users.</p>
</div>
<div class="paragraph">
<p>When the ProActive Scheduler is first started, it contains already a predefined set of buckets, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>controls</em> (set of workflows containing basic constructs such as <a href="ProActiveUserGuide.html#_branch">branch</a>,<a href="ProActiveUserGuide.html#_loop">loop</a> or <a href="ProActiveUserGuide.html#_replicate">replicate</a>)</p>
</li>
<li>
<p><em>basic_examples</em> (set of Workflows samples publicly readable)</p>
</li>
<li>
<p><em>notification_tools</em> (set of tasks which can be used to send email or web notifications and/or validations).</p>
</li>
<li>
<p><em>data_connectors</em> (set of Workflows which can be used to transfer files and data from various sources as explained in the <a href="ProActiveUserGuide.html#_data_connectors">Data Connectors chapter</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Listing the Catalog for existing Buckets is done using the following HTTP request (protocol, port and hostname needs to be adapted accordingly):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET http://localhost:8080/catalog/buckets</pre>
</div>
</div>
<div class="paragraph">
<p>It is also possible to list all objects inside a particular Bucket using its <code>bucketName</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET http://localhost:8080/catalog/buckets/{bucketName}/resources</pre>
</div>
</div>
<div class="paragraph">
<p>Then, we can fetch a particular object based on its <code>name</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET http://localhost:8080/catalog/buckets/{bucketName}/resources/{name}</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By default, the Catalog will always return the latest version of the objects.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_bucket_naming_requirements"><a class="anchor" href="ProActiveUserGuide.html#_bucket_naming_requirements"></a><a class="link" href="ProActiveUserGuide.html#_bucket_naming_requirements">9.2. Bucket naming requirements</a></h3>
<div class="paragraph">
<p>Every bucket is identified by a unique bucket name. The bucket naming should match the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The bucket name must be between 3 and 63 characters long and can contain only lower-case characters, numbers, and dashes.</p>
</li>
<li>
<p>A bucket name must start with a lowercase letter and cannot terminate with a dash.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_object_naming_requirements"><a class="anchor" href="ProActiveUserGuide.html#_object_naming_requirements"></a><a class="link" href="ProActiveUserGuide.html#_object_naming_requirements">9.3. Object naming requirements</a></h3>
<div class="paragraph">
<p>Each Catalog object is identified by a unique name. The object naming should respect the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Empty values are not allowed.</p>
</li>
<li>
<p>Must not be any trailing whitespace at the beginning or/and at the end.</p>
</li>
<li>
<p>Accept all characters except forward slash and comma ('/', ',').</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_object_versioning"><a class="anchor" href="ProActiveUserGuide.html#_object_versioning"></a><a class="link" href="ProActiveUserGuide.html#_object_versioning">9.4. Object versioning</a></h3>
<div class="paragraph">
<p>The Catalog provides versioning of objects. You can list all the revisions of a particular object using the HTTP request:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET http://localhost:8080/catalog/buckets/{bucketName}/resources/{name}/revisions</pre>
</div>
</div>
<div class="paragraph">
<p>The revision of objects is identified by its <code>commit_time</code>. Commit time specifies the time when the object&#8217;s version was added in the Catalog.
You can fetch an object detailed metadata information using its <code>name</code> and <code>commit_time</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET http://localhost:8080/catalog/buckets/{bucketName}/resources/{name}/revisions/{commit_time}</pre>
</div>
</div>
<div class="paragraph">
<p>When an object revision is added to the catalog, depending on its type, it may be parsed by the catalog service to extract some meaningful information.</p>
</div>
<div class="paragraph">
<p>For example, from a <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>ProActive Workflow</strong></a>, the <em>workflow name</em>, <em>project_name</em>, <em>description</em>, <em>documentation</em>, <em><a href="ProActiveUserGuide.html#_generic_information">Generic Information</a></em> and <em><a href="ProActiveUserGuide.html#_workflow_variables">Workflow variables</a></em> are extracted.</p>
</div>
<div class="paragraph">
<p>These information are used in the various portals which interacts with the catalog such as the <a class="automationDashboardUrl" href="../../automation-dashboard/index.html#/portal/workflow-automation" target="_blank">Workflow Execution Portal</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_retrieving_and_searching_objects"><a class="anchor" href="ProActiveUserGuide.html#_retrieving_and_searching_objects"></a><a class="link" href="ProActiveUserGuide.html#_retrieving_and_searching_objects">9.5. Retrieving and searching Objects</a></h3>
<div class="sect3">
<h4 id="_get_an_object_from_the_rest_api"><a class="anchor" href="ProActiveUserGuide.html#_get_an_object_from_the_rest_api"></a><a class="link" href="ProActiveUserGuide.html#_get_an_object_from_the_rest_api">9.5.1. Get an Object from the REST API</a></h4>
<div class="paragraph">
<p>From REST API it&#8217;s possible to retrieve the raw content of a specific revision of an object. For this case it&#8217;s required to specify <code>name</code> and <code>commit_time</code> of the object&#8217;s  revision:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET http://localhost:8080/catalog/buckets/{bucketName}/resources/{name}/revisions/{commit_time}/raw</pre>
</div>
</div>
<div class="paragraph">
<p>In order to get the raw content of a last revision of an object use next REST API endpoint:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET http://localhost:8080/catalog//buckets/{bucketName}/resources/{name}/raw</pre>
</div>
</div>
<div class="paragraph">
<p>In this case you need to provide only the <code>name</code> of an object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A complete documentation of the Catalog REST API is available on the following <a class="catalogRestUrl" href="https://trydev2.activeeon.com/catalog" target="_blank">link</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_graphql_usage"><a class="anchor" href="ProActiveUserGuide.html#_graphql_usage"></a><a class="link" href="ProActiveUserGuide.html#_graphql_usage">9.5.2. GraphQL usage</a></h4>
<div class="paragraph">
<p><a href="https://graphql.org/">GraphQL</a> is the standardized query language, which  provides opportunity to search and retrieve the Workflow by specified criterion from the Catalog.
NOTE: Please follow the <a class="catalogGraphQLUrl" href="https://trydev2.activeeon.com/catalog/graphiql" target="_blank">graphiql endpoint</a> in order to query for the specific Workflow.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_catalog_portal"><a class="anchor" href="ProActiveUserGuide.html#_catalog_portal"></a><a class="link" href="ProActiveUserGuide.html#_catalog_portal">9.6. Catalog Portal</a></h3>
<div class="paragraph">
<p>The Catalog Portal provides the capability to store objects like Workflows, Calendars, Scripts, etc.
Powerful versioning together with full access control (RBAC) is supported, and users can easily share Workflows, templates, and other objects between teams, and various environments (Dev, Test, Staging, Prod).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/catalog-portal-context-menu.png" alt="catalog portal context menu">
</div>
</div>
<div class="sect3">
<h4 id="_creating_new_buckets"><a class="anchor" href="ProActiveUserGuide.html#_creating_new_buckets"></a><a class="link" href="ProActiveUserGuide.html#_creating_new_buckets">9.6.1. Creating new buckets</a></h4>
<div class="paragraph">
<p>Create a new bucket easily by clicking on the <code>plus</code> button.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/create-new-bucket.png" alt="create new bucket">
</div>
</div>
<div class="paragraph">
<p>In the <code>Create the new bucket</code> window, it is possible to associate a bucket to a specific users group.</p>
</div>
<div class="paragraph">
<p>By doing so, only users from the same group will be able to access the content of the bucket.</p>
</div>
<div class="paragraph">
<p>The content of the buckets associated with the default - <code>no group</code>  is accessible by any user, regardless of the groups they belong to.
A bucket with no associated group is also known as a <em>public bucket</em>.</p>
</div>
<div class="paragraph">
<p>More information regarding bucket access control is available in the <a href="../admin/ProActiveAdminGuide.html#_catalog">Catalog administration guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_removing_objects_inside_a_bucket"><a class="anchor" href="ProActiveUserGuide.html#_removing_objects_inside_a_bucket"></a><a class="link" href="ProActiveUserGuide.html#_removing_objects_inside_a_bucket">9.6.2. Removing Objects Inside a Bucket</a></h4>
<div class="paragraph">
<p>Select the objects to remove (CTRL + left click to select multiple objects) and click on the <code>trash</code> button.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
All the object&#8217;s content will be removed from the database and it cannot be restored.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_exportingimporting_objects_into_the_catalog"><a class="anchor" href="ProActiveUserGuide.html#_exportingimporting_objects_into_the_catalog"></a><a class="link" href="ProActiveUserGuide.html#_exportingimporting_objects_into_the_catalog">9.6.3. Exporting/Importing Objects into the Catalog</a></h4>
<div class="paragraph">
<p>Catalog Objects can be exported to a local archive, and share them easily by email, cloud, etc.  The same archive can be imported again in the Catalog on the same scheduler or in a different one.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use this feature to easily share Catalog objects across different environments.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To export the selected objects as a ZIP archive, press the download button from portal view.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/download-catalog-objects.png" alt="download catalog objects">
</div>
</div>
<div class="paragraph">
<p>To import, either a downloaded catalog archive zip file or a single object, click on the upload button and follow the instructions:</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/upload-catalog-objects.png" alt="upload catalog objects">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Object Kind</strong>: The kind of object to add. New Kinds can be added by clicking the <code>plus</code> button.</p>
</li>
<li>
<p><strong>Content Type</strong>: The Content Type is used to indicate the media type of the resource. New content Types can be added by clicking the <code>plus</code> button.</p>
</li>
<li>
<p><strong>Project Name</strong>: The name of the project to which belongs the object. The project name can be provided for all catalog objects (e.g. workflow, script, rule, etc).</p>
</li>
<li>
<p><strong>Tags</strong>: The tags of the object as a comma-separated values list. The tags can not be provided for workflow and zip files.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
In case of uploading an archive, all the objects in the zip must have the same Kind and Content Type.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_create_a_zip_archive_with_catalog_objects"><a class="anchor" href="ProActiveUserGuide.html#_create_a_zip_archive_with_catalog_objects"></a><a class="link" href="ProActiveUserGuide.html#_create_a_zip_archive_with_catalog_objects">9.6.4. Create a zip archive with Catalog objects</a></h4>
<div class="paragraph">
<p>When a user creates an archive in order to upload a set of Catalog objects, hidden files should be excluded from this archive.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<strong>Create a zip archive with Catalog objects in Mac OS.</strong>
First, go to the folder with the objects that you want to archive.
Then, you can execute the following command to archive the files without the <code>.DS_Store</code> and <code>__MACOSX</code> files:
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>zip -r ArchiveForCatalog.zip . -x "*.DS_Store" -x "__MACOSX"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_object_versioning_in_catalog_portal"><a class="anchor" href="ProActiveUserGuide.html#_object_versioning_in_catalog_portal"></a><a class="link" href="ProActiveUserGuide.html#_object_versioning_in_catalog_portal">9.6.5. Object Versioning in Catalog Portal</a></h4>
<div class="paragraph">
<p>The HEAD of a Catalog object corresponds to the last commit and it is displayed on the portal.</p>
</div>
<div class="paragraph">
<p>In order to see all the commits of the selected Object, please click on the <code>clock</code> button inside the description area.</p>
</div>
<div class="paragraph">
<p>The commits are shown in chronological order by commit time.</p>
</div>
<div class="paragraph">
<p>It is possible to restore any previous commit to the HEAD position by clicking the <code>restore</code> button.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/revisions-catalog.png" alt="revisions catalog">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_catalog_rbac_management"><a class="anchor" href="ProActiveUserGuide.html#_catalog_rbac_management"></a><a class="link" href="ProActiveUserGuide.html#_catalog_rbac_management">9.6.6. Catalog RBAC management</a></h4>
<div class="paragraph">
<p>RBAC, or Role Based Access Control, represents a control model for a system in which each access decision is based on the role to which the user is associated.
In the catalog, RBAC operations are only performed by admins or bucket owners.
RBAC operations can be distinguished in two types:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Managing an authorization for a bucket</p>
</li>
<li>
<p>Managing an authorization for a specific object in a bucket</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both bucket and object authorizations can be assigned for either a specific user (using her/his username) or a user group (that contains multiple users).
For each specific bucket or object, only one authorization can be assigned to a username or a user group.
However, the user can eventually have multiple authorizations due to a mix of username and user-group related authorizations for a bucket or an object.
Furthermore, the created authorizations can be modified or deleted.</p>
</div>
<div class="paragraph">
<p>An authorization gives the specified user(s) some access permission to the specific bucket or object.
We provide four access types that can be authorized:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Read: The user or user group can only read the bucket and its objects (in case of a bucket authorization) or the object only (in case of a catalog-object authorization) and execute it.</p>
</li>
<li>
<p>Write: The user or user group have, in addition to the read right, the privilege to add new objects in the bucket and to modify or delete one or many.</p>
</li>
<li>
<p>Admin: The user or user group have, in addition to the write rights, the ability to modify a bucket (e.g. change the group) or delete a bucket.
Moreover, they can create, modify or delete the authorizations of other users for the bucket or its objects.
The same apply in case of a catalog-object admin authorization where the user or group of users, in addition to the write rights, can create, modify or delete a catalog-object authorizations for other users.
However, they can not create, edit or delete bucket authorization neither edit nor delete them.</p>
</li>
<li>
<p>No Access: The user or group of users have no access to the bucket and its objects (in case of a bucket authorization) or to a specific object (in case of a catalog-object authorization).
This access type is usually used when the admin wants to authorize a user group except for some specific users, or authorize access to a bucket except for some specific objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To manage the authorizations, there is a dedicated authorization view for each bucket that is accessible by clicking on the shield-like button above the buckets' list, as shown in the figure below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/OpenAuthorizationView.png" alt="OpenAuthorizationView">
</div>
</div>
<div class="paragraph">
<p>The same is also available for an object.
Moreover, when you select an object, the authorization view button will appear above the objects of the selected bucket (the middle view of the portal).
The figure below shows the icon location.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/objectAuthorizationView.png" alt="objectAuthorizationView">
</div>
</div>
<div class="paragraph">
<p>Once you click on it (bucket or object authorization view button), the authorization view will open.
The figure belows shows the authorization view when the admin has clicked on the authorization view of a bucket.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/AuthorizationView.png" alt="AuthorizationView">
</div>
</div>
<div class="paragraph">
<p>The authorization view consists in two parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, there are three buttons that allow the admin to refresh the authorizations list, add a new authorization and delete an existing one</p>
</li>
<li>
<p>Second, under the buttons, there is the list that shows the authorizations that are assigned to the current bucket.
In the case of a bucket authorization view, the list shows the authorizations created for the bucket and all of its objects.
However, in the case when the admin click on the authorization view button above the selected object, the list will show only the authorizations created for the selected object.
The figure below shows an example.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/objectGrantList.png" alt="objectGrantList">
</div>
</div>
<div class="paragraph">
<p>Each authorization has the following properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bucket Name</p>
</li>
<li>
<p>Catalog Object (optional): If this attribute is empty, the authorization is automatically considered for the bucket. However, if the admin specifies an object name, the access is created for the specified object.</p>
</li>
<li>
<p>Grantee Type: Group or user</p>
</li>
<li>
<p>Grantee (required): the username or the user group name</p>
</li>
<li>
<p>Access Type: read, write, admin or no access</p>
</li>
<li>
<p>Priority: This attribute is only used for access associated with a group. Thus, if the user belongs to 2 groups, each of which has a different type of access, the system will choose the access with the highest priority for these users.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To create a new authorization, the admin just needs to click on the "+" button.
Then the view of creating authorization (as shown in the figure below) will be popped up.
The admin needs to fill in the authorization attributes (as presented above), then click the "Add authorization" button.
The figure below shows an example of an authorization which authorize the user named <code>olivia</code> the <code>write</code> access to the bucket <code>admin-bucket</code>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/CreateAuthorization.png" alt="CreateAuthorization">
</div>
</div>
<div class="paragraph">
<p>Once the admin has created an authorization, it will appear in the authorizations list in the authorization view, as shown in the figure below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/ListOfGrants.png" alt="ListOfGrants">
</div>
</div>
<div class="paragraph">
<p>Once the authorization has been created, the admin will be able to visualize a "shield" icon next to bucket or the object to which the authorization was created.
The figure below shows an example.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/admin-grant-icon.png" alt="admin grant icon">
</div>
</div>
<div class="paragraph">
<p>Moreover, when the user, who is benefiting from the authorization, log in to his/her account, she/he will be able to visualize an icon indicating the rights she/he possess over the bucket or the object.
These icons are the following:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/Authorrizations-icons.png" alt="Authorrizations icons">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The first icon indicates that the user has "read" rights over the bucket or the object.</p>
</li>
<li>
<p>The second icon indicates that the user has "write" rights over the bucket or the object.</p>
</li>
<li>
<p>The third icon indicates that the user has "admin" rights over the bucket or the object.</p>
</li>
<li>
<p>The fourth icon appears only on a bucket to which the user has "no access" rights over it, but only when the user also has a read, write or admin rights over at least one object in the bucket.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The figure below shows how the user visualize the authorization icon next to the bucket.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/user-bucket-grant-icon.png" alt="user bucket grant icon">
</div>
</div>
<div class="paragraph">
<p>The figure below shows how the user visualize the authorization icon next to the objects.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/user-object-grant-icon.png" alt="user object grant icon">
</div>
</div>
<div class="paragraph">
<p>If the object does not have an icon next to it (e.g. <code>Native_Task_Windows</code>), it implies that it has not a direct authorization assign to it, and the user will have the same right over it as she/he has over the bucket containing it.</p>
</div>
<div class="paragraph">
<p>To delete an authorization, the admin simply needs to select one from the list and the delete button will be activated.
It is the button with a "bin" symbol next to the add a new authorization button "+".
The figure below shows an example.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/DeleteGrant.png" alt="DeleteGrant">
</div>
</div>
<div class="paragraph">
<p>Once the admin delete the authorization, it will be removed from the list as shown in the figure below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/DeletedGrant.png" alt="DeletedGrant">
</div>
</div>
<div class="paragraph">
<p>To update an authorization, the admin needs to click on the drop-down list of the access type or the priority level and select a new value.
The figure below shows an example.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/updateAGrant.png" alt="updateAGrant">
</div>
</div>
<div class="paragraph">
<p>Once the selection is made the authorization will be updated as shown in the figure below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/updatedGrant.png" alt="updatedGrant">
</div>
</div>
<div class="paragraph">
<p>However, when a user has admin rights over a bucket or an object, he/she can not downgrade his/her rights while updating the authorization.
Another user, with admin rights over the bucket or the object, can do it for him/her.</p>
</div>
</div>
<div class="sect3">
<h4 id="_authorization_calculation_rules"><a class="anchor" href="ProActiveUserGuide.html#_authorization_calculation_rules"></a><a class="link" href="ProActiveUserGuide.html#_authorization_calculation_rules">9.6.7. Authorization calculation rules</a></h4>
<div class="paragraph">
<p>Since each user might belong to multiple user groups, a user could have multiple authorizations over a bucket due to his/her username or user group(s) authorizations.
In such case, the resulting access type will be calculated as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the username-assigned authorization exists, it is prioritized and its access type will be the user&#8217;s resulting rights over the bucket.</p>
</li>
<li>
<p>If multiple user-groups authorizations exist, without a username authorization, the resulting user&#8217;s rights over the bucket will be the access type of the group authorization that have the highest priority.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the case where a user has multiple authorizations over an object, the resulting access type will be calculated as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the username-assigned authorization for the object exists, it is prioritized and its access type will be the user&#8217;s resulting rights over the object.</p>
</li>
<li>
<p>If multiple user-groups authorizations exist for the object, without a username authorization, the resulting user&#8217;s rights over the object will be the access type of the group authorization that have the highest priority.</p>
</li>
<li>
<p>If both username-assigned authorizations and user-groups authorizations do not exist for the object, the resulting user&#8217;s rights for the object will be the same as the user&#8217;s resulting rights over the bucket that contains the object.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notification_service"><a class="anchor" href="ProActiveUserGuide.html#_notification_service"></a><a class="link" href="ProActiveUserGuide.html#_notification_service">10. Notification-service</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="ProActiveUserGuide.html#_overview_2"></a><a class="link" href="ProActiveUserGuide.html#_overview_2">10.1. Overview</a></h3>
<div class="paragraph">
<p>The <a href="ProActiveUserGuide.html#_glossary_notification_portal"><strong>Notification Portal</strong></a> allows users to subscribe, be notified and react when different
types of events occur during <a href="ProActiveUserGuide.html#_glossary_job"><strong>Job</strong></a> execution, on the state of the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a> or when
automating and scheduling jobs with the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a>.</p>
</div>
<div class="paragraph">
<p>The <a href="ProActiveUserGuide.html#_glossary_notification_portal"><strong>Notification Portal</strong></a> is also where users can perform actions on <strong>Validations</strong> when they are
authorized to visualize them. Learn more at the <a href="ProActiveUserGuide.html#_control_and_validations">Validation&#8217;s dedicated section</a>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/notifications-view.png" alt="notifications view">
</div>
<div class="title">Figure 3. Notifications view</div>
</div>
</div>
<div class="sect2">
<h3 id="_subscriptions"><a class="anchor" href="ProActiveUserGuide.html#_subscriptions"></a><a class="link" href="ProActiveUserGuide.html#_subscriptions">10.2. Subscriptions</a></h3>
<div class="sect3">
<h4 id="_principle"><a class="anchor" href="ProActiveUserGuide.html#_principle"></a><a class="link" href="ProActiveUserGuide.html#_principle">10.2.1. Principle</a></h4>
<div class="paragraph">
<p>A notification <a href="ProActiveUserGuide.html#_glossary_notification_subscription"><strong>Subscription</strong></a> consists in a set of events selected by a user for a particular service,
a type of workflows or a specific workflow.</p>
</div>
<div class="paragraph">
<p>Event reception is configurable and allows portal notifications, email sending and custom script execution.</p>
</div>
<div class="paragraph">
<p>A user creating a subscription will need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select one of the subscription types</p>
</li>
<li>
<p>Select one or more events from a predefined list that user will be notified of.</p>
</li>
<li>
<p>Activate one or more <a href="ProActiveUserGuide.html#_glossary_notification_methods"><strong>Notification Methods</strong></a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_subscription_types"><a class="anchor" href="ProActiveUserGuide.html#_subscription_types"></a><a class="link" href="ProActiveUserGuide.html#_subscription_types">10.2.2. Subscription types</a></h4>
<div class="paragraph">
<p>There are three types of <a href="ProActiveUserGuide.html#_glossary_notification_subscription"><strong>Subscriptions</strong></a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Service subscriptions.</p>
</li>
<li>
<p>Job subscriptions.</p>
</li>
<li>
<p>Channel subscriptions.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_service_subscriptions"><a class="anchor" href="ProActiveUserGuide.html#_service_subscriptions"></a><a class="link" href="ProActiveUserGuide.html#_service_subscriptions">Service subscriptions</a></h5>
<div class="paragraph">
<p>Service subscriptions are unique for each service they are associated to and created by default for every user.
It enables to subscribe to events that may occur on a particular service like the <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive Scheduler</strong></a>
or the <a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a>.</p>
</div>
<div class="paragraph">
<p>Service subscriptions are deactivated by default, to start receiving notifications users only needs to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Activate one or more <a href="ProActiveUserGuide.html#_glossary_notification_methods"><strong>Notification Methods</strong></a>.</p>
</li>
<li>
<p>Select desired events</p>
</li>
<li>
<p>Activate the <a href="ProActiveUserGuide.html#_glossary_notification_subscription"><strong>Subscription</strong></a>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/jobplanner-subscription.png" alt="jobplanner subscription">
</div>
<div class="title">Figure 4. Example with job planner subscription</div>
</div>
<div class="paragraph">
<p>To modify a service subscription simply click on it and do your adjustments. The subscription is automatically saved.</p>
</div>
</div>
<div class="sect4">
<h5 id="_job_subscriptions"><a class="anchor" href="ProActiveUserGuide.html#_job_subscriptions"></a><a class="link" href="ProActiveUserGuide.html#_job_subscriptions">Job subscriptions</a></h5>
<div class="paragraph">
<p>Job subscriptions must be defined and created in order to receive notifications.
Users can have multiple job subscriptions with different granularity on the workflows they are associated to.</p>
</div>
<div class="paragraph">
<p>At least one field of <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflow</strong></a> data must be provided to create the subscription, that means it
is not possible to create a job subscription that will listen for all jobs submitted to the Scheduler.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A workflow name which references a variable (e.g., my_workflow_${my_var} or my_workflow_$my_var) is replaced by substituting the variable with its value, in case this variable is defined at the workflow level.
The replacement is performed when the job subscription is created.
</td>
</tr>
</table>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/job-subscription-workflow-data.png" alt="job subscription workflow data">
</div>
<div class="title">Figure 5. Workflow data to create a job subscription</div>
</div>
<div class="paragraph">
<p>Two scenarios are possible when creating a job subscription:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a bucket name only is set, then the user will be notified for all <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflows</strong></a> of the specified bucket.</p>
</li>
<li>
<p>Otherwise there has to be an exact match between the bucket name, project name and workflow name of the workflow you wish to be notified of
and the associated subscription.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To create a job subscription, go to the <a href="ProActiveUserGuide.html#_glossary_notification_portal"><strong>Notification Portal</strong></a>,
job subscriptions tab and click on the <em>+</em> button</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/job-subscriptions-summary.png" alt="job subscriptions summary">
</div>
<div class="title">Figure 6. Button to create a job subscription</div>
</div>
<div class="paragraph">
<p>Then fill and select the mandatory fields and click on <em>Save</em></p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/job-subscription-creation.png" alt="job subscription creation">
</div>
<div class="title">Figure 7. Job subscription creation</div>
</div>
<div class="paragraph">
<p>The <em>Submitted by</em> switch may be activated to be notified of events for job submitted only by the user who created the subscription.</p>
</div>
<div class="paragraph">
<p>To modify a job subscription simply click on it, do your adjustments and save it.</p>
</div>
</div>
<div class="sect4">
<h5 id="channels_subscription"><a class="anchor" href="ProActiveUserGuide.html#channels_subscription"></a><a class="link" href="ProActiveUserGuide.html#channels_subscription">Channel subscriptions</a></h5>
<div class="paragraph">
<p>Like service subscriptions, channel subscriptions are unique to each user. It allows users to subscribe to channels created beforehand.
A user that is a notification service administrator can subscribe to any channel.
Otherwise, a user can subscribe to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A public channel (a channel authorized for all groups).</p>
</li>
<li>
<p>A channel whose group authorization matches one of the user groups.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To visualize past notifications and start receiving new ones, a user must update his channel subscription with the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Activate a notification method for the channel subscription.</p>
</li>
<li>
<p>Select desired channels from the user&#8217;s available channels list</p>
</li>
<li>
<p>Finally, activate the subscription.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/channel-sub.png" alt="channel sub">
</div>
<div class="title">Figure 8. Channel subscription</div>
</div>
<div class="paragraph">
<p>Go to the <a href="ProActiveUserGuide.html#channels_section"><strong>Channel section</strong></a> to learn more about channels.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_notification_methods"><a class="anchor" href="ProActiveUserGuide.html#_notification_methods"></a><a class="link" href="ProActiveUserGuide.html#_notification_methods">10.2.3. Notification methods</a></h4>
<div class="paragraph">
<p>To define the way to be notified, a user must select at least one notification method.
It is mandatory to have at least one active notification method in order to create or update a subscription.</p>
</div>
<div class="paragraph">
<p>There are three notification methods available</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Portal": The notification will be displayed in the <a href="ProActiveUserGuide.html#_glossary_notification_portal"><strong>Notification Portal</strong></a>.</p>
</li>
<li>
<p>"Emails": The notification will be sent by email.
Users can specify multiple email addresses as recipients for notifications.
In order to use this method, the SMTP settings must be defined in the dedicated configuration file, inside the ProActive server.
Please refer to the corresponding <a href="../admin/ProActiveAdminGuide.html#_email_notification_method">Email notification configuration</a> section in the administration guide.</p>
</li>
<li>
<p>"Third-party": To trigger a script execution. It also requires configuration to specify the location of the script,
or optional options such as multiple script execution.
Go to the <a href="../admin/ProActiveAdminGuide.html#_third_party_notification_method">Third party notification method</a>
section in the Admin guide to look at the full configuration.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_notification_method_confirmation"><a class="anchor" href="ProActiveUserGuide.html#_notification_method_confirmation"></a><a class="link" href="ProActiveUserGuide.html#_notification_method_confirmation">Notification Method confirmation</a></h5>
<div class="paragraph">
<p>An administrator can activate confirmation request for notification methods other than portal.
In such a scenario, once you&#8217;ve specified the notification method parameter, an input field will become visible below the third-party parameter or telephone parameter, prompting the user to enter a confirmation code. In the case of emails, the verification code input field is always shown.</p>
</div>
<div class="paragraph">
<p>It is also possible to resend from there a confirmation code in case it hasn&#8217;t been received
, or if it has exceeded its 15 minutes life span and is now expired.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/notification-method.png" alt="notification method">
</div>
<div class="title">Figure 9. Code confirmation request</div>
</div>
<div class="ulist">
<ul>
<li>
<p>"Email": When a new email address is added, an email will be sent with the confirmation code in the body.</p>
</li>
<li>
<p>"Third-party": An execution will occur with the confirmation code in the accessible MESSAGE script field.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For notification methods which parameters are mandatory (ie: Email), the user may go to his subscriptions
and activate the notification method to start receiving notification by this mean once the parameter is confirmed.</p>
</div>
<div class="paragraph">
<p>If a notification method parameter is deleted or changed and reused in the future, then a new confirmation
request will be triggered.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="channels_section"><a class="anchor" href="ProActiveUserGuide.html#channels_section"></a><a class="link" href="ProActiveUserGuide.html#channels_section">10.3. Channels</a></h3>
<div class="sect3">
<h4 id="_principle_2"><a class="anchor" href="ProActiveUserGuide.html#_principle_2"></a><a class="link" href="ProActiveUserGuide.html#_principle_2">10.3.1. Principle</a></h4>
<div class="paragraph">
<p>A notification service <a href="ProActiveUserGuide.html#_glossary_notification_channel">Channel</a> is a centralized space in the <a href="ProActiveUserGuide.html#_glossary_notification_portal">Notification Portal</a>
for groups of users to receive notifications created from a workflow using the <code>Channel_Notification</code> task.
It consists of a unique name and a set of user groups authorized to subscribe to the channel.</p>
</div>
<div class="paragraph">
<p>In order to receive channel notifications, it is required to create one or more channels and update the
<a href="ProActiveUserGuide.html#channels_subscription"><strong>Channel subscription</strong></a> to specify which channels we wish to be notified of.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rules"><a class="anchor" href="ProActiveUserGuide.html#_rules"></a><a class="link" href="ProActiveUserGuide.html#_rules">10.3.2. Rules</a></h4>
<div class="ulist">
<ul>
<li>
<p>Unlike other notifications, channel notifications are retroactive. It means that when a user subscribes to a channel that already had notifications
, they will appear to the user.</p>
</li>
<li>
<p>Channel notifications cannot be deleted, the <a href="../admin/ProActiveAdminGuide.html#_notification_housekeeping">Housekeeping</a>
takes care of it once their life span is exceeded.</p>
</li>
<li>
<p>Notification service administrators can subscribe to any channels. Other users must be part of at least one of the authorized groups
defined in the channel in order to subscribe to a channel, unless all groups are authorized (public channels).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_channel_creation"><a class="anchor" href="ProActiveUserGuide.html#_channel_creation"></a><a class="link" href="ProActiveUserGuide.html#_channel_creation">10.3.3. Channel Creation</a></h4>
<div class="paragraph">
<p>All users are able to create channels for any group. It is required to provide a unique channel name and a list of groups
which will be authorized to subscribe to the channel.</p>
</div>
<div class="paragraph">
<p>It can either be authorized for all groups, a subset of the channel owner groups, or any free input.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/create-channel.png" alt="create channel">
</div>
<div class="title">Figure 10. Channel creation</div>
</div>
</div>
<div class="sect3">
<h4 id="_channel_management"><a class="anchor" href="ProActiveUserGuide.html#_channel_management"></a><a class="link" href="ProActiveUserGuide.html#_channel_management">10.3.4. Channel Management</a></h4>
<div class="paragraph">
<p>Channel management is where users can update channels by modifying a channel&#8217;s name, add or remove authorized groups or delete it.</p>
</div>
<div class="paragraph">
<p>A notification service administrator is able to update any channels, whether he is the creator of the channel or not.
Other users can update only channels that they have created.</p>
</div>
<div class="paragraph">
<p>To update a channel&#8217;s name or authorized groups, simply make the update and click on the <em>Save</em> button.</p>
</div>
<div class="paragraph">
<p>To delete a channel, click on the <em>Bin</em> icon on the left of the channel definition.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/channel-management.png" alt="channel management">
</div>
<div class="title">Figure 11. Channel management</div>
</div>
</div>
<div class="sect3">
<h4 id="_channel_notification"><a class="anchor" href="ProActiveUserGuide.html#_channel_notification"></a><a class="link" href="ProActiveUserGuide.html#_channel_notification">10.3.5. Channel Notification</a></h4>
<div class="paragraph">
<p>In order to send a channel notification, a user must append the <code>Channel_Notification</code> task to a <a href="ProActiveUserGuide.html#_glossary_workflow">Workflow</a>.</p>
</div>
<div class="paragraph">
<p>The notification&#8217;s message, severity and notified groups are configurable by the user in the <code>Channel_Notification</code>.
Simply update the following <strong>Task variables</strong> values to do so.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/channel-notif-task-variables.png" alt="channel notif task variables">
</div>
<div class="title">Figure 12. Channel_Notification task variables</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>MESSAGE:</strong> The message that will be displayed to the notified users. This variable is a free input
and cannot be empty.</p>
</li>
<li>
<p><strong>SEVERITY:</strong> Users can define the notification&#8217;s severity by updating this variable. Available severities are
INFO, WARNING, ERROR, CRITICAL. The default severity is INFO.</p>
</li>
<li>
<p><strong>CHANNELS:</strong> channels that will be notified. It can be a single channel, a comma separated list of channels, or the <code>All</code> keyword.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>All</code> (default) means:
- For a notification-service administrator, send a notification to all channels
- For a standard user, send a notification to all authorized channels (the user belongs to an authorized group of these channels).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_event_types"><a class="anchor" href="ProActiveUserGuide.html#_event_types"></a><a class="link" href="ProActiveUserGuide.html#_event_types">10.4. Event types</a></h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Job notifications</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 31.25%;">
<col style="width: 31.25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Readable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Severity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Message</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_RUNNING_TO_FINISHED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job was running and is now finished</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_PENDING_TO_RUNNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job was pending and is now running</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_IN_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In-error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job encountered an error, the error handling is set to suspend in error task dependencies and set the job In-error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is in-error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paused</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job was running and has been paused</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is paused</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_REMOVE_FINISHED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has been removed from the scheduler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is removed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_RESTARTED_FROM_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restarted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job was in error and the user has restarted it</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is restarted after being in-error for a while</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_RESUMED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job was paused and has been resumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is resumed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_SUBMITTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submitted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has been submitted to the scheduler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job is submitted to the scheduler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOB_FINISHED_WITH_ERRORS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finished with issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job encountered an error, the error handling is set to ignore it and continue job execution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job has finished with errors</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Task notifications</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 31.25%;">
<col style="width: 31.25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Readable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Severity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Message</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_IN_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task In_Error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job encountered an error and has been set In-Error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is In-Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_WAITING_FOR_RESTART</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task waiting on error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is waiting for a new execution attempt after being in error, faulty or failed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is waiting for restart after an error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_RUNNING_TO_FINISHED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is finished</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_IN_ERROR_TO_FINISHED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In-Error Task finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job was in error and is now finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An In-Error task in the job is finished</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_PENDING_TO_RUNNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job was pending and is now running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is running</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_SKIPPED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task skipped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task was not executed, it was the non-selected branch of an IF/ELSE control flow action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is skipped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_REPLICATED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task replicated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is replicated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task in the job is replicated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_FINISHED_WITH_ERRORS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task finished with errors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task with no execution attempts left is faulty, failed or in error.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task has finished with the an error status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_PROGRESS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task progress updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task progress updated to x%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The task progress variable has been updated, it can be a value between 0 and 100.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_VISU_ACTIVATED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task visualization activated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task visualization activated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A task&#8217;s remote visualisation has been activated</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Scheduler notifications</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 31.25%;">
<col style="width: 31.25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Readable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Severity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Message</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PAUSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paused</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A user has paused the scheduler, all running jobs run to completion but jobs wont be submitted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Scheduler is paused, all running jobs run to completion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DB_DOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CRITICAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Schedulers database is down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Schedulers database is down</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>KILLED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Killed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A user has killed the Scheduler, ProActive server needs to be restarted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Scheduler is killed! The process of the scheduler&#8217;s executable is killed. No interaction can be done anymore.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RESUMED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheduler was paused or frozen and has been resumed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Scheduler is resumed! Jobs can be submitted again</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STOPPED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stopped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheduler has been stopped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Scheduler is stopped! Jobs cannot be submitted anymore. Already running jobs run to completion, but not pending jobs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FROZEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Frozen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheduler has been stopped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Scheduler is frozen! All running tasks run to completion, but running jobs wait for the scheduler to resume.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SHUTTING_DOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shutting down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheduler has been shutdown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Scheduler is shutting down&#8230;&#8203; The scheduler is shutting down itself.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Started</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheduler has started</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Scheduler is started! Jobs can be submitted.</p></td>
</tr>
</tbody>
</table>
<table id="_job_planner_notifications" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Job Planner notifications (with example values)</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 31.25%;">
<col style="width: 31.25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Readable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Severity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Message</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>ASSOCIATION_FAILED</code></p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">Association failed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CRITICAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The server was unable to retrieve the resource <code>Resource_Name</code> in the bucket <code>Bucket_Name</code>
located <code>URL</code>.
Changing the status of the association <code>Association_Id</code> of the calendar <code>Calendar_Name</code> to FAILED.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="ProActiveUserGuide.html#_glossary_catalog"><strong>Catalog</strong></a> resource is not found, the association changes to FAILED status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The association <code>Association_Id</code> of the workflow <code>Workflow_Name</code> to the calendar <code>Calendar_Name</code> had a failed execution, as it is configured, the association status is set to FAILED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An association&#8217;s status has been updated to FAILED due to the previous execution having an error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update the association <code>Association_Id</code> of calendar <code>Calendar_Name</code> status to failed: Failed to retrieve planned calendar.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> could not retrieve the calendar of a Workflow-Calendar association. The association&#8217;s status has been updated to FAILED.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CANNOT_SUBMIT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cannot submit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job-planner was unable to submit the <code>Date_Time</code> the workflow <code>Workflow_Name</code> in the bucket <code>Bucket_Name</code> from the association <code>Association_Id</code> of the calendar <code>Calendar_Name</code> to the scheduler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> was unable to submit the workflow from the bucket to the scheduler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SUBMISSION_POSTPONED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submission postponed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submission of the workflow <code>Workflow_Name</code> planned at <code>Date_Time</code> by association <code>Association_Id</code> of calendar <code>Calendar_Name</code> is postponed because job <code>Job_Id</code> is on-going</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A submission has been postponed because the previous execution is still under way</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>SUBMISSION_CANCELED</code></p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">Submission canceled</p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submission of the workflow <code>Workflow_Name</code> planned at <code>Date_Time</code> by association <code>Association_Id</code> of calendar <code>Calendar_Name</code> is canceled because job <code>Job_Id</code> is on-going</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A submission has been canceled because the previous execution is still under way</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The workflow Variables_Propagation in the bucket <code>Bucket_Name</code> from the association <code>Association_Id</code> of calendar <code>Calendar_Name</code> was not executed at <code>Date_Time</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The workflow execution time is before the current time that means we missed an execution and it is not configured to postpone the execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The workflow <code>Workflow_Name</code> in the bucket <code>Bucket_Name</code> from the association <code>Association_Id</code> of <code>Calendar_Name</code> was not submitted 10 times, skipping execution to the next association</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binded to the upper notification, it informs how many execution were missed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><code>DELAYED_SUBMISSION_EXECUTING</code></p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Delayed submission executing</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The workflow <code>Workflow_Name</code> in the bucket <code>Bucket_Name</code> from the association <code>Association_Id</code> of calendar <code>Calendar_Name</code> planned the <code>Date_Time</code>
was postponed and executed the <code>Date_Time</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A planned workflow execution that has been postponed is now executing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_glossary_job_planner"><strong>Job Planner</strong></a> has detect that the execution of the workflow <code>Workflow_Name</code> in the bucket <code>Bucket_Name</code> from the association <code>Association_Id</code> of calendar <code>Calendar_Name</code>
has been missed the <code>Date_Time</code>. As it is configured, Job-planner will submit an execution now at <code>Date_Time</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The workflow execution time is before the current time that means we missed an execution and it is
configured to submit a new execution</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Resource Manager notifications</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 31.25%;">
<col style="width: 31.25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Readable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Severity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Message</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STARTED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Started</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Resource Manager has started</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProActive has been launched, and the Resource Manager has started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SHUTTING_DOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shutting Down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Resource Manager is shutting down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProActive has been stopped and the Resource Manager is shutting down</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SHUTDOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shutdown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Resource Manager is shutdown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProActive is stopped, and the Resource Manager is shut down</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODE_DOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node <code>Node_Name</code> from the Node Source <code>Node_Source</code> is down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A node has been declared as down by the Resource Manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODE_LOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node lost</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node <code>Node_Name</code> from the Node Source <code>Node_Source</code> is lost</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Resource Manager can not connect to a Node, therefore it is declared as lost</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODE_REMOVED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node removed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node <code>Node_Name</code> from the Node Source <code>Node_Source</code> is removed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Node Source has been undeployed, and the node has been removed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODE_ADDED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node added</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node <code>Node_Name</code> from the Node Source <code>Node_Source</code> is added</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Node Source has been deployed, and the node has been added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODESOURCE_SHUTDOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Source shutdown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node Source <code>Node_Source</code> is shutdown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Node Source has been undeployed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODESOURCE_REMOVED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Source removed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node Source <code>Node_Source</code> is removed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Node Source has been removed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODESOURCE_DEFINED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Source defined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node Source <code>Node_Source</code> is defined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Node Source has been defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODESOURCE_UPDATED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Source updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node Source <code>Node_Source</code> is updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Node Source has been updated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NODESOURCE_CREATED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Source created</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Node Source <code>Node_Source</code> is created</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Node Source has been deployed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_presets"><a class="anchor" href="ProActiveUserGuide.html#_presets"></a><a class="link" href="ProActiveUserGuide.html#_presets">10.5. Presets</a></h3>
<div class="paragraph">
<p>Presets are not individual event types like the ones described above; instead, they are preconfigured groupings within a subscription&#8217;s list of event types. These presets conveniently group related event types, and when selected, automatically add multiple events to the subscription</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Presets</caption>
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 22.2222%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Subscription</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>All with issues</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jobs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatically adds the events JOB_IN_ERROR, JOB_FINISHED_WITH_ISSUES, TASK_IN_ERROR, TASK_FINISHED_WITH_ERRORS to the subscription</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_third_party_credentials"><a class="anchor" href="ProActiveUserGuide.html#_third_party_credentials"></a><a class="link" href="ProActiveUserGuide.html#_third_party_credentials">11. Third-party credentials</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="ProActiveUserGuide.html#_overview_3"></a><a class="link" href="ProActiveUserGuide.html#_overview_3">11.1. Overview</a></h3>
<div class="paragraph">
<p>Tasks executed by <a href="ProActiveUserGuide.html#_glossary_proactive_scheduler"><strong>ProActive
Scheduler</strong></a> might need to use a password or another kind of
credentials to access third-party services or applications. For example
a user might wish to pass his MySQL password to Native Task which runs
a <code>mysql</code> command to dump a database.</p>
</div>
<div class="paragraph">
<p>In such cases it is often desirable to store the credentials
separately from the <a href="ProActiveUserGuide.html#_glossary_workflow"><strong>Workflow</strong></a>
definition. <strong>ProActive Scheduler</strong> provides such facility.</p>
</div>
<div class="paragraph">
<p>Third-party credentials in <strong>ProActive Scheduler</strong> are user-defined
key-value pairs of strings stored on the server side in encrypted
form. The credentials are accessible in the tasks executed by the user
via API (Script and Java Tasks) or variable substitution (arguments of
Native Tasks and parameters of Java Tasks).</p>
</div>
</div>
<div class="sect2">
<h3 id="_managing_third_party_credentials"><a class="anchor" href="ProActiveUserGuide.html#_managing_third_party_credentials"></a><a class="link" href="ProActiveUserGuide.html#_managing_third_party_credentials">11.2. Managing third-party credentials</a></h3>
<div class="paragraph">
<p>Methods to add or remove the credentials and to list the stored
credential keys are exposed in both Java and REST APIs.</p>
</div>
<div class="paragraph">
<p>End users can manage their credentials using the
<a href="ProActiveUserGuide.html#_glossary_scheduler_web_interface">Scheduler Web Interface</a> &amp; Workflow Execution  (Portal
&#8594; Manage third-party credentials) or the
<a href="ProActiveUserGuide.html#_scheduler_command_line">Command Line Interface</a>.</p>
</div>
<div class="sect3">
<h4 id="_example_cli_usage"><a class="anchor" href="ProActiveUserGuide.html#_example_cli_usage"></a><a class="link" href="ProActiveUserGuide.html#_example_cli_usage">11.2.1. Example CLI usage</a></h4>
<div class="paragraph">
<p>Add credential:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./bin/proactive-client --put-credential MY_MYSQL_PASSWORD mypassword
Credential "MY_MYSQL_PASSWORD" successfully stored.</pre>
</div>
</div>
<div class="paragraph">
<p>List credentials (only keys are listed):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./bin/proactive-client --list-credentials
[...]
MY_MYSQL_PASSWORD</pre>
</div>
</div>
<div class="paragraph">
<p>Remove credential:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./bin/proactive-client --remove-credential MY_MYSQL_PASSWORD
Credential "MY_MYSQL_PASSWORD" successfully removed.</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_third_party_credentials"><a class="anchor" href="ProActiveUserGuide.html#_using_third_party_credentials"></a><a class="link" href="ProActiveUserGuide.html#_using_third_party_credentials">11.3. Using third-party credentials</a></h3>
<div class="sect3">
<h4 id="_in_a_script_task"><a class="anchor" href="ProActiveUserGuide.html#_in_a_script_task"></a><a class="link" href="ProActiveUserGuide.html#_in_a_script_task">11.3.1. In a Script Task</a></h4>
<div class="paragraph">
<p>In a <a href="ProActiveUserGuide.html#_glossary_task_executable_script">Script Task</a>, the <code>credentials</code> <a href="ProActiveUserGuide.html#_glossary_script_bindings">script binding</a> is a hash map containing all user&#8217;s
credentials:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// mysqlPassword will contain the value corresponding to "MY_MYSQL_PASSWORD" key
mysqlPassword = credentials.get('MY_MYSQL_PASSWORD')</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>credentials</code> <a href="ProActiveUserGuide.html#_glossary_script_bindings">script binding</a> can also be used in <a href="ProActiveUserGuide.html#_glossary_additional_task_scripts">additional scripts</a> defined inside a <a href="ProActiveUserGuide.html#_glossary_task">ProActive Task</a>.
To know in which scripts <code>credentials</code> is available, study the <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_in_java_task"><a class="anchor" href="ProActiveUserGuide.html#_in_java_task"></a><a class="link" href="ProActiveUserGuide.html#_in_java_task">11.3.2. In Java Task</a></h4>
<div class="paragraph">
<p>In a <a href="ProActiveUserGuide.html#_glossary_task_executable_java">Java Task</a>, the method <code>getThirdPartyCredential</code> of <code>JavaExecutable</code>
returns the credential corresponding to the key passed as parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class PrintAndReturnCredentialsTask extends JavaExecutable {
  @Override
  public Serializable execute(TaskResult... results) throws Throwable {
    // mysqlPassword will contain the value corresponding to "MY_MYSQL_PASSWORD" key
    String mysqlPassword = getThirdPartyCredential("MY_MYSQL_PASSWORD");
    [...]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another way to use credentials in Java tasks is via parameters. If a
parameter contains a string of the form <code>$credentials_&lt;credential
key&gt;</code>, the string is replaced with the value of the corresponding
credential:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="..."&gt;
  &lt;javaExecutable class="..."&gt;
    &lt;parameters&gt;
      &lt;!-- mysqlPassword will contain the value corresponding to "MY_MYSQL_PASSWORD" key --&gt;
      &lt;parameter name="mysqlPassword" value="$credentials_MY_MYSQL_PASSWORD"/&gt;
    &lt;/parameters&gt;
  &lt;/javaExecutable&gt;
&lt;/task&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_in_a_native_task"><a class="anchor" href="ProActiveUserGuide.html#_in_a_native_task"></a><a class="link" href="ProActiveUserGuide.html#_in_a_native_task">11.3.3. In a Native Task</a></h4>
<div class="paragraph">
<p>Finally, a credential can be passed to a <a href="ProActiveUserGuide.html#_glossary_task_executable_native">Native Task</a> via
arguments. Note that, as with Java Task parameters, the <code>$credentials_</code>
prefix is necessary. In the example below, <code>/bin/echo</code> will be called
with the value corresponding to the key <code>MY_MYSQL_PASSWORD</code> (if the
key is not present, no replacement occurs):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;task name="Task1"&gt;
  &lt;nativeExecutable&gt;
    &lt;staticCommand value="/bin/echo" &gt;
      &lt;arguments&gt;
        &lt;argument value="$credentials_MY_MYSQL_PASSWORD"/&gt;
      &lt;/arguments&gt;
    &lt;/staticCommand&gt;
  &lt;/nativeExecutable&gt;
&lt;/task&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_task_apis"><a class="anchor" href="ProActiveUserGuide.html#_task_apis"></a><a class="link" href="ProActiveUserGuide.html#_task_apis">12. Scheduler, Resource Manager, DataSpace, Synchronization, and Signal APIs</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>From a <a href="ProActiveUserGuide.html#_glossary_task_executable_script">Script Task</a>, several APIs are accessible via Java objects bound to dedicated <a href="ProActiveUserGuide.html#_glossary_script_bindings">script bindings</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Scheduler API: using the <code>schedulerapi</code> binding, it is possible to interact directly with the scheduler server and do several operations (submit jobs, wait for tasks termination, list running jobs, etc.).</p>
</li>
<li>
<p>Resource Manager API: using the <code>rmapi</code> binding, it is possible to interact directly with the RM and do several operations (lock nodes, change node tags, monitor nodes, get thread dump, etc.).</p>
</li>
<li>
<p>DataSpace API: the <code>userspaceuri</code> or <code>globalspaceuri</code> bindings allow to manipulate files present in User or Global spaces. Operations include listing, uploading, downloading, or deleting files.</p>
</li>
<li>
<p>Synchronization API: using the <code>synchronizationapi</code> binding, it is possible to handle advanced task synchronization dynamically.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_scheduler_api"><a class="anchor" href="ProActiveUserGuide.html#_scheduler_api"></a><a class="link" href="ProActiveUserGuide.html#_scheduler_api">12.1. Scheduler API</a></h3>
<div class="paragraph">
<p>From inside a <a href="ProActiveUserGuide.html#_glossary_task_executable_script">Script Task</a>, you can use the Scheduler API binding like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// importing necessary classes
import org.ow2.proactive.scheduler.common.job.*
import org.ow2.proactive.scheduler.common.task.*
import org.ow2.proactive.scripting.*


// connect to the scheduler
schedulerapi.connect()

// create a hello world job
job = new TaskFlowJob()
job.setName("HelloJob")
task = new ScriptTask()
task.setName("HelloTask")
task.setScript(new TaskScript(new SimpleScript("println 'Hello World'", "groovy")))
job.addTask(task)

// submitting the job
jobid = schedulerapi.submit(job)

// Wait for the task termination
taskResult = schedulerapi.waitForTask(jobid.toString(), "HelloTask", 120000)

// displaying the task output
println taskResult.getOutput().getAllLogs(false)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The complete API description can be found in the <a href="../javadoc/org/ow2/proactive/scheduler/task/client/SchedulerNodeClient.html">SchedulerNodeClient JavaDoc</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>schedulerapi</code> <a href="ProActiveUserGuide.html#_glossary_script_bindings">script binding</a> can also be used in <a href="ProActiveUserGuide.html#_glossary_additional_task_scripts">additional scripts</a> defined inside a <a href="ProActiveUserGuide.html#_glossary_task">ProActive Task</a>.
To know in which scripts <code>schedulerapi</code> is available, study the <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_resource_manager_api"><a class="anchor" href="ProActiveUserGuide.html#_resource_manager_api"></a><a class="link" href="ProActiveUserGuide.html#_resource_manager_api">12.2. Resource Manager API</a></h3>
<div class="paragraph">
<p>From inside a <a href="ProActiveUserGuide.html#_glossary_task_executable_script">Script Task</a>, you can use the Resource Manager API binding like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// connect to the rm
rmapi.connect()

// displaying the RM state
full = rmapi.getRMStateFull()
full.getNodesEvent().each { event -&gt;
    println(event.getNodeUrl())
    println(event.getNodeState())
}

// add node token to the current node
// get current node url
nodeUrl = variables.get("PA_NODE_URL")
rmapi.addNodeToken(nodeUrl, "MyOwnToken")


println "Test rmapi.getTopology() " + rmapi.getTopology()
println "Test rmapi.getExistingNodeSources() " + rmapi.getExistingNodeSources()
println "Test rmapi.getInfrasToPoliciesMapping() " + rmapi.getInfrasToPoliciesMapping()
println "Test rmapi.getConnectionInfo() " + rmapi.getConnectionInfo()
println "Test rmapi.getRMStateFull() " + rmapi.getRMStateFull()
println "Test rmapi.getRMThreadDump() " + rmapi.getRMThreadDump()
println "Test rmapi.getState() " + rmapi.getState()
println "Test rmapi.getSupportedNodeSourceInfrastructures() " + rmapi.getSupportedNodeSourceInfrastructures()
println "Test rmapi.getSupportedNodeSourcePolicies() " + rmapi.getSupportedNodeSourcePolicies()
println "Test rmapi.getVersion() " + rmapi.getVersion()
println "Test rmapi.isActive() " + rmapi.isActive()


// do not forget to disconnect from the rm
rmapi.disconnect();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The complete API description can be found in the <a href="../javadoc/org/ow2/proactive_grid_cloud_portal/common/RMRestInterface.html">documentation</a> of <code>RMRestInterface</code> Java interface.
The <code>sessionid</code> argument has to be ignored when using the <code>rmapi</code> script binding.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>rmapi</code> <a href="ProActiveUserGuide.html#_glossary_script_bindings">script binding</a> can also be used in <a href="ProActiveUserGuide.html#_glossary_additional_task_scripts">additional scripts</a> defined inside a <a href="ProActiveUserGuide.html#_glossary_task">ProActive Task</a>.
To know in which scripts <code>rmapi</code> is available, study the <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_dataspace_apis"><a class="anchor" href="ProActiveUserGuide.html#_dataspace_apis"></a><a class="link" href="ProActiveUserGuide.html#_dataspace_apis">12.3. DataSpace API</a></h3>
<div class="paragraph">
<p>The traditional way to transfer files from the user or global space to a task is by using file transfer directives as described in chapter <a href="ProActiveUserGuide.html#_data_spaces">Data Spaces</a>.</p>
</div>
<div class="paragraph">
<p>Where file transfer directives are sufficient to cover usual cases, it is sometimes necessary to manipulate directly the dataspace API to have a finer control level.</p>
</div>
<div class="paragraph">
<p>Below is an example use of this api inside a <a href="ProActiveUserGuide.html#_glossary_task_executable_script">Script Task</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// connect to the user space
userspaceapi.connect()

// push file
inFile = new File("inFile.txt");
inFile.write("HelloWorld")
userspaceapi.pushFile(inFile, "remoteDir/inFile.txt")

// list files

remotefiles = userspaceapi.listFiles("remoteDir", "*.txt"
println remotefiles

// pull File
outFile = new File("outFile.txt")
userspaceapi.pullFile("remote/inFile.txt", outFile)

println outFile.text</code></pre>
</div>
</div>
<div class="paragraph">
<p>The complete description of user and global space APIs can be found in the <a href="../javadoc/org/ow2/proactive/scheduler/task/client/DataSpaceNodeClient.html">DataSpaceNodeClient JavaDoc</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>userspaceapi</code> and <code>globalspaceapi</code> <a href="ProActiveUserGuide.html#_glossary_script_bindings">script bindings</a> can also be used in <a href="ProActiveUserGuide.html#_glossary_additional_task_scripts">additional scripts</a> defined inside a <a href="ProActiveUserGuide.html#_glossary_task">ProActive Task</a>.
To know in which scripts these bindings are available, study the <a href="ProActiveUserGuide.html#_variables_quick_reference">Script Bindings Reference</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_task_synchronization_api"><a class="anchor" href="ProActiveUserGuide.html#_task_synchronization_api"></a><a class="link" href="ProActiveUserGuide.html#_task_synchronization_api">12.4. Synchronization API</a></h3>
<div class="paragraph">
<p>This Synchronization API allows for both communication and synchronization between Tasks and between Jobs dynamically at execution. It is based on a Key-Value Store offering atomic operations. It enables to easily put into action all classical synchronization patterns: Critical Sections and Mutual Exclusion, Rendez-vous, Barriers, Producer/Consumer&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>In summary and for simple use, just go to <a href="ProActiveUserGuide.html#_proactive_studio">ProActive Studio</a> and use the predefined templates in the Controls menu (e.g., <strong>Key_Value</strong>).
Use those templates in your own workflow to see how it works. You can further try the <a href="ProActiveUserGuide.html#_examples">examples</a> below to better understand the usage of the Synchronization API.</p>
</div>
<div class="paragraph">
<p>Task synchronization is traditionally handled by the ProActive Scheduler through <a href="ProActiveUserGuide.html#_dependency">Task Dependencies</a>, where dependent ProActive Tasks are started only after their parents Tasks completed.</p>
</div>
<div class="paragraph">
<p>In some cases, <strong>static task dependencies</strong> are not enough to synchronize tasks execution.</p>
</div>
<div class="paragraph">
<p>This is the case when a task depends on the status of another task executed in a different branch of a workflow, a sibling task or even another job/workflow.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s suppose workflow <em>A</em> contains a single task <em>A_1</em> starting an apache server. Task <em>A_1</em> starts the server and remains alive while the server is up.
When workflow <em>A</em> is killed, task <em>A_1</em> stops the Apache server.</p>
</div>
<div class="paragraph">
<p>A task <em>B_1</em> of another workflow <em>B</em> wants to interact with this server.</p>
</div>
<div class="paragraph">
<p><strong>Problem:</strong> task <em>B_1</em> does not know if the apache server is up and how to contact it.</p>
</div>
<div class="paragraph">
<p>Using <strong>Task Synchronization API</strong>, task <em>A_1</em> can advertise the server URL to the Synchronization Service.</p>
</div>
<div class="paragraph">
<p>Task <em>B_1</em> can use Task Synchronization API to wait until the apache server is advertised, it can also perform the necessary operations and advertise task <em>A_1</em> that the operation is complete and the apache server can be terminated.</p>
</div>
<div class="paragraph">
<p>As we can see, Task Synchronization API can be used for two-ways synchronization.</p>
</div>
<div class="paragraph">
<p>Synchronizations can be used in any part of a Task (Pre/Post/Clean Scripts, Task Implementation, Selection Script). Using Synchronization API within Selection Scripts is a way to avoid a Task to be started (consuming a Node) and to be actually doing nothing, just waiting for a specific condition to occur.</p>
</div>
<div class="sect3">
<h4 id="_usage"><a class="anchor" href="ProActiveUserGuide.html#_usage"></a><a class="link" href="ProActiveUserGuide.html#_usage">12.4.1. Usage</a></h4>
<div class="paragraph">
<p><strong>Task Synchronization API</strong> is a <strong>Java API</strong> defined by the following <a href="../javadoc/org/ow2/proactive/scheduler/synchronization/Synchronization.html">API documentation</a>.</p>
</div>
<div class="paragraph">
<p>The Synchronization API is connected to a centralized <strong>Synchronization Service</strong>. This service ensures that each request is executed atomically, and that changes are persisted on disk.</p>
</div>
<div class="paragraph">
<p>The Synchronization API is available inside ProActive Tasks through the <code>synchronizationapi</code> <a href="ProActiveUserGuide.html#_glossary_script_bindings">script binding</a>.</p>
</div>
<div class="sect4">
<h5 id="_channels"><a class="anchor" href="ProActiveUserGuide.html#_channels"></a><a class="link" href="ProActiveUserGuide.html#_channels">Channels</a></h5>
<div class="paragraph">
<p>The <strong>Synchronization Service</strong> works as a <em>Key-Value Store</em> organized in <strong>channels</strong>. Each <strong>channel</strong> acts as a private <em>Key-Value Store</em>.</p>
</div>
<div class="paragraph">
<p>This means that each <em>put</em> operation is identified by a 3-tuple: <em>&lt;Channel_identifier, Key_binding, Value&gt;</em>.</p>
</div>
<div class="paragraph">
<p>Users of the Synchronization API are responsible to create <strong>channels</strong> as fit their needs. Channels have no notion of <strong>ownership</strong>, a channel created by workflow A started by user <em>Alice</em> can be used by workflow B started by user <em>Bob</em>.</p>
</div>
<div class="paragraph">
<p>This is because Synchronization API is often used to synchronize workflow tasks across multiple users.</p>
</div>
<div class="paragraph">
<p>Therefore, <strong>channel naming</strong> is important and should be precise enough to avoid accidental overlap. Channels should be created when needed and deleted after use.</p>
</div>
<div class="paragraph">
<p>For example, a channel which is used only inside a specific job instance (to synchronize tasks withing this job) should be created inside some <strong>initialization task</strong> at the beginning of this job, and deleted in some <strong>cleaning task</strong> at the end. The channel name should contain the <a href="ProActiveUserGuide.html#_glossary_job_id">Job Id</a>.</p>
</div>
<div class="paragraph">
<p>When channels are created, the user can decide if the channel should be persisted on disk or kept in memory only.</p>
</div>
<div class="paragraph">
<p>On startup, the Synchronization Service contains only the persistent channels which were previously created using the Synchronization API. In-memory channels created before the reboot of the scheduler are lost.</p>
</div>
</div>
<div class="sect4">
<h5 id="_api_description"><a class="anchor" href="ProActiveUserGuide.html#_api_description"></a><a class="link" href="ProActiveUserGuide.html#_api_description">API Description</a></h5>
<div class="paragraph">
<p>The Synchronization API is similar to the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html">Java 8 Map interface</a>, with the following differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It contains methods to create/delete <em>channels</em> and methods to interact with the <em>channel Map</em> itself.</p>
</li>
<li>
<p>Each channel Map operations must take a <em>channel identifier</em> parameter.</p>
</li>
<li>
<p>The Synchronization API supports <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html">Java 8 lambdas</a>, but lambdas must be passed as string arguments defining <a href="http://groovy-lang.org/closures.html">Groovy Closures</a>. For example, <code>compute("channel1", "key1", "{k, x -&gt; x+1}")</code> instead of <code>compute("channel1", "key1", (k, x) -&gt; x+1)</code>.</p>
</li>
<li>
<p>The Synchronization Service guaranties that multiple operations, coming from different ProActive Tasks, will all be executed <strong>atomically</strong>.</p>
</li>
<li>
<p>In addition to the methods present in the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html">Java 8 Map interface</a>, Synchronization API provides <strong>blocking methods</strong> to wait for a specific <em>condition</em> on a channel.
This is mainly why this API is called <strong>Synchronization</strong>, it allows for different ProActive Tasks to be blocked until specific conditions are met.</p>
</li>
<li>
<p>When an error occurs during the Groovy Closure compilation or execution, dedicated exceptions (<a href="../javadoc/org/ow2/proactive/scheduler/synchronization/CompilationException.html">CompilationException</a> or <a href="../javadoc/org/ow2/proactive/scheduler/synchronization/ClosureEvaluationException.html">ClosureEvaluationException</a>) will be thrown.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples"><a class="anchor" href="ProActiveUserGuide.html#_examples"></a><a class="link" href="ProActiveUserGuide.html#_examples">12.4.2. Examples</a></h4>
<div class="sect4">
<h5 id="_example_1_simple_keyvalue_with_selection_script"><a class="anchor" href="ProActiveUserGuide.html#_example_1_simple_keyvalue_with_selection_script"></a><a class="link" href="ProActiveUserGuide.html#_example_1_simple_keyvalue_with_selection_script">Example 1: Simple Key/Value With Selection Script</a></h5>
<div class="paragraph">
<p>In this first example, we will show how one task can delay the execution of another task using the Synchronization API and a <a href="ProActiveUserGuide.html#_selection">selection script</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/KeyValue.png" alt="Key/Value With Selection Script">
</div>
<div class="title">Figure 13. Key/Value With Selection Script</div>
</div>
<div class="paragraph">
<p>This workflow contains the following Tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Init</strong>: Initialize the channel. This task creates a channel using the current <em>job id</em>. It also sets a <code>lock</code> binding in the key/value store with an initial <em>true</em> value.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">jobid = variables.get("PA_JOB_ID")
synchronizationapi.createChannel(jobid, false)
synchronizationapi.put(jobid, "lock", true)
println "Channel " + jobid + " created."</code></pre>
</div>
</div>
</li>
<li>
<p><strong>TaskB_Wait</strong>: Wait to be unlocked. This task will not be executed until the <code>lock</code> binding changed to <em>false</em>. A <a href="ProActiveUserGuide.html#_selection">selection script</a> allows to handle this verification:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">selected = !(synchronizationapi.get(variables.get("PA_JOB_ID"), "lock"))</code></pre>
</div>
</div>
</li>
<li>
<p><strong>TaskA</strong>: Unlock TaskB. This task will sleep for a few seconds and then unlock TaskB using the Synchronization API:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">println "Sleeping 5 seconds"
Thread.sleep(5000)
println "Unlocking Task B"
synchronizationapi.put(variables.get("PA_JOB_ID"), "lock", false)</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Clean</strong>: Delete the channel. This task simply deletes the channel used in this job. As there is no automatic mechanism to remove channels, it is necessary to delete them explicitly when they are not used any more.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">jobid = variables.get("PA_JOB_ID")
synchronizationapi.deleteChannel(jobid )
println "Channel " + jobid + " deleted."</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is output of the Key/Value workflow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[28t2@trydev.activeeon.com;14:24:22] Channel 28 created.
[28t0@trydev.activeeon.com;14:24:28] Sleeping 5 seconds
[28t0@trydev.activeeon.com;14:24:33] Unlocking Task B
[28t1@trydev.activeeon.com;14:24:40] Task B has been unlocked by Task A
[28t3@trydev.activeeon.com;14:24:46] Channel 28 deleted.</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is also possible to debug the operations performed on the Synchronization Store. This is possible by using the <strong>Server Logs</strong> associated with the job. Server Logs are very verbose, the <em>[Synchronization]</em> pattern helps to find logs associated with the Synchronization API:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>[2018-04-24 14:24:22,685 de72716883 INFO            o.o.p.s.u.TaskLogger] task 28t2 (Init) [Synchronization]Created new memory channel '28'
[2018-04-24 14:24:22,786 de72716883 INFO            o.o.p.s.u.TaskLogger] task 28t2 (Init) [Synchronization][Channel=28] Put true on key 'lock', previous value was null
[2018-04-24 14:24:34,431 de72716883 INFO            o.o.p.s.u.TaskLogger] task 28t0 (TaskA) [Synchronization][Channel=28] Put false on key 'lock', previous value was true
[2018-04-24 14:24:46,882 de72716883 INFO            o.o.p.s.u.TaskLogger] task 28t3 (Clean) [Synchronization]Deleted memory channel '28'</pre>
</div>
</div>
<div class="paragraph">
<p>The Complete Workflow example can be downloaded <a href="https://trydev2.activeeon.com/doc/user/examples/KeyValue.xml">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_2_simple_keyvalue_with_explicit_wait"><a class="anchor" href="ProActiveUserGuide.html#_example_2_simple_keyvalue_with_explicit_wait"></a><a class="link" href="ProActiveUserGuide.html#_example_2_simple_keyvalue_with_explicit_wait">Example 2: Simple Key/Value with Explicit Wait</a></h5>
<div class="paragraph">
<p>In this second example, we will show how one task can delay the execution of another task using the Synchronization API and an explicit wait call.</p>
</div>
<div class="paragraph">
<p>This example is very similar to the first example, but instead of delaying the execution of TaskB using a selection script, TaskB will start its execution and explicitly call the Synchronization API to wait.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tasks <strong>Init</strong>, <strong>TaskA</strong> and <strong>Clean</strong> do not change</p>
</li>
<li>
<p><strong>TaskB_Wait</strong> is modified. The selection script is removed and instead the following code is used in the main task definition:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">println "Waiting for Task A"
synchronizationapi.waitUntil(variables.get("PA_JOB_ID"), "lock", "{k, x -&gt; x == false}")
println "Task B has been unlocked by Task A"</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the <a href="../javadoc/org/ow2/proactive/scheduler/synchronization/Synchronization.html#waitUntil-java.lang.String-java.lang.String-java.lang.String-">waitUntil</a> method expects a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiPredicate.html?is-external=true">BiPredicate</a> defined as a string <a href="http://groovy-lang.org/closures.html">Groovy Closure</a>.
The predicate receives two parameters: <code>k</code> contains the key, and <code>x</code> contains the binding associated with this key.
This predicate is evaluated on the <strong>lock</strong> binding, and waits until this binding <strong>== false</strong>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is the output of the Example 2 workflow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[29t2@trydev.activeeon.com;14:43:42] Channel 29 created.
[29t0@trydev.activeeon.com;14:43:49] Sleeping 5 seconds
[29t1@trydev.activeeon.com;14:43:48] Waiting for Task A
[29t0@trydev.activeeon.com;14:43:54] Unlocking Task B
[29t1@trydev.activeeon.com;14:43:55] Task B has been unlocked by Task A
[29t3@trydev.activeeon.com;14:44:01] Channel 29 deleted.</pre>
</div>
</div>
<div class="paragraph">
<p>The Complete Workflow example can be downloaded <a href="https://trydev2.activeeon.com/doc/user/examples/KeyValueWait.xml">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_example_3_critical_section"><a class="anchor" href="ProActiveUserGuide.html#_example_3_critical_section"></a><a class="link" href="ProActiveUserGuide.html#_example_3_critical_section">Example 3: Critical Section</a></h5>
<div class="paragraph">
<p>In this last example, we will show how we can create a <strong>critical section</strong> inside a workflow, which means, a section of the workflow which can only be accessed by a configurable number of <strong>slots</strong>.</p>
</div>
<div class="paragraph">
<p>The <em>Critical Section</em> workflow is defined with a <a href="ProActiveUserGuide.html#_replicate">Replicate Control Structure</a>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/CriticalSection.png" alt="Critical Section">
</div>
<div class="title">Figure 14. Critical Section</div>
</div>
<div class="paragraph">
<p>It contains the following Tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Init</strong>: Initialize the channel. This task creates a channel using the current <em>job id</em>. It also sets a <code>available_slots</code> binding in the key/value store with an initial value based on the workflow user-defined <code>NB_SLOTS</code> <a href="ProActiveUserGuide.html#_job_variables">job variable</a>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">jobid = variables.get("PA_JOB_ID")
synchronizationapi.createChannel(jobid, false)
synchronizationapi.put(jobid, "available_slots", Integer.parseInt(variables.get("NB_SLOTS")))
println "Channel " + jobid + " created."</code></pre>
</div>
</div>
<div class="paragraph">
<p>This tasks also define a <a href="ProActiveUserGuide.html#_control_flow_scripts">control flow script</a> used to define the number of replicated tasks. The number of replicated tasks is parametrized with the user-defined <code>NB_TASKS</code> <a href="ProActiveUserGuide.html#_job_variables">job variable</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">runs=Integer.parseInt(variables.get("NB_TASKS"))</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Section</strong>: Wait for the critical section to be available. This task will block until the number of available slots is greater than 0. As soon as at least one slot is available, it decrements the <code>available_slots</code> counter and perform some computation.
When the computation is terminated, it releases the slot by incrementing back the <code>available_slots</code> counter.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">println "Waiting for available slot"
jobid = variables.get("PA_JOB_ID")
synchronizationapi.waitUntilThen(jobid, "available_slots", "{k, x -&gt; x &gt; 0}", "{k, x -&gt; x - 1}")
println "Enter critical section"
// simulate some computation
Thread.sleep(10000)
println "Release slot"
synchronizationapi.compute(jobid,"available_slots", "{k, x -&gt; x + 1}")</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the first method used in this section is <a href="../javadoc/org/ow2/proactive/scheduler/synchronization/Synchronization.html#waitUntilThen-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">waitUntilThen</a>. This method expects both a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiPredicate.html?is-external=true">BiPredicate</a> and a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true">BiFunction</a> defined as strings <a href="http://groovy-lang.org/closures.html">Groovy Closure</a>.</p>
</div>
<div class="paragraph">
<p>The semantic of this method is to wait until the predicate is met and, as soon as it is, immediately perform a remapping.</p>
</div>
<div class="paragraph">
<p>In our scenario, the number of available slots is immediately decremented to reserve a slot and enter the critical section.</p>
</div>
<div class="paragraph">
<p>Releasing of the slot is performed at the end of the task using the <a href="../javadoc/org/ow2/proactive/scheduler/synchronization/Synchronization.html#compute-java.lang.String-java.lang.String-java.lang.String-">compute</a> method.</p>
</div>
</li>
<li>
<p><strong>Clean</strong>: Delete the channel. Same code as the previous examples.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is the output of the Example 3 workflow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[3t0@trydev.activeeon.com;16:14:14] Channel 3 created.
[3t1@trydev.activeeon.com;16:14:22] Waiting for available slot
[3t4@trydev.activeeon.com;16:14:22] Waiting for available slot
[3t3@trydev.activeeon.com;16:14:22] Waiting for available slot
[3t5@trydev.activeeon.com;16:14:22] Waiting for available slot
[3t1@trydev.activeeon.com;16:14:23] Enter critical section
[3t4@trydev.activeeon.com;16:14:23] Enter critical section
[3t4@trydev.activeeon.com;16:14:33] Release slot
[3t1@trydev.activeeon.com;16:14:33] Release slot
[3t3@trydev.activeeon.com;16:14:33] Enter critical section
[3t5@trydev.activeeon.com;16:14:34] Enter critical section
[3t6@trydev.activeeon.com;16:14:38] Waiting for available slot
[3t3@trydev.activeeon.com;16:14:43] Release slot
[3t5@trydev.activeeon.com;16:14:44] Release slot
[3t6@trydev.activeeon.com;16:14:44] Enter critical section
[3t6@trydev.activeeon.com;16:14:54] Release slot
[3t2@trydev.activeeon.com;16:14:59] Channel 3 deleted.</pre>
</div>
</div>
<div class="paragraph">
<p>We can see that no more than two replicated tasks enter the critical section at the same time, and that releasing slots allows new tasks to enter the critical section.</p>
</div>
<div class="paragraph">
<p>The complete Workflow example can be downloaded <a href="https://trydev2.activeeon.com/doc/user/examples/CriticalSection.xml">here</a>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Implementing the Critical Section example using <a href="ProActiveUserGuide.html#_selection">selection scripts</a> rather than explicit wait methods is more <strong>complex</strong>.
The reason behind is that selection scripts are meant to be <strong>stateless</strong>.
The same selection script is executed on all ProActive Nodes by the Scheduler before deciding if a Node can be used to execute a single Task.
In our use case, we must both decide <strong>atomically</strong> if a slot is available (<em>stateless</em>) and reserve a slot (<em>stateful</em>). This decision will be performed <strong>simultaneously</strong> on all available ProActive Nodes.
An example implementation can be downloaded <a href="https://trydev2.activeeon.com/doc/user/examples/CriticalSectionWithSelectionScripts.xml">here</a>. It makes use of a <code>reserved_slots</code> binding containing a set of <code>task ids</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_conclusion"><a class="anchor" href="ProActiveUserGuide.html#_conclusion"></a><a class="link" href="ProActiveUserGuide.html#_conclusion">12.4.3. Conclusion</a></h4>
<div class="paragraph">
<p>Task Synchronization API can be used for multiple dynamic synchronization patterns such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Cross-workflow</strong> synchronization</p>
</li>
<li>
<p><strong>Critical Sections</strong></p>
</li>
<li>
<p><strong>Barriers</strong> (Wait for several parallel tasks to reach a certain point)</p>
</li>
<li>
<p><strong>Producer / Consumer</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A complete example of Producer / Consumer, <em>ServiceDeployerConsumer</em> can be downloaded <a href="https://trydev2.activeeon.com/doc/user/examples/ServiceDeployerConsumer.xml">here</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_task_signal_api"><a class="anchor" href="ProActiveUserGuide.html#_task_signal_api"></a><a class="link" href="ProActiveUserGuide.html#_task_signal_api">12.5. Signal API and Templates</a></h3>
<div class="paragraph">
<p>The <strong>Signal API</strong> is a high-level API that enables users to interact with running jobs via signals (we also call them actions).
That is, it allows a job to expose specific signals (e.g., <code>soft_stop</code> to properly finish a job) that can be triggered by users from the <strong>Workflow Execution portal</strong> or <strong>Scheduler portal</strong>.
You can try the <a href="ProActiveUserGuide.html#_examples_2">examples</a> below to better understand how it works.</p>
</div>
<div class="paragraph">
<p>In summary and for simple use, just go to <a href="ProActiveUserGuide.html#_proactive_studio">ProActive Studio</a> and use the predefined templates in the <em>Controls</em> bucket, <em>4. Signal Templates</em> project: for example: <strong>Check_For_Signals</strong>, <strong>Wait_For_Signals</strong>, <strong>Wait_For_Signals_Reactive</strong> or <strong>Wait_For_Signals_With_Variables</strong>.
Fill up the Task Variable <strong>SIGNALS</strong>, and use those templates in your own workflow to be able to receive input from, for instance, the Workflow Execution portal or Scheduler portal.</p>
</div>
<div class="paragraph">
<p><strong>Check_For_Signals</strong> is a template workflow composed of two tasks. The first sends a ready notification for the signals specified in the variable SIGNALS'. The second task checks if one signal is received, and if not, the workflow runs in a loop where each iteration lasts one minute.
This workflow allows users to do an iterative processing, and decide at each iteration to continue this processing or not, i.e., (i) declare being ready to receive one or more signals, (ii) do some processing, then (iii) receive signals and decide whether to continue the processing or not.</p>
</div>
<div class="paragraph">
<p><strong>Wait_For_Signals</strong> is a template workflow that contains a single task, which sends a ready notification for the specified signals in the 'SIGNALS' variable, then checks if one or more signals are received by the job. If not, the workflow runs in a loop where each iteration lasts one minute.
This workflow allows users to iteratively wait for the reception of one or more signals, then trigger some processing.</p>
</div>
<div class="paragraph">
<p><strong>Wait_For_Signals_Reactive</strong> is a template workflow that sends a ready notification for all specified signals in the 'SIGNALS' variable, then waits until one signal among those specified is received.
This workflow contains no loop. It performs a blocking wait, then immediately triggers some processing at a signal reception.</p>
</div>
<div class="paragraph">
<p><strong>Wait_For_Signals_With_Variables</strong> is a template workflow that uses signals having input parameters. It contains a single task that sends a ready notification for all the signals (with input parameters) specified in the variable SIGNALS, then loops until one signal among those specified is received by the job.
The signal input parameters have predefined values that can be changed when sending the signal.</p>
</div>
<div class="paragraph">
<p>At a more detailed level and advanced use, the Signal API allows jobs and users to exchange signals using a communication channel provided by the <a href="ProActiveUserGuide.html#_task_synchronization_api">synchronization API</a>.
The typical usage scenario of the Signal API is the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Signals are defined by their name and, optionally, a list of variables. Variables attached to a signal have the same structure as <a href="ProActiveUserGuide.html#_workflow_variables">Workflow variables</a> but are declared exclusively using the <a href="ProActiveUserGuide.html#_task_signal_api">Signal API</a>.</p>
</li>
<li>
<p>If the signal has variables, then a new window will appear where the user can set the variables values and then send the signal with variables to the job. If the signal does not have variables then the window will not appear.
Adding variables to a signal allows to enhance the manual control of the workflow execution.
After receiving the signal with attached variables, the workflow will then need to process this information and react accordingly (e.g. continue a calculation with a new set of parameters, etc&#8230;&#8203;)</p>
</li>
<li>
<p>A job declares to be ready to handle one or more signals that can have attached variables. The signals are then displayed in the Workflow Execution portal or Scheduler portal(e.g., display the <code>soft_stop</code> signal).</p>
</li>
<li>
<p>The job waits to receive these signals, or check for their reception regularly.</p>
</li>
<li>
<p>A user clicks on the signal displayed in the Workflow Execution portal or Scheduler portal (e.g., click on the <code>soft_stop</code> signal), which sends this signal to the job.</p>
</li>
<li>
<p>At the signal reception, the job executes the corresponding behavior (defined in the workflow).
When the signal has attached variables, variables must be valid according to their model specification (see <a href="ProActiveUserGuide.html#_variable_model">Variable Model</a>). Sending a signal will not be possible unless they are validated.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>As already mentioned, the Signal API uses the <a href="ProActiveUserGuide.html#_task_synchronization_api">synchronization API</a> to store jobs' signals, with respect to the following specifications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It uses a single persistent channel (called <strong>PA_SIGNALS_CHANNEL + {jobId}</strong>) to store the signals and variables of all jobs. The signal channel contains an entry per signal.</p>
</li>
<li>
<p>Job signals are automatically removed when the job execution finishes (i.e., the job is in the status Finished, Cancelled, Failed or Killed).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Signal API is based on the <a href="ProActiveUserGuide.html#_task_synchronization_api">synchronization API</a>. However, these APIs are intended for different purposes.
The Synchronization API is used to exchange information (e.g., messages) between tasks and between jobs, whereas the
Signal API is useful to exchange signals between a job and users (via the Workflow Execution portal or the REST API), it cannot be used to send signals from one job to another.</p>
</div>
<div class="sect3">
<h4 id="_usage_2"><a class="anchor" href="ProActiveUserGuide.html#_usage_2"></a><a class="link" href="ProActiveUserGuide.html#_usage_2">12.5.1. Usage</a></h4>
<div class="paragraph">
<p><strong>Task Signal API</strong> is a <strong>Java API</strong> defined by the following <a href="../javadoc/org/ow2/proactive/scheduler/signal/SignalApi.html">API documentation</a>.</p>
</div>
<div class="paragraph">
<p>The Signal API is available inside ProActive Tasks through the <strong>signalapi</strong> <a href="ProActiveUserGuide.html#_glossary_script_bindings">script binding</a>.</p>
</div>
<div class="paragraph">
<p>It is easy to use, and offers a set of basic operations on signals summarized as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>readyForSignal</strong>: declares that the current job is ready to receive and handle one or more signals with or without variables.
Variables are passed as a list of <a href="../javadoc/org/ow2/proactive/scheduler/common/job/JobVariable.html">JobVariable objects</a>
 This operation constructs new signals (by adding the prefix <code>ready_</code> to the input signals), then adds them to job signals.
 For example, if a job declares ready for the signal <code>soft_stop</code>, the signal <code>ready_soft_stop</code> is added to the set of job signals.
 Additionally, if the input signal (e.g., <code>soft_stop</code>) already exists among the job signals (which means that it has been sent and handled previously),
  the operation ready for signal automatically removes it, thus the job is ready again to receive and handle the same signal.</p>
</li>
<li>
<p><strong>sendSignal</strong>, <strong>sendManySignals</strong>: sends programmatically one or more signals with or without variables given as input to the current job signals.
This operation removes the corresponding ready signals if they already exist. For instance, sending <code>soft_stop</code> removes the signal
<code>ready_soft_stop</code> if it already exists among the job signals.
 Though signals are meant to be sent manually by a human user through to ProActive web portals, it is also possible to use these methods to send them programmatically inside the workflow.</p>
</li>
<li>
<p><strong>checkForSignals</strong>: verifies whether all of the signals given as input exist among the set of job signals.</p>
</li>
<li>
<p><strong>waitFor</strong>, <strong>waitForAny</strong>: blocking instruction that waits until one signal (among those given as input) is added to the set of job signals.
The instruction <em>waitFor</em> will return a map that represents the name and value of the signal variables.
<em>waitForAny</em> instruction returns the first signal object that is received among those given as input</p>
</li>
<li>
<p><strong>removeSignal</strong>, <strong>removeManySignals</strong>: removes one or more signals from the set of job signals.</p>
</li>
<li>
<p><strong>getJobSignals</strong>: returns the current job signals and variables.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the above operations available within ProActive Tasks, users and third-party systems can send signals
to a specific job via <a href="../rest/index.html#1218178377">ProActive Signals REST endpoint</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_2"><a class="anchor" href="ProActiveUserGuide.html#_examples_2"></a><a class="link" href="ProActiveUserGuide.html#_examples_2">12.5.2. Examples</a></h4>
<div class="sect4">
<h5 id="_standard_and_simple_use_with_predefined_tasks_in_the_control_template_menu"><a class="anchor" href="ProActiveUserGuide.html#_standard_and_simple_use_with_predefined_tasks_in_the_control_template_menu"></a><a class="link" href="ProActiveUserGuide.html#_standard_and_simple_use_with_predefined_tasks_in_the_control_template_menu">Standard and simple use with predefined tasks in the Control template menu</a></h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>Check_For_Signals</em>: a control pattern that executes a loop until one ore more signals, given as input, are received.</p>
</li>
<li>
<p><em>Wait_For_Signals</em>: a blocking control pattern that blocks the task execution waiting for the reception of one or more signals given as input.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_advanced_use_with_signal_templates"><a class="anchor" href="ProActiveUserGuide.html#_advanced_use_with_signal_templates"></a><a class="link" href="ProActiveUserGuide.html#_advanced_use_with_signal_templates">Advanced use with Signal templates</a></h5>
<div class="paragraph">
<p>The <strong>Signal</strong> menu contains many workflow examples that use all signal operations. Below, we give an example of a groovy code that uses some Signal API operations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">//Declare that the current job is ready to receive and handle the 'soft_stop' signal
signalapi.readyForSignal("soft_stop")

//Display current job signals
println("Job signals "+ signalapi.getJobSignals())

//Wait util the 'soft_stop' signal is sent (via the Workflow Execution portal, Scheduler portal or REST API)
signalapi.waitFor("soft_stop")

//Remove the 'soft_stop' signal from the set of job signals
signalapi.removeSignal("soft_stop")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is another example of a groovy code that uses some Signal API operations with signal variables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>import org.ow2.proactive.scheduler.common.job.JobVariable

//Declare the signal variables
List &lt;JobVariable&gt; signalVariables = new java.util.ArrayList&lt;JobVariable&gt;()
signalVariables.add(variables.get("INTEGER_VARIABLE"))
signalVariables.add(variables.get("BOOLEAN_VARIABLE"))

//Declare that the current job is ready to receive and handle the 'soft_stop' signal with the given variables
signalapi.readyForSignal("soft_stop", signalVariables)

//Display current job signals
println("Job signals "+ signalapi.getJobSignals())

//Wait util the 'soft_stop' signal with variables is sent (via the Workflow Execution portal, Scheduler portal or REST API)
outputParameters = signalapi.waitFor("soft_stop")

//The outputParameters represent a hashmap containing the names of the variables and their values entered by the user
println "Output parameters = " + outputParameters

//Remove the 'soft_stop' signal from the set of job signals
signalapi.removeSignal("soft_stop")</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_usage_of_the_signals_rest_endpoint"><a class="anchor" href="ProActiveUserGuide.html#_usage_of_the_signals_rest_endpoint"></a><a class="link" href="ProActiveUserGuide.html#_usage_of_the_signals_rest_endpoint">Usage of the Signals REST endpoint</a></h5>
<div class="paragraph">
<p>Below, we provide an example based on <a href="https://curl.se/">curl</a>, which shows how to use the <a href="../rest/index.html#1218178377">Signals REST endpoint</a> for sending a signal to a specific job:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">curl -X POST -H "sessionid:$sessionid"
http://try.activeeon.com:8080/rest/scheduler/job/<code>job_id</code>/signals?signal="<strong>soft_stop</strong>"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_conclusion_2"><a class="anchor" href="ProActiveUserGuide.html#_conclusion_2"></a><a class="link" href="ProActiveUserGuide.html#_conclusion_2">12.5.3. Conclusion</a></h4>
<div class="paragraph">
<p>The Signal API allows users to interact with jobs during their execution, thus enabling to impact and change jobs' behaviors at runtime.
Many use cases can be fulfilled using this API. For instance:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Softly stopping a job</em>: when the stop signal is received, the job executes some code that properly finish this job.</p>
</li>
<li>
<p><em>Stop or continue job execution based on the user decision</em>: a job suspends its execution waiting for the user to send a signal, either stop or continue.</p>
</li>
<li>
<p><em>Scaling up and down resources on user demand</em>: a job that deploys resources (e.g., compute resources, workers/agents, etc)
can scale up and down these resources when receiving the corresponding signals from users (via the Workflow Execution portal),
or from third-party systems (via the Signals REST endpoint).</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proactive_modules_apis"><a class="anchor" href="ProActiveUserGuide.html#_proactive_modules_apis"></a><a class="link" href="ProActiveUserGuide.html#_proactive_modules_apis">13. ProActive Modules APIs</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to the core component APIs described above, ProActive workflow tasks can also interact with other ProActive Modules such as Service Automation and Notification Service.</p>
</div>
<div class="sect2">
<h3 id="_proactive_service_automation_psa_api"><a class="anchor" href="ProActiveUserGuide.html#_proactive_service_automation_psa_api"></a><a class="link" href="ProActiveUserGuide.html#_proactive_service_automation_psa_api">13.1. ProActive Service Automation (PSA) API</a></h3>
<div class="paragraph">
<p>The ProActive Service Automation API, or ProActive Service Automation Client, is a way by which a workflow can communicate with the <a href="../PSA/PSAUserGuide.html">Service Automation module</a></p>
</div>
<div class="paragraph">
<p>The ProActive Service Automation Client hides the complexity of building and sending HTTP requests manually by providing
ready-to-use code callable from various tasks.</p>
</div>
<div class="paragraph">
<p>Below is an example of a groovy script starting a managed service.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This example has been truncated for readability and is not meant to be used as is.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// Import necessary classes from the Service Automation Client
import org.ow2.proactive.pca.service.client.ApiClient
import org.ow2.proactive.pca.service.client.api.ServiceInstanceRestApi
import org.ow2.proactive.pca.service.client.model.ServiceInstanceData
import org.ow2.proactive.pca.service.client.model.ServiceDescription
import com.google.common.base.Strings;

// Get session id using the Scheduler API
def sessionId = schedulerapi.getSession()

// Create a ServiceInstanceRestApi object
def pcaUrl = variables.get('PA_CLOUD_AUTOMATION_REST_URL')
def apiClient = new ApiClient()
apiClient.setBasePath(pcaUrl)
def serviceInstanceRestApi = new ServiceInstanceRestApi(apiClient)

// Read workflow variables
def serviceId = variables.get("SERVICE_ID")
def instanceName = variables.get("INSTANCE_NAME")
def serviceActivationWorkflow = variables.get("SERVICE_ACTIVATION_WORKFLOW")

// Prepare service description
ServiceDescription serviceDescription = new ServiceDescription()
serviceDescription.setBucketName(bucketName)
serviceDescription.setWorkflowName(startingWorkflowName)

// Run service
def serviceInstanceData = serviceInstanceRestApi.createRunningServiceInstance(sessionId, serviceDescription, Integer.parseInt(variables.get("PA_JOB_ID")))

// Acquire service Instance ID
def serviceInstanceId = serviceInstanceData.getInstanceId()

// Acquire service endpoint
serviceInstanceData = serviceInstanceRestApi.getServiceInstance(sessionId, serviceInstanceId)
endpoint = serviceInstanceData.getDeployments().iterator().next().getEndpoint().getUrl()

// Store variables and result
variables.put("INSTANCE_ID_" + instanceName, serviceInstanceId)
variables.put("ENDPOINT_" + instanceName, endpoint)
result = endpoint</code></pre>
</div>
</div>
<div class="paragraph">
<p>The complete ProActive Service Automation Client API is available in the javadoc <a href="../javadoc/cloudAutomationClient/index.html">Service Automation Client JavaDoc</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_notification_service_api"><a class="anchor" href="ProActiveUserGuide.html#_notification_service_api"></a><a class="link" href="ProActiveUserGuide.html#_notification_service_api">13.2. Notification Service API</a></h3>
<div class="paragraph">
<p>The Notification Service API, or Notification Client, is a way by which a workflow can communicate with the <a href="ProActiveUserGuide.html#_notification_service">Notification Service</a></p>
</div>
<div class="paragraph">
<p>The Notification Client hides the complexity of building and sending HTTP requests manually by providing
ready-to-use code callable from various tasks.</p>
</div>
<div class="paragraph">
<p>Below is an example of how to create a Notification in the Notification Portal using the Notification Client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// Import necessary classes from the Notification Client
import org.ow2.proactive.notification.client.ApiClient
import org.ow2.proactive.notification.client.api.EventRestApi
import org.ow2.proactive.notification.client.model.EventRequest
import org.ow2.proactive.notification.client.model.Event
import org.ow2.proactive.notification.client.ApiException

// Get the notification-service URL
def notifUrl = variables.get('PA_NOTIFICATION_SERVICE_REST_URL')
def apiClient = new ApiClient()
apiClient.setBasePath(notifUrl)

// Instantiate the EventRestApi class, the class that effectively sends HTTP requests
def eventRestApi = new EventRestApi(apiClient)

// Get the current job id
def jobId = new Long(variables.get("PA_JOB_ID"))

// Set the Notification's message
def eventMessage = "This is a message"

// Set the Notification's severity
def eventSeverity = EventRequest.EventSeverityEnum.INFO

// Get session id
schedulerapi.connect()
def sessionId = schedulerapi.getSession()

// Create the eventRequest object
def eventRequest = new EventRequest()
        .bucketName(genericInformation.get("bucketName"))
        .workflowName(variables.get("PA_JOB_NAME"))
        .eventType(EventRequest.EventTypeEnum.CUSTOM)
        .eventSeverity(eventSeverity)
        .jobId(jobId)
        .message(eventMessage);

try {
    // Send the POST request to create the Notification
    result = eventRestApi.createEvent(sessionId, eventRequest).toString()
    println(result)
} catch (ApiException e) {
    System.err.println("Exception when calling EventRestApi#createEvent")
    e.printStackTrace();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By using this groovy script, workflow designers can create custom Notifications anywhere in their workflows.</p>
</div>
<div class="paragraph">
<p>The complete Notification Client API is available in the javadoc <a href="../javadoc/notificationClient/index.html">Notification Client Javadoc</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scheduling_policies"><a class="anchor" href="ProActiveUserGuide.html#_scheduling_policies"></a><a class="link" href="ProActiveUserGuide.html#_scheduling_policies">14. Scheduling policies</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="../admin/ProActiveAdminGuide.html#_scheduling_policies">Admin Guide</a> to configure scheduling policies.</p>
</div>
<div class="sect2">
<h3 id="_earliest_deadline_first_edf_policy"><a class="anchor" href="ProActiveUserGuide.html#_earliest_deadline_first_edf_policy"></a><a class="link" href="ProActiveUserGuide.html#_earliest_deadline_first_edf_policy">14.1. Earliest deadline first (EDF) policy</a></h3>
<div class="paragraph">
<p>Scheduler has <code>Earliest deadline first policy</code> (EDF policy) that prioritizes jobs with deadlines.
Overall, the general principal is the following: a job that needs to be started as soon as possible to meet its deadline
taking into account its execution time has higher priority.</p>
</div>
<div class="paragraph">
<p>The EDF policy considers two Generic Information items: <code>JOB_DDL</code> and <code>JOB_EXEC_TIME</code>.</p>
</div>
<div class="paragraph">
<p><code>JOB_DDL</code> represents job deadline. Job deadline can be set in one of the following format:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>absolute format: <code>YYYY-MM-dd`T`HH:mm:ss+ZZ</code>, e.g. <code>2018-08-14T08:40:30+02:00</code></p>
</li>
<li>
<p>relative (to the submission time) format: <code>+HH:mm:ss</code> , e.g. <code>+5:30:00</code>, or <code>+mm:ss</code>, e.g. <code>+4:30</code>, or <code>+ss</code>, e.g. <code>+45</code> (45 seconds)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If job deadline is absolute then its value equals to <code>JOB_DDL</code>.</p>
</div>
<div class="paragraph">
<p>If job deadline is relative then its value equals to <code>submission time</code> + <code>JOB_DDL</code>.</p>
</div>
<div class="paragraph">
<p><code>JOB_EXEC_TIME</code> represents job expected execution time in the following format: <code>HH:mm:ss</code> , e.g. <code>12:30:00</code>, <code>5:30:00</code>,
or <code>mm:ss</code>, e.g. <code>4:30</code>, or <code>ss</code>, e.g. <code>45</code> (45 seconds).</p>
</div>
<div class="paragraph">
<p>EDF policy orders jobs by applying the rules below.
The rule considers jobs at submission time when they are still pending, and orders them by priority.</p>
</div>
<div class="paragraph">
<p>Thus EDF policy applies these rules (in the given order) until one rule actually applies.
Here is the ordered list of rules for the EDF policy:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>compare job&#8217;s intrinsic priority (HIGHEST, HIGH, NORMAL, LOW, LOWEST)</p>
</li>
<li>
<p>job with deadline has priority over job without deadline</p>
</li>
<li>
<p>job that is already started has priority over job that has not yet started</p>
</li>
<li>
<p>job that started earlier has priority over job that was started later</p>
</li>
<li>
<p>job with the earliest <code>JOB_DDL</code> minus <code>JOB_EXEC_TIME</code> has a priority</p>
</li>
<li>
<p>job with earliest submission time.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_email_notifications"><a class="anchor" href="ProActiveUserGuide.html#_email_notifications"></a><a class="link" href="ProActiveUserGuide.html#_email_notifications">14.1.1. Email notifications</a></h4>
<div class="paragraph">
<p>EDF policy sends 3 types of email notifications:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>(Arriving soon) When job deadline is at risk (if the job is not started in the next X minutes, its deadline will be missed)</p>
</li>
<li>
<p>When job will likely miss its deadline (i.e if the provided <code>JOB_EXEC_TIME</code> exceeds the left time until the deadline)</p>
</li>
<li>
<p>(Arriving soon) When job has already missed its deadline.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Policy sends emails to the address specified in <code>EMAIL</code> Generic Information of the job.</p>
</div>
<div class="paragraph">
<p>To enable email notifications see <a href="../admin/ProActiveAdminGuide.html#_get_notifications">Admin Guide</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_connectors"><a class="anchor" href="ProActiveUserGuide.html#_data_connectors"></a><a class="link" href="ProActiveUserGuide.html#_data_connectors">15. Data Connectors</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>data-connectors</code> bucket contains diverse generic data connectors for the most frequently used data storage systems (File, SQL, NoSQL, Cloud, ERP). The aim of a data connector is to facilitate and simplify data access from your workflows to external data sources.</p>
</div>
<div class="sect2">
<h3 id="_file"><a class="anchor" href="ProActiveUserGuide.html#_file"></a><a class="link" href="ProActiveUserGuide.html#_file">15.1. File</a></h3>
<div class="paragraph">
<p>The File connectors allow to import and export data from HTTP, FTP and SFTP servers.
We begin by presenting FTP, FTPS and SFTP connectors then, URL connector.</p>
</div>
<div class="sect3">
<h4 id="_ftp_ftps_and_sftp_connectors"><a class="anchor" href="ProActiveUserGuide.html#_ftp_ftps_and_sftp_connectors"></a><a class="link" href="ProActiveUserGuide.html#_ftp_ftps_and_sftp_connectors">15.1.1. FTP, FTPS and SFTP connectors</a></h4>
<div class="paragraph">
<p>The FTP, FTPS and SFTP file connector workflows consists of two tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Import_from_FTP/SFTP_Server: Downloads files or folders recursively from an FTP/SFTP server to the data space.</p>
</li>
<li>
<p>Export_to_FTP/SFTP_Server: Uploads files or folders recursively from the data space (global or user space) to an FTP/SFTP server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<div class="paragraph">
<p>The FTP, FTPS and SFTP connectors share the same list of variables with the exception of the FTPS connector which has in addition two other variables related to the SSL Certificate configuration. Consequently, we describe these variables in the following table using a unique notation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. FTP/FTPS/SFTP Connector common variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server host.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USERNAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for the authentication.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. toto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listening port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. 21, 22</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FILE_PATTERN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Either a file name or a wildcard string pattern.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. file.txt, *.txt, **</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LOCAL_BASE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Either a <code>global</code> path or a local <code>relative</code> path from which we export (or to which we import) file(s). It can be either a directory terminated by <code>/</code> or an empty value for the root.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. localDirectory/, /global/path/localDirectory/</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REMOTE_BASE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote <code>relative</code> path on the server to which we export (or from which we import) file(s). It can be either a path to a folder terminated by <code>/</code> or an empty value for the root.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. remoteDirectory/</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table describe the specific workflow variables of the FTPS Connector to Import/Export file(s) from/to an FTP server over an SSL/TLS certificate.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. FTPS Connector specific variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CLIENT_CERTIFICATE_AUTHENTICATION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, enable client certificate authentication.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: <code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CLIENT_CERTIFICATE_CRED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client SSL certificate credential.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. client_certificate_cred</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CLIENT_PRIVATE_KEY_CRED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The private key credential.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. private_key_cred</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CLIENT_PRIVATE_KEY_PASSWORD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password to protect the key.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CLIENT_PRIVATE_KEY_ALIAS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The alias of the key to use, may be null in which case the first key entry alias is used.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. private_key_alias</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SERVER_CERTIFICATE_VERIFICATION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, enable to verify server certificate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: <code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PROVIDE_SERVER_CERTIFICATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, enable to provide server certificate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: <code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SERVER_CERTIFICATE_CRED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public Server SSL certificate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. server_certificate_cred</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this connector:</strong></p>
</div>
<div class="paragraph">
<p>The connector requires the following third-party credentials: <code>{key: &lt;PROTOCOL&gt;://&lt;username&gt;@&lt;hostname&gt;, value: PASSWORD}</code> where <code>&lt;PROTOCOL&gt;</code> can take one of the following values: {<code>ftp</code>, <code>ftps</code>, <code>sftp</code>}. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_url_connector"><a class="anchor" href="ProActiveUserGuide.html#_url_connector"></a><a class="link" href="ProActiveUserGuide.html#_url_connector">15.1.2. URL connector</a></h4>
<div class="paragraph">
<p>The URL connector allows, in addition, to import data using HTTP and HTTPS protocols.</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. URL Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FILE_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link to a file accessible using HTTP or HTTP protocols.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <a href="http://www.pdf995.com/samples/pdf.pdf" class="bare">http://www.pdf995.com/samples/pdf.pdf</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LOCAL_BASE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local relative path to which we download file(s).
  LOCAL_RELATIVE_PATH can contain either a path to a file, a directory terminated by <code>/</code> or an empty value for the root.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. localDirectory/, example.zip</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EXTRACT_ARCHIVE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>true</code>, the imported file will be extracted if it is an archive.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean [true or false]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_sql"><a class="anchor" href="ProActiveUserGuide.html#_sql"></a><a class="link" href="ProActiveUserGuide.html#_sql">15.2. SQL</a></h3>
<div class="paragraph">
<p>In this part, we first present the data connector tasks that allow users to access and manipulate data of the most frequently used databases,
then we show how to use pooled connection to SQL databases across multiple task executions.</p>
</div>
<div class="sect3">
<h4 id="_data_connectors_2"><a class="anchor" href="ProActiveUserGuide.html#_data_connectors_2"></a><a class="link" href="ProActiveUserGuide.html#_data_connectors_2">15.2.1. Data Connectors</a></h4>
<div class="paragraph">
<p>The data connectors allow to import and export data from and to Relational DataBase Management Systems (RDBMS).
Currently, we have connectors for MySQL, Oracle, PostgreSQL, Greenplum and SQL Server.</p>
</div>
<div class="paragraph">
<p>All SQL connector workflows are composed of two tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Import_from_&lt;Database&gt;: Import data from an SQL database server to be processed in the same workflow or just to be stored as a csv file in the data space.</p>
</li>
<li>
<p>Export_to_&lt;Database&gt;: Export data from the data space (global or user space) to an SQL database server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where Database ∈ {MySQL, Oracle, PostgreSQL, Greenplum and SQL Server}</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<div class="paragraph">
<p>All SQL connectors share the same list of variables. Consequently, we describe them in the following table using a unique notation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. SQL Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label or the IP address of the server hosting the database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listening port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. 5432, 1521</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for connecting to the database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DATABASE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. MY_DATABASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QUERY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requires an SQL query or a table name to fetch data from.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code><code>SELECT * FROM &#8230;&#8203;</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT_FILE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative path in the data space used to save the results in a CSV file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/my/output.csv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task result output type (<code>HTML</code> or <code>CSV</code>).
If set to <code>HTML</code>, it allows to preview the results in Scheduler Portal in HTML format.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values: <code>{CSV, HTML}</code>.</p>
<p class="tableblock">Default: <code>CSV</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TABLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The table to insert data into.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. MY_TABLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INSERT_MODE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the behavior to follow when the table exists in the database amongst:</p>
<p class="tableblock">  - fail: If table exists, do nothing.</p>
<p class="tableblock">  - replace: If table exists, drop it, recreate it, and insert data.</p>
<p class="tableblock">  - append: (default) If table exists, insert data. Create if does not exist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: <code>append</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INPUT_FILE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- It can be a relative path in the dataspace of a csv file containing the data to import.</p>
<p class="tableblock">- or a valid URL amongst <code>http</code>, <code>ftp</code>, <code>s3</code>, and <code>file</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/data.csv</code> or
http://link/to/my/data/csv</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this task:</strong></p>
</div>
<div class="paragraph">
<p>When you drag &amp; drop an SQL connector, two tasks will be appended to your workflow: an import task and an export task. Each task can be used as a separate component in an ETL pipeline; thus, you can keep one of them depending on your needs and remove the other or you can use them both.</p>
</div>
<div class="paragraph">
<p>The task requires the following third-party credential:</p>
</div>
<div class="paragraph">
<p>{key: <code>&lt;mysql|postgresql|sqlserver|oracle|greenplum&gt;://&lt;&lt;USER&gt;@&lt;&lt;HOST&gt;:&lt;&lt;PORT&gt;</code>, value: <code>PASSWORD</code>}.</p>
</div>
<div class="paragraph">
<p><em>e.g.</em><br></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">key</th>
<th class="tableblock halign-left valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>mysql://myuser@localhost:1234</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>your <code>MYSQL_PASSWORD</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>sqlserver://anotheruser@10.0.0.1:5432</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>your <code>SQLSERVER_PASSWORD</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This is a one-time action and will ensure that your credentials are securely encrypted. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
<div class="paragraph">
<p>In the import mode, the output containing the imported data takes one or many of the following forms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in a <em>CSV</em> format to saved to:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>OUTPUT_FILE</code> in the data space if specified by the user</p>
</li>
<li>
<p><em>and</em> to the <code>result</code> variable to make is previewable in the scheduler portal and to make it accessible for the next tasks.</p>
</li>
</ul>
</div>
</li>
<li>
<p>in a <em>JSON</em> format using the variable <code>DATAFRAME_JSON</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_database_connections_pooling"><a class="anchor" href="ProActiveUserGuide.html#_database_connections_pooling"></a><a class="link" href="ProActiveUserGuide.html#_database_connections_pooling">15.2.2. Database Connections Pooling</a></h4>
<div class="paragraph">
<p>To allow the persistence of a single connection across multiple SQL tasks (basically when running several tasks concurrently on the same machine),
we have implemented the connection pooling feature to any external SQL database based on the <a href="https://github.com/brettwooldridge/HikariCP" target="_blank" rel="noopener">HikariCP</a> Framework.
This feature is demonstrated through two workflow templates: SQL_Pooled_Connection_Query and SQL_Pooled_Connection_Update. Both are single-task workflows.</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<div class="paragraph">
<p>The variables listed in the following table exist for both SQL_Pooled_Connection_Update and SQL_Pooled_Connection_Query workflows.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 18. Workflows' variables</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 31.25%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 18.75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RDBMS_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the relational database management system.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values: <code>{postgresql, mysql, greenplum, sqlserver, oracle, hsqldb}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server host.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listening port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. 5432, 1521</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USERNAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for connecting to the database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g MY_USER</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DATABASE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. MY_DATABASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>POOL_PROPERTY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HikariCP framework provides many data source properties that can be used to configure the DB pooled connection such as autoCommit, maximumPoolSize, maxLifetime, idleTimeout &#8230;&#8203;. You can add as many properties as you want. For each one, please add a new task variable where the variable name is the property name having "POOL_"  as a prefix and the variable value is the property value. For more info, please refer to <a href="https://github.com/brettwooldridge/HikariCP" class="bare">https://github.com/brettwooldridge/HikariCP</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. POOL_autoCommit, POOL_maximumPoolSize</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SQL_STATEMENTS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To change or update data, you have to use CREATE, INSERT , UPDATE , or DELETE statements. To query data, you have to perform SELECT statements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code><code>SELECT * FROM &#8230;&#8203;</code></code>, <code><code>DROP TABLE &#8230;&#8203;</code></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In addition to the aforementioned variables, SQL_Pooled_Connection_Query workflow has two more variables.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 19. SQL_Pooled_Connection_Query additional variables</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 31.25%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 18.75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to <code>HTML</code>, it allows to preview the results in the Scheduler Portal in a HTML format. If set to <code>CSV</code>, it allows to download the results from the Scheduler Portal in a CSV format.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values: <code>{CSV, HTML}</code>.</p>
<p class="tableblock">Default: <code>HTML</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STORE_RESULT_VARIABLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if not empty, the value will be the name of a variable that contains the resultSet of the query (converted into a List of Maps). This variable can be used in other tasks.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values: <code>{CSV, HTML}</code>.</p>
<p class="tableblock">Default: <code>HTML</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use these workflows:</strong></p>
</div>
<div class="paragraph">
<p>The scheduler should be configured in non-fork mode to execute tasks in a single JVM rather than starting a dedicated JVM to run the task (In $PROACTIVE_HOME/config/scheduler/settings.ini, set pa.scheduler.task.fork=false).</p>
</div>
<div class="paragraph">
<p>Data connectors workflows may need to add some third-party dependencies to their classpath (notably, JDBC jar libraries), so they can be executed properly. Please refer to the Admin guide documentation to learn how to add link:../admin/ProActiveAdminGuide.html#__add_custom_third_party_libraries_to_proactive_server_and_nodes_classpath].</p>
</div>
<div class="paragraph">
<p>In case the password is required, you have to add the following third-party credential: {key: <code>&lt;mysql|postgresql|sqlserver|oracle|hsqldb:hsql&gt;://&lt;USERNAME&gt;@&lt;HOST&gt;</code>, value: <code>PASSWORD</code>}. This is a one-time action and will ensure that your credentials are securely encrypted. Please refer to the User guide documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nosql"><a class="anchor" href="ProActiveUserGuide.html#_nosql"></a><a class="link" href="ProActiveUserGuide.html#_nosql">15.3. NoSQL</a></h3>
<div class="paragraph">
<p>The NoSQL connectors allow to import data from NoSQL Databases.
Currently, we have connectors for MongoDB, Cassandra and Elasticsearch.
All NoSQL connector workflows are composed of two tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Import_from_&lt;Database&gt;: Import data from a NoSQL database server to be processed in the same workflow or just to be stored as a csv file in the data space.</p>
</li>
<li>
<p>Export_to_&lt;Database&gt;: Export data from the data space (global or user space) to a NoSQL database server.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_mongodb"><a class="anchor" href="ProActiveUserGuide.html#_mongodb"></a><a class="link" href="ProActiveUserGuide.html#_mongodb">15.3.1. MongoDB</a></h4>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 20. MongoDB Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label or the IP address of the server hosting the database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listening port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27018</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for connecting to MongoDB server if authentication is required.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_DATABASE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database to use. In export mode, it is created if it does not exist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_database</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_COLLECTION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection to use. In export mode, it is created if it does not exist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_collection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_QUERY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requires a NoSQL query to fetch data. If empty (<code>{}</code>), it will fetch all documents.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_OUTPUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative path in the data space used to save the results in a JSON file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. path/to/my/output.json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LABEL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the imported data is labeled for machine learning, a label attribute can be specified using this variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MONGODB_INPUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A JSON Object/Array to be inserted in MongoDB. This variable can:</p>
<p class="tableblock">   - A String describing the JSON Object/Array</p>
<p class="tableblock">   - A relative path in the data space of a JSON file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g.</p>
<p class="tableblock"><code>{"document":{"key":"value"}}</code></p>
<p class="tableblock">or <code>path/to/input.json</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this task:</strong></p>
</div>
<div class="paragraph">
<p>The task might require (if the MongoDB server requires authentication) a <code>MONGODB_USER</code>  in addition to the following third-party credential: {key: <code>mongodb://&lt;MONGODB_USER&gt;@&lt;MONGODB_HOST&gt;:&lt;MONGODB_PORT&gt;</code>, value: <code>MONGODB_PASSWORD</code>}. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
<div class="paragraph">
<p>In the import mode, the output containing the imported data takes one or many of the following forms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in a JSON format to saved to:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>MONGODB_OUTPUT</code> file in the data space if specified by the user</p>
</li>
<li>
<p><em>and</em> to the <code>result</code> variable to make is previewable in the scheduler portal and to make it accessible for the next tasks.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_cassandra"><a class="anchor" href="ProActiveUserGuide.html#_cassandra"></a><a class="link" href="ProActiveUserGuide.html#_cassandra">15.3.2. Cassandra</a></h4>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. Cassandra Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label or the IP address of the server hosting the database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listening port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>27018</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_KEYSPACE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyspace to use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>my_keyspace</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_QUERY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query to fetch data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SELECT * FROM &#8230;&#8203;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_OUTPUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative path in the data space used to save the results in a CSV file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/my/output.csv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LABEL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the imported data is labeled for machine learning, a label attribute can be specified using this variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_TABLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data is stored in tables containing rows of columns, similar to SQL definitions.. It is created if it does not exist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>my_table</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_PRIMARY_KEY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A primary key identifies the location and order of stored data. The primary key is defined when the table is created and cannot be altered.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>(my_primary_key)</code> or <code>(attr_1, attr_2)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASSANDRA_INPUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path of the CSV file that contains data to be imported. This variable can:</p>
<p class="tableblock">   - A URL. Valid URL schemes include http, ftp, s3, and file.</p>
<p class="tableblock">   - A relative path in the data space of a CSV file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/input.csv</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this task:</strong></p>
</div>
<div class="paragraph">
<p>The task might require (if applicable)  the following third-party credentials: <code>CASSANDRA_USERNAME</code> and <code>CASSANDRA_PASSWORD</code>. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
<div class="paragraph">
<p>In the import mode, the output containing the imported data takes one or many of the following forms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a CSV format to saved to:</p>
<div class="ulist">
<ul>
<li>
<p>the <code>CASSANDRA_OUTPUT</code> file in the data space if specified by the user</p>
</li>
<li>
<p><em>and</em> to the <code>result</code> variable to make is previewable in the scheduler portal and to make it accessible for the next tasks.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_elasticsearch"><a class="anchor" href="ProActiveUserGuide.html#_elasticsearch"></a><a class="link" href="ProActiveUserGuide.html#_elasticsearch">15.3.3. ElasticSearch</a></h4>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 22. ElasticSearch Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label or the IP address of the ElasticSearch server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listening port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>9200</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for connecting to Elasticsearch server if authentication is required.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Index to use. In export mode, it is created if it does not exist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_index</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_QUERY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A query to fetch data. If empty, it will fetch all documents from the index by default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{ "query": { "match_all": {} } }</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_SIZE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of results to return.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_DOC_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The documents type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_doc_type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ELASTICSEARCH_INPUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A JSON Object/Array to be indexed in ElasticSearch. This variable can:</p>
<p class="tableblock">   - A String describing the JSON Object/Array</p>
<p class="tableblock">   - A relative path in the data space of a JSON file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g.</p>
<p class="tableblock"><code>{"document":{"key":"value"}}</code></p>
<p class="tableblock">or <code>path/to/input.json</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this task:</strong></p>
</div>
<div class="paragraph">
<p>The task might require (if the Elasticsearch server requires authentication) an <code>ELASTICSEARCH_USER</code> in addition to the following third-party credential: {key: <code>elasticsearch://&lt;ELASTICSEARCH_USER&gt;@&lt;ELASTICSEARCH_HOST&gt;:&lt;ELASTICSEARCH_PORT&gt;</code>, value: <code>ELASTICSEARCH_PASSWORD</code>&gt;. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
<div class="paragraph">
<p>In the import mode, the output containing the imported data takes the form of a JSON format to saved to the <code>result</code> variable to make is previewable in the scheduler portal and to make it accessible for the next tasks.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cloud"><a class="anchor" href="ProActiveUserGuide.html#_cloud"></a><a class="link" href="ProActiveUserGuide.html#_cloud">15.4. Cloud</a></h3>
<div class="paragraph">
<p>Cloud data connectors allow to interact with cloud storage services. Currently we provide support for Amazon S3, Azure Blob Storage, Azure Data Lake and Snowflake.</p>
</div>
<div class="sect3">
<h4 id="_amazon_s3"><a class="anchor" href="ProActiveUserGuide.html#_amazon_s3"></a><a class="link" href="ProActiveUserGuide.html#_amazon_s3">15.4.1. Amazon S3</a></h4>
<div class="paragraph">
<p>The Amazon S3 connector allows to upload and download data from S3. The connector workflow consists of two tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Import_from_S3: Downloads files or folders recursively from S3 to the global space.</p>
</li>
<li>
<p>Export_to_S3: Uploads files or folders recursively from the global space to S3.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 23. Amazon S3 Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ACCESS_KEY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 access key.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Export and Import Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. 12DSS21EFGFR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A valid URL to an existing S3 object that can be a file or a folder.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <a href="https://s3.eu-west-2.amazonaws.com/activeeon-public/images/" class="bare">https://s3.eu-west-2.amazonaws.com/activeeon-public/images/</a></p>
<p class="tableblock">or <a href="https://s3.eu-west-2.amazonaws.com/activeeon-public/images/logo.jpg" class="bare">https://s3.eu-west-2.amazonaws.com/activeeon-public/images/logo.jpg</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BUCKET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 Bucket name. If it does not exist, a new bucket is created (if possible) and assigned the specified region <code>REGION</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. activeeon-public</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REGION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>valid</em> AWS region code that corresponds to the region of the indicated bucket.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>eu-west-2</code>, <code>us-east-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LOCAL_RELATIVE_PATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative path to a folder in the data space to which the downloaded file(s) will be saved in import mode. In export mode, it should point to an existing file/folder that needs to be uploaded.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/input/file</code></p>
<p class="tableblock">or <code>path/to/input/folder/</code></p>
<p class="tableblock">or <code>path/to/output/folder/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REMOTE_RELATIVE_PATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix (relative path) used to store the uploaded data in the given bucket under the given path.
If empty, the data will be uploaded to the bucket root folder.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/output/</code></p>
<p class="tableblock">or <code>path/to/input/file/or/folder</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use these tasks:</strong></p>
</div>
<div class="paragraph">
<p>Amazon S3 connector tasks require your AWS credential keys to be set as a third-party credential (<code>key:value</code> pairs) where {key: ACCESS_KEY, value: SECRET_KEY}; this is a one-time action and will ensure that your credentials are securely encrypted. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_azure_data_lake"><a class="anchor" href="ProActiveUserGuide.html#_azure_data_lake"></a><a class="link" href="ProActiveUserGuide.html#_azure_data_lake">15.4.2. Azure Data Lake</a></h4>
<div class="paragraph">
<p>The Azure Data Lake connector allows to upload U-SQL scripts and then execute them as Data Lake Analytics (DLA) jobs. It requires an existing Data Lake Analytics account with its corresponding Data Lake Store account. The connector workflow consists of three tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Submit_job</em>: Connects to Azure Data Lake and submits the provided script.</p>
</li>
<li>
<p><em>Wait_for_job</em>: Periodically monitors the DLA job status until its finalization.</p>
</li>
<li>
<p><em>Display_result</em>: Downloads the result file and displays it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 24. Azure Data Lake Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AZ_DLA_ACCOUNT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Lake Analytics account to be used. It should already exist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_dla_account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AZ_DLA_JOB</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name to identify the job to be submitted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_dla_job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AZ_DLA_SCRIPT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File name of the U-SQL script to submit. The file must be located in the <strong>Global Space</strong> directory. An example file <code>script.usql</code> is provided.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample file: script.usql
e.g. my_usql_script.usql</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AZ_DLA_OUTPUT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the output file to store the result of the script.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. my_output_file.csv</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AZ_CRON_MONITOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cron expression to determine how frequently to monitor the completion of the job.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: "* * * * *"
(every minute)
e.g. "*/2 * * * *"
(every 2 minutes)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AZ_SUBSCRIPTION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Optional</em> variable to set an Azure subscription when not using the default one. Value can be a subscription&#8217;s <em>name</em> or <em>id</em>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. Pay-As-You-Go</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use these tasks:</strong></p>
</div>
<div class="paragraph">
<p>Azure Data Lake tasks require your Azure login credentials to be set as third-party credentials (<code>key:value</code> pairs); this is a one-time action and will ensure that your credentials are securely encrypted. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
<div class="paragraph">
<p>You have two options for providing your login credentials:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standard Azure login: <code>AZ_U:your_user</code> (usually an email). <code>AZ_P:your_password</code>.</p>
</li>
<li>
<p>Using an <a href="https://learn.microsoft.com/en-us/cli/azure/azure-cli-sp-tutorial-1">Azure service principal</a>: <code>AZ_U:appId</code>. <code>AZ_P:password</code>. <code>AZ_T:tenant</code>. By default, if <code>AZ_T</code> is set, the tasks will attempt to connect through a service principal.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<div class="title">The Output File</div>
<ul>
<li>
<p>Instead of hardcoding the name of your output file in your U-SQL script, you can use the placeholder <code>OUTPUT_FILE</code>, which is automatically replaced by the value of <code>AZ_DLA_OUTPUT</code>.</p>
</li>
<li>
<p>Once downloaded, the output file will be stored in your <strong>User Space</strong> (and <em>not</em> in the Global Space).</p>
</li>
<li>
<p>You can visualize a table-like version of your output data in the <em>Preview</em> tab of the Display_result task.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_azure_blob_storage"><a class="anchor" href="ProActiveUserGuide.html#_azure_blob_storage"></a><a class="link" href="ProActiveUserGuide.html#_azure_blob_storage">15.4.3. Azure Blob Storage</a></h4>
<div class="paragraph">
<p>The Azure Blob Storage connector allows to upload and download unstructured data (documents, videos, photos, audio files, presentations, web pages &#8230;&#8203;) from Azure Blob Storage. The connector workflow consists of two tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Import_from_Azure_Blob: Downloads blob(s) from Azure Blob Storage to the data space. Note that a virtual folder structure is possible in Azure Blob Storage. In that case, blobs are locally downloaded respecting this structure.</p>
</li>
<li>
<p>Export_to_Azure_Blob: Uploads file(s) or directories recursively from the data space to Azure Blob Storage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 25. Azure Blob Storage Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STORAGE_ACCOUNT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage account name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, Export and Import Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. storageaccountexample</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INPUT_PATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative path to a directory in the data space to which the downloaded blob(s) will be saved. INPUT_PATH can contain either a path to a file, a directory terminated by / or an empty value for the root.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/input/file.file</code></p>
<p class="tableblock">or <code>path/to/input/folder/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BLOB_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In import mode, it should refer to an existing blob. If it&#8217;s empty, the entire container is downloaded. In export mode, this value corresponds either to the name of the blob to be uploaded or to the folder structure in which blob(s) will be uploaded.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>doc.txt</code></p>
<p class="tableblock">or <code>images/logo.jpg</code></p>
<p class="tableblock">or <code>folder</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONTAINER_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Azure storage container name. For the export mode, if it does not exist, a new container will be created (if possible).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task, Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>azure-storage-container</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use these tasks:</strong></p>
</div>
<div class="paragraph">
<p>Azure Blob Storage connector tasks require your azure storage account and account key to be set as a third-party credential (<code>key:value</code> pairs) where {key: STORAGE_ACCOUNT, value: ACCOUNT_KEY}; this is a one-time action and will ensure that your credentials are securely encrypted. Please refer to the User documentation to learn how to add <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_snowflake"><a class="anchor" href="ProActiveUserGuide.html#_snowflake"></a><a class="link" href="ProActiveUserGuide.html#_snowflake">15.4.4. Snowflake</a></h4>
<div class="paragraph">
<p>The Snowflake data connector allows to import and export structured as well as semi-structured data (JSON, Avro, XML) from and to a Snowflake cloud Data Warehouse.
The Snowflake connector workflow is composed of two tasks:</p>
</div>
<div class="paragraph">
<p>Import_from_Snowflake: Import data from a Snowflake cloud Data Warehouse to be processed in the same workflow or just to be stored as a csv file in the data space.</p>
</div>
<div class="paragraph">
<p>Export_to_Snowflake: Export data from the data space (global or user space) to a Snowflake cloud Data Warehouse.</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 26. Snowflake Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for connecting to the data warehouse.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. MY_USERNAME</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ACCOUNT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of your account (provided by Snowflake).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. xy12345.east-us-2.azure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WAREHOUSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warehouse name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Strings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. MY_WAREHOUSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DATABASE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. MY_DATABASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SCHEMA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the default schema to use for the database. After login, you can use USE SCHEMA to change the schema.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. PUBLIC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ROLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the default role to use. After login, you can use USE ROLE to change the role.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. SYSYADMIN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PROTOCOL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol used for the connection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow, both Tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: <code>https</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QUERY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requires an SQL query or a table name to fetch data from.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code><code>SELECT * FROM &#8230;&#8203;</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT_FILE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative path in the data space used to save the results in a CSV file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/my/output.csv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task result output type (<code>HTML</code> or <code>CSV</code>).
If set to <code>HTML</code>, it allows to preview the results in Scheduler Portal in HTML format.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Values: <code>{CSV, HTML}</code>.</p>
<p class="tableblock">Default: <code>CSV</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TABLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The table to insert data into.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. MY_TABLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INPUT_FILE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">It can be a relative path in the dataspace of a csv file containing the data to import.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>path/to/data.csv</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use these tasks:</strong></p>
</div>
<div class="paragraph">
<p>When you drag &amp; drop a Snowflake connector, two tasks will be appended to your workflow: an import task and an export task. Each task can be used as a separate component in an ETL pipeline; thus, you can keep one of them depending on your needs and remove the other or you can use them both.</p>
</div>
<div class="paragraph">
<p>Each task requires the following third-party credential:</p>
</div>
<div class="paragraph">
<p>{key: <code>&lt;snowflake&gt;://&lt;&lt;USER&gt;@&lt;&lt;ACCOUNT&gt;:&lt;&lt;WAREHOUSE&gt;</code>, value: <code>SNOWFLAKE_PASSWORD</code>}.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_erp"><a class="anchor" href="ProActiveUserGuide.html#_erp"></a><a class="link" href="ProActiveUserGuide.html#_erp">15.5. ERP</a></h3>
<div class="paragraph">
<p>ProActive&#8217;s ERP connectors enable communication and data exchange with popular ERP software providers.</p>
</div>
<div class="sect3">
<h4 id="_sap_ecc"><a class="anchor" href="ProActiveUserGuide.html#_sap_ecc"></a><a class="link" href="ProActiveUserGuide.html#_sap_ecc">15.5.1. SAP ECC</a></h4>
<div class="paragraph">
<p>This connector allows you to interact with an SAP ECC system (not S/4HANA) by means of Remote Function Calls (RFC).</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 27. SAP ECC Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_ FUNCTION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of a remote-enabled function module on your SAP System. You can verify the available functions in your ECC transaction SE37.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. RFC_SYSTEM_INFO</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this connector:</strong></p>
</div>
<div class="paragraph">
<p>In order to securely connect to your SAP ECC system, you first need to store your SAP logon information as ProActive&#8217;s <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>. The required credentials are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 28. SAP connection credentials</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Credential</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Example</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_ASHOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application server host IP.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.10.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_SYSNR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System number.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_CLIENT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client number.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SAP logon user name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">myuser</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_PASSWD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SAP logon password (it will be hidden).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mypassword</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_LANG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Preferred language.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JCO_SAPROUTER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(Optional)</em> An SAP Router string, in case you are connecting from an external
               network. It is important that you keep the /H/ tags.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/H/192.168.0.1/H/</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Once the credentials are set, the workflow can be executed. If the connection is successful, the connection attributes will be listed as output. <strong>NB.</strong> ProActive&#8217;s SAP connector provides libraries to connect to an SAP server from a 64-bit OS (Windows, Linux, MacOS); libraries for other OS can be obtained through SAP Marketplace.</p>
</div>
<div class="paragraph">
<div class="title">Querying for a function</div>
<p>The SAP connector will search for the function module provided as the <code>JCO_FUNCTION</code> variable. If the function module exists and is remote-enabled, the script will display the function&#8217;s parameters (import, export, tables) right after the Connection attributes.</p>
</div>
<div class="paragraph">
<div class="title">Executing a function</div>
<p>The SAP connector includes an example of how to execute and handle the result of a function using the default <code>RFC_SYSTEM_INFO</code>, which returns a structure containing the System&#8217;s information. After the function is executed, the result can be accessed through the method <code>getExportParameterList()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">// execute RFC_SYSTEM_INFO function
sapFunction.execute(destination)
// obtain structure RFCSI_EXPORT
JCoStructure structure = sapFunction.getExportParameterList().getStructure("RFCSI_EXPORT")
if (structure != null) {
  println("System info:")
  // loop on structure to get the info
  for(JCoField field : structure) {
    println(field.getName() + " : " + field.getString())
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a more detailed guide of ProActive&#8217;s SAP ECC connector, please refer to <a href="https://www.activeeon.com/resources/SAPConnector.pdf">this document</a>.</p>
</div>
<div class="paragraph">
<p>Further information and examples using the SAP JCO library are available in the <a href="https://javadoc.io/static/com.sap.cloud/neo-java-web-api/3.178.6/index.html">SAP Cloud Platform SDK Documentation</a> and the SAP Java Connector documentation, accessible through <a href="https://support.sap.com/en/product/connectors/jco.html">SAP Support Website</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_business_intelligence"><a class="anchor" href="ProActiveUserGuide.html#_business_intelligence"></a><a class="link" href="ProActiveUserGuide.html#_business_intelligence">15.6. Business Intelligence</a></h3>
<div class="paragraph">
<p>Proactive&#8217;s BI connectors enable the exportation of data to robust analytics and business intelligence servers.</p>
</div>
<div class="sect3">
<h4 id="_export_data_to_tableau_server"><a class="anchor" href="ProActiveUserGuide.html#_export_data_to_tableau_server"></a><a class="link" href="ProActiveUserGuide.html#_export_data_to_tableau_server">15.6.1. Export_Data_to_Tableau_Server</a></h4>
<div class="paragraph">
<p>This connector allows you to publish data to a Tableau Server.</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 29. Tableau_Server Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DOCKER_ENABLED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if you want to enable docker fork environment.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DOCKER_IMAGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the docker image that you want to use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes if DOCKER_ENABLED is set as True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. activeeon/dlm3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_ENABLED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if you want to enable the execution of the task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SERVER_ENDPOINT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint of the Tableau server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g <a href="https://eu-west-1a.online.tableau.com" class="bare">https://eu-west-1a.online.tableau.com</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SITE_ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The site id defined in the Tableau server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g test_connector</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PROJECT_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the project where you will save your data in the Tableau server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT_FILE_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the file that will be created and saved in the Tableau server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. test.hyper</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this connector:</strong></p>
</div>
<div class="paragraph">
<p>In order to securely connect to your Tableau Server, you first need to store your Tableau login information as ProActive&#8217;s <a href="ProActiveUserGuide.html#_third_party_credentials">third-party credentials</a>. The required credentials are:
<code>TABLEAU_SERVER_USERNAME</code> and <code>TABLEAU_SERVER_PASSWORD</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ldap_query"><a class="anchor" href="ProActiveUserGuide.html#_ldap_query"></a><a class="link" href="ProActiveUserGuide.html#_ldap_query">15.7. LDAP Query</a></h3>
<div class="paragraph">
<p>The LDAP Query connector enables connection to an existing Microsoft Active Directory server to perform search operations and to check users' credentials and their groups access.</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<table class="tableblock frame-ends grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ldapURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL the LDAP server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ldap://localhost:389</code> (unsecured) or <code>ldaps://127.0.0.1:636</code> (secured)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ldapDnBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The base distinguished name of the catalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dc=yourOrganization,dc=com</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ldapUsername</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cn=admin</code> for global admin or <code>cn=yourName,ou=users</code> for a specific user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ldapSearchBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">base domain name for ldap queries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dc=specificDepartment</code> or can be empty for base DN search</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ldapSearchFilter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LDAP search filter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(objectclass=*)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ldapSelectedAttributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list of attributes to retrieve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attributeName1,attributeName2</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If any of these variables must stay private you&#8217;ll need to set them as third-party credentials (details are given below).</p>
</div>
<div class="sect3">
<h4 id="_authenticate_with_third_party_credentials"><a class="anchor" href="ProActiveUserGuide.html#_authenticate_with_third_party_credentials"></a><a class="link" href="ProActiveUserGuide.html#_authenticate_with_third_party_credentials">15.7.1. Authenticate with Third-party credentials</a></h4>
<div class="paragraph">
<p>In order to be able to authenticate to the LDAP server you need to define for the right Scheduler user the <code>ldapPassword</code> in the <a href="ProActiveUserGuide.html#_third_party_credentials">Third-party credentials</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_result_of_task"><a class="anchor" href="ProActiveUserGuide.html#_result_of_task"></a><a class="link" href="ProActiveUserGuide.html#_result_of_task">15.7.2. Result of task</a></h4>
<div class="paragraph">
<p>The task provides a specific variable for the result, which is called <code>result</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="ProActiveUserGuide.html#_retrieve_results">task result </a>  is a String in JSON format.</p>
</div>
<div class="sect4">
<h5 id="_output_example"><a class="anchor" href="ProActiveUserGuide.html#_output_example"></a><a class="link" href="ProActiveUserGuide.html#_output_example">Output example</a></h5>
<div class="paragraph">
<p>Successful task:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-{.json} hljs" data-lang="{.json}">{"status":"Ok","attributes":[{"loginShell":"/bin/csh","uid":"yaro","userPassword":"[B@2d6a9952","homeDirectory":"/home/users/yaro","uidNumber":"1000","givenName":"yaro","objectClass":"inetOrgPerson","sn":"yaya","gidNumber":"500","cn":"yaro"}]}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Failed task:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-{.json} hljs" data-lang="{.json}">{"status":"Error","errorMessage":"javax.naming.NameNotFoundException: [LDAP: error code 32 - No Such Object]; remaining name 'cn=yaro,dc=activeeon,dc=com1'"}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_secure_connection_to_ldap_server"><a class="anchor" href="ProActiveUserGuide.html#_secure_connection_to_ldap_server"></a><a class="link" href="ProActiveUserGuide.html#_secure_connection_to_ldap_server">15.7.3. Secure connection to LDAP server</a></h4>
<div class="paragraph">
<p>In order to use secure connection for the LDAP server, specify a correct LDAP over SSL URL (for example ldaps://localhost:636).</p>
</div>
<div class="paragraph">
<p>In order to be able to connect to a LDAP server, a valid certificate is needed.</p>
</div>
<div class="paragraph">
<p>When a self-signed certificate is used, the certificate needs to be added to the trusted certificates of the JRE provided with the Scheduler.</p>
</div>
<div class="paragraph">
<p>Below is an example for adding a certificate to a Java cacerts file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>keytool -import -alias ldap-self-signed -keystore &lt;/pathToScheduler/jre/lib/security/cacerts&gt; -file ldaps.crt -storepass changeit</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_application_connectors"><a class="anchor" href="ProActiveUserGuide.html#_application_connectors"></a><a class="link" href="ProActiveUserGuide.html#_application_connectors">16. Application Connectors</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>application-connectors</code> bucket contains diverse generic application connectors for the most frequently used cloud data management systems (ERP, ETL, LDAP, Reporting and Monitoring, and ServiceNow).The aim of an application connector is to facilitate and simplify the integration of a cloud application in your workflows.</p>
</div>
<div class="sect2">
<h3 id="_etl"><a class="anchor" href="ProActiveUserGuide.html#_etl"></a><a class="link" href="ProActiveUserGuide.html#_etl">16.1. ETL</a></h3>
<div class="paragraph">
<p>The ETL connectors allow connecting to data servers and benefit from their features.
The following presents the various ETL connectors that PWS handle.</p>
</div>
<div class="sect3">
<h4 id="_informatica"><a class="anchor" href="ProActiveUserGuide.html#_informatica"></a><a class="link" href="ProActiveUserGuide.html#_informatica">16.1.1. Informatica</a></h4>
<div class="paragraph">
<p>The Informatica workflow consists of one task.</p>
</div>
<div class="paragraph">
<p><strong>Variables:</strong></p>
</div>
<div class="paragraph">
<p>The Informatica workflow consists of a list of variables described in the following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 30. Informatica Connector variables</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scope</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ENDPOINT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server host.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>https://xxx.informaticacloud.com/test/test</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USERNAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for the authentication.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. toto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PASSWORD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password to use for the authentication.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. toto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RESPONSE_FORMAT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format of the server response .</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string, json, xml, html, contentView</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RESPONSE_PATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PARAM_var</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the api parameter (in case of multiple parameters, add several parameters fields).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. PARAM_input</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HEADER_header</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the api request header (in case of multiple parameters, add several headers fields).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. HEADER_sessionId</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JWT_TOKEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JWT Token to use for the authentication.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows printing more logs in the workflow results.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>How to use this task:</strong></p>
</div>
<div class="paragraph">
<p>This WorkFlow performs a GET request to an Informatica API associated to an application already created by the Informatica user.
This workflow template supports the following authentication methods: a basic authentication using a username and a password, an advanced authentication using a JWT access token and finally an anonymous authentication where no authorization is required.
The authentication method is determined based on the definition of the parameters when launching the WF.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_servicenow_user_doc"><a class="anchor" href="ProActiveUserGuide.html#_servicenow_user_doc"></a><a class="link" href="ProActiveUserGuide.html#_servicenow_user_doc">16.2. ServiceNow</a></h3>
<div class="paragraph">
<p><strong>Product Name:</strong> ServiceNow<br>
<strong>Product Version:</strong> Quebec<br>
<strong>Compatibility:</strong> Tokyo</p>
</div>
<div class="paragraph">
<p>The ServiceNow connectors allow ProActive to communicate with ServiceNow instances to perform CRUD operations on their data as well as to send emails.</p>
</div>
<div class="paragraph">
<p>The installation of the ProActive application in ServiceNow, which enables a ServiceNow instance to communication with a ProActive server, is described
in the <a href="https://trydev2.activeeon.com/admin/ProActiveAdminGuide.adoc#_servicenow_integration">ServiceNow admin documentation</a>.</p>
</div>
<div class="sect3">
<h4 id="_proactive_to_servicenow"><a class="anchor" href="ProActiveUserGuide.html#_proactive_to_servicenow"></a><a class="link" href="ProActiveUserGuide.html#_proactive_to_servicenow">16.2.1. ProActive to ServiceNow</a></h4>
<div class="paragraph">
<p>A set of ProActive workflow templates are available in the catalog to communicate with ServiceNow.
They are usually integrated as a task or a subworkflow in an end-to-end workflow and perform
HTTP queries to ServiceNow&#8217;s TABLE or EMAIL API depending on their action.</p>
</div>
<div class="paragraph">
<p>Go to <a href="https://docs.servicenow.com/en-US/bundle/quebec-application-development/page/build/applications/concept/api-rest.html" target="_blank" rel="noopener">ServiceNow&#8217;s REST API reference</a> for the complete API&#8217;s documentation.</p>
</div>
<div class="sect4">
<h5 id="_send_emails"><a class="anchor" href="ProActiveUserGuide.html#_send_emails"></a><a class="link" href="ProActiveUserGuide.html#_send_emails">Send Emails</a></h5>
<div class="paragraph">
<p>This workflow enables to send emails through ServiceNow using the EMAIL API.</p>
</div>
<div class="paragraph">
<p>It is made of a single task with its variables.</p>
</div>
<div class="paragraph">
<p><strong>Task Variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 31. ServiceNow_Send_Email</caption>
<colgroup>
<col style="width: 15.3846%;">
<col style="width: 38.4615%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 15.3847%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ENDPOINT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow server endpoint.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https://SN_SERVER/api/now/v1/email</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow user.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. administrator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PASSWORD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow password.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sring (HIDDEN)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. PWD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Recipients of the email.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String as a comma separated list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>example@emailexample.com,<a href="mailto:example2@emailexample.com">example2@emailexample.com</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email addresses that will be in copy.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String as a comma separated list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>example@emailexample.com,<a href="mailto:example2@emailexample.com">example2@emailexample.com</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SUBJECT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The subject of the email.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>Email from ProActive about &#8230;&#8203;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HTML</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content of the email, can contain HTML tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String with HTML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>&lt;bold&gt; This content has been generated by proactive &lt;/bold&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TABLE_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the table to save the email. Use this parameter to associate an email message to a particular related record elsewhere in the system.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String with HTML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. incident</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TABLE_RECORD_ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target-related record to which the email applies. Use this parameter to associate an email message to a particular related record elsewhere in the system.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. 9d385017c611228701d22104cc95c371</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SSL_DISABLE_CHECK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, disables SSL certificate verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONTENT_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content-type of the request, should be 'application/json' with eventual encoding.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>application/json;charset = UTF-8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REQUEST_BODY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The body of the HTTP request which is automatically built.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>{"to":"","cc":"","subject":"${SUBJECT}","html":"${HTML}"}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, activates the debug mode which prints messages to the terminal.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>true</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_table_api"><a class="anchor" href="ProActiveUserGuide.html#_table_api"></a><a class="link" href="ProActiveUserGuide.html#_table_api">Table API</a></h5>
<div class="paragraph">
<p>The TABLE API allows to query data from a ServiceNow instance.</p>
</div>
<div class="paragraph">
<p>There are six workflows in ProActive&#8217;s Catalog that queries ServiceNow&#8217;s TABLE API. Two enables to create a ServiceNow task
and mark it as resolved and four other to perform basic CRUD operations on ServiceNow&#8217;s tables.</p>
</div>
<div class="paragraph">
<p>The two Task related workflows have both one task with the following variables:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 32. ServiceNow_Create_Task</caption>
<colgroup>
<col style="width: 15.3846%;">
<col style="width: 38.4615%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 15.3847%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ENDPOINT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow server endpoint.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https://SN_SERVER/api/now</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow user.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. administrator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PASSWORD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow password.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sring (HIDDEN)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. PWD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TASK_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The subtype of the ServiceNow Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PA:LIST(incident,ticket,problem,change_request)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>incident</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path of the query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>/table/${TASK_TYPE}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RETURNED_FIELDS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow data to be returned in the HTTP response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String as a comma separated list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>number,sys_created_on,assigned_to,short_description,description,priority,sys_id</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SSL_DISABLE_CHECK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, disables SSL certificate verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONTENT_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content-type of the request, should be 'application/json' with eventual encoding.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>application/json;charset = UTF-8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REQUEST_BODY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The body of the HTTP request which is automatically built.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>{"to":"","cc":"","subject":"${SUBJECT}","html":"${HTML}"}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, activates the debug mode which prints messages to the terminal.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RESPONSE_PATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path of the data to extract in the response if json, xml or html format is selected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>.</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Mark a ServiceNow Task as resolved requires in addition to the variables described in the Create Task workflow:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 33. ServiceNow_Mark_Task_As_Resolved</caption>
<colgroup>
<col style="width: 15.3846%;">
<col style="width: 38.4615%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 15.3847%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STATE_NOTE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A note binded to the task resolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The task has been resolved</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The state of the ServiceNow Task after resolution. Can be 6 = Resolved, or 7 = Closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CLOSED_BY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user who resolved the Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>administrator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYS_ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system id of the Task to be resolved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>sys_9d385017c611228701d22104cc95c371</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The other four generic workflows to perform CRUD have the following structure.</p>
</div>
<div class="paragraph">
<p><strong>Workflow variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 34. ServiceNow_CRUD_workflow_variables</caption>
<colgroup>
<col style="width: 15.3846%;">
<col style="width: 38.4615%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 15.3847%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SERVICENOW_BASE_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base URL of the ServiceNow instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https://SN_SERVER.com</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SERVICENOW_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServiceNow user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>administrator</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Task variables:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 35. ServiceNow_CRUD_task_variables</caption>
<colgroup>
<col style="width: 15.3846%;">
<col style="width: 38.4615%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 15.3847%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default/Examples</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ENDPOINT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queried endpoint of the TABLE API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${SERVICENOW_BASE_URL}/api/now/table/${TABLE_NAME}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TABLE_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of queried ServiceNow table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>incident</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REQUEST_BODY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON structure describing columns and their values to be inserted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"column1":"value1", "column2":"value2",&#8230;&#8203;}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TABLE_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the queried ServiceNow table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>incident</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RESPONSE_FORMAT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format of the HTTP response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>application/json</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RESPONSE_PATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path of the data to extract in the response if json, xml or html format is selected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REQUEST_FORMAT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format of the HTTP request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>application/json</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYS_ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Id of the row to query (needed for read, update, delete)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>sys_9d385017c611228701d22104cc95c371</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HTTP_METHOD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Method of the query. Used for the update or modify record workflow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>PATCH</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYSPARM_DISPLAY_VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns field display values (true), actual values (false), or both (all).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYSPARM_EXCLUDE_REFERENCE_LINK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True to exclude Table API links for reference fields.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYSPARM_FIELDS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fields of the table to be included in the response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String as a comma separated list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>sys_id</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYSPARM_INPUT_DISPLAY_VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set field values using their display value (true) or actual value (false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYSPARM_SUPPRESS_AUTO_SYS_FIELD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True to suppress auto generation of system fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SYSPARM_QUERY_NO_DOMAIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True to access data across domains if authorized</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SSL_DISABLE_CHECK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, disables SSL certificate verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEBUG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, activates the debug mode which prints messages to the terminal.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>true</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_servicenow_to_proactive"><a class="anchor" href="ProActiveUserGuide.html#_servicenow_to_proactive"></a><a class="link" href="ProActiveUserGuide.html#_servicenow_to_proactive">16.2.2. ServiceNow to ProActive</a></h4>
<div class="paragraph">
<p>Once the application is installed, you are ready to integrate ProActive in your ServiceNow pipelines.</p>
</div>
<div class="paragraph">
<p>We will go over the core application files in the application to explain how to use them.</p>
</div>
<div class="sect4">
<h5 id="_script_includes"><a class="anchor" href="ProActiveUserGuide.html#_script_includes"></a><a class="link" href="ProActiveUserGuide.html#_script_includes">Script Includes</a></h5>
<div class="sect5">
<h6 id="_overview_4"><a class="anchor" href="ProActiveUserGuide.html#_overview_4"></a><a class="link" href="ProActiveUserGuide.html#_overview_4">Overview</a></h6>
<div class="paragraph">
<p>As defined by ServiceNow, Script Includes are reusable server-side scripts logic that define a function or a class.
Script Includes execute their script logic only when explicitly called by other scripts anywhere in the application where scripting is permitted.</p>
</div>
<div class="paragraph">
<p>It can be in another Script Include, In Workflow Activities, Flow Actions, UI elements &#8230;&#8203;</p>
</div>
</div>
<div class="sect5">
<h6 id="_usage_3"><a class="anchor" href="ProActiveUserGuide.html#_usage_3"></a><a class="link" href="ProActiveUserGuide.html#_usage_3">Usage</a></h6>
<div class="paragraph">
<p>Calling a Script Include where scripting is enabled is very easy. You just need to create an instance of the Script Include and execute its functions.</p>
</div>
<div class="paragraph">
<p>Here is an example where the Script Include named SchedulerClient is called in a Flow&#8217;s Action to submit a job:</p>
</div>
<div id="submit_from_catalog_script_code" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">(function execute(inputs, outputs) {

    var schedulerClient = new SchedulerClient();
    var response = schedulerClient.submitJobFromCatalog(inputs.proactive_url, inputs.session_id, inputs.bucket_name, inputs.workflow_name, inputs.variables, inputs.generic_info);

    outputs.job_id = response.id;
    outputs.readable_name = response.readableName;

})(inputs, outputs);</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_proactives_application_script_includes"><a class="anchor" href="ProActiveUserGuide.html#_proactives_application_script_includes"></a><a class="link" href="ProActiveUserGuide.html#_proactives_application_script_includes">ProActive&#8217;s application Script Includes</a></h6>
<div class="paragraph">
<p>There are 3 script includes in the ProActive application:</p>
</div>
<div class="paragraph">
<p><strong>SchedulerClient</strong>: A client that makes REST calls to a ProActive&#8217;s Scheduler.
Call this Script Include to make HTTP requests to the Scheduler of a ProActive&#8217;s server.</p>
</div>
<div class="paragraph">
<p>Here is the list of its current functions.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The REST API documentation for our try platform is available at <a href="https://try.activeeon.com/doc/rest/" class="bare">https://try.activeeon.com/doc/rest/</a>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function name</th>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Inputs</th>
<th class="tableblock halign-left valign-top">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getSessionId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes a POST request to login and retrieve the sessionId of a ProActive user</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proActiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>username: Name of user</p>
</li>
<li>
<p>password: Password of user</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The session id associated to the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">restartInErrorTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes a PUT request to restart all tasks in error in the job represented by a job id</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>jobId: Id of the job to restart in error tasks</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if success, false if not</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">submitJobFromCatalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submits a job to the scheduler from the catalog, creating a new job resource</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proactiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>sessionId: sessiondId of the user that will submit the job</p>
</li>
<li>
<p>bucket: Bucket name of the workflow</p>
</li>
<li>
<p>workflow: Name of the workflow</p>
</li>
<li>
<p>workflowVariables: Variables of the workflow as a JSON</p>
</li>
<li>
<p>genericInfos: Generic informations of the workflow as JSON</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The jobid of the newly created job as JSON</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  readableName:string,
  id:integer
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">submitJobFromFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submits a workflow stored in the ServiceNow instance to ProActive&#8217;s scheduler, creating a new job resource.
Provided a workflow name, the script will search for the corresponding workflow stored in ProActive&#8217;s application table named "x_661207_proacti_0_workflow" and labeled "Workflow".
The workflow&#8217;s must be stored as a file that complies with ProActive&#8217;s <a href="ProActiveUserGuide.html#_job_and_task_specification">XML schema</a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proactiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>sessionId: Session id of the ProActive who submits the job</p>
</li>
<li>
<p>workflowName: Name of the workflow to submit, stored in the Workflow table</p>
</li>
<li>
<p>variables: Variables of the workflow as JSON</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The jobid of the newly created job as JSON</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  readableName:string,
  id:integer
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disconnectUser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes a PUT request to disconnect a user represented by a sessionId from a ProActive server</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proactiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>sessionId: Session id of the user to disconnect</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if successful else false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getJobInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes a GET request to retrieve a job&#8217;s job info</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proactiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>sessionId: Session id of the ProActive user</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if successful, else false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isFaultyJob</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executes the getJobInfo function and checks the current job status to determine if the job is Faulty.
A job is considered faulty when it is finished, canceled or failed and has at least one task that is failed, faulty or in error</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proactiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>sessionId: Session id of the ProActive user</p>
</li>
<li>
<p>jobId: Id of the job to test</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if the job is faulty, else false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">waitForTerminalStatus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Polling function that blocks the current thread and checks the current job status every 2.5 seconds until it reaches a terminal status.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proactiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>sessionId: Session id of the ProActive user</p>
</li>
<li>
<p>jobId: Id of the job to poll</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The polled job info</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_getAllJobStatuses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utility function that returns a mapping of all the possible job statuses and if it is a terminal status</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    'PENDING': true,
    'RUNNING': true,
    'STALLED': true,
    'FINISHED': false,
    'PAUSED': true,
    'CANCELED': false,
    'FAILED': false,
    'KILLED': false,
    'IN_ERROR': true
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Functions starting with an _ is a ServiceNow naming convention for private functions. This is purely informative
as in reality they are callable from anywhere like other functions.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>OutboundRestService</strong>: A service class that contains a utility function to execute a ServiceNow&#8217;s Outbound Rest Messages.
Used by the SchedulerClient, it encapsulates the procedure to build and execute an HTTP query to ProActive&#8217;s Scheduler.</p>
</div>
<div class="paragraph">
<p>Like the SchedulerClient class, its function can be called from anywhere scripting is permitted.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function name</th>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Inputs</th>
<th class="tableblock halign-left valign-top">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executeOutboundRestMsg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prepares and executes a ServiceNow HTTP Method from the ProActive Scheduler REST Message</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>proActiveUrl: URL of the ProActive installation folder</p>
</li>
<li>
<p>sessionId: Session id of the ProActive user</p>
</li>
<li>
<p>httpMethodName: Name of the HTTP Method to execute</p>
</li>
<li>
<p>httpMethodVariables: A JSON collection of name/value pairs which holds the name of the HTTP Method variable to replace and its value.
This stands for all HTTP params types (including variables in the body) except query params which are defined in the following variable.</p>
</li>
<li>
<p>queryParams: A JSON collection of name/value pairs which holds the name of the query param to replace and its value.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A RESTResponseV2 object. Go to ServiceNow&#8217;s <a href="https://developer.servicenow.com/dev.do#!/reference/api/quebec/server/sn_ws-namespace/c_RESTResponseV2API">RESTResponseV2 API documentation</a>
to get a list of its functions.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>JobRepository</strong>: It is the service class which holds functions to perform CRUD operations on the application&#8217;s table labeled "Submitted job".
A table is a collection of records in the database. Each record corresponds to a row in a table, and each field on a record corresponds to a column on that table.
The Submitted Job table can be used to store Job Info data received from ProActive and access it in your pipelines.
Like other Script Include, it can be instantiated and called anywhere scripting is permitted.</p>
</div>
<div class="paragraph">
<p>You will find in the next section the structure of the table, which corresponds to JobInfo data fields returned by the Scheduler.</p>
</div>
<div class="paragraph">
<p>Here is the list of the current available functions</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function name</th>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Inputs</th>
<th class="tableblock halign-left valign-top">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createSubmittedJob</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a row to the Submitted Job table</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>sessionId: Session id of the ProActive user</p>
</li>
<li>
<p>jobInfo: JobInfo data object to insert in the table</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The sys id of the created row</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">updateSubmittedJob</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">updates a row to the Submitted Job table</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>sessionId: Session id of the ProActive user</p>
</li>
<li>
<p>jobInfo: Complete JobInfo data object with updated fields.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if the update has succeeded, else false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteSubmittedJobBySysId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes a row which has the specified sys id</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>sysId: The sys id of the row to be deleted</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if the deletion has succeeded, else false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteSubmittedJobByJobId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes a row which has the specified job id</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>jobId: The id of the job to be deleted</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if the deletion has succeeded, else false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_isJobExists</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks if a row exists with the specified job id</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>jobId: The id of the job to check</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if the row exists, else false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_executeUpdateQuery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utility function to encapsulate the update of a row process</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>jobId: The id of the job to be updated</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if the update has succeeded, else false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_tables"><a class="anchor" href="ProActiveUserGuide.html#_tables"></a><a class="link" href="ProActiveUserGuide.html#_tables">Tables</a></h5>
<div class="paragraph">
<p>The application has two tables that can be used to store and read data:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Submitted Job</strong>: Each row contains data of a job submitted to the Scheduler.
This is the table used by the JobRepository Script Include to perform CRUD operations.</p>
</li>
<li>
<p><strong>Workflow</strong>: Each row contains a ProActive workflow xml definition file. The function submitJobFromFile of the SchedulerService Script Include
will search for the specified workflow&#8217;s XML definition in this table.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Below you will find the structure of both tables</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 36. Structure of the Submitted Job table</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Max length</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">finished_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in_error_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">job_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">owner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">session_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">submitted_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 37. Structure of the Workflow table</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Max length</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File Attachment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All tables contain additional fields starting with sys_ . Those fields are automatically generated by ServiceNow when the table is created and can&#8217;t be changed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Two Table Columns have been added to the Incident table:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ProActive Job Id</p>
</li>
<li>
<p>ProActive Session Id</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This allows to specify the sessionId of the user, and a job id at an Incident creation, binding it to a ProActive job.
Other columns can be added in the Incident table to store logs, outputs or any needed information regarding a job.</p>
</div>
</div>
<div class="sect4">
<h5 id="_flow_designer"><a class="anchor" href="ProActiveUserGuide.html#_flow_designer"></a><a class="link" href="ProActiveUserGuide.html#_flow_designer">Flow Designer</a></h5>
<div class="paragraph">
<p>Flow Designer is a feature for automating processes in a single design environment.</p>
</div>
<div class="paragraph">
<p>Actions and Core Actions are what composes a Flow and Subflow. The application comes with Actions ready to be used.
These Actions use the Script Includes that we described earlier.</p>
</div>
<div class="paragraph">
<p>An Action consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Inputs: Variables accessible from all steps of the action</p>
</li>
<li>
<p>Action step(s): Process(es) using the provided inputs</p>
</li>
<li>
<p>Outputs: Variables that represent the results of the action. These results are available to other actions in a flow.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ProActive&#8217;s application Actions have been designed so that their inputs correspond to the related function called from
the Scheduler Client Script Include to make it as linear as possible.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 25%;">
<caption class="title">Table 38. Available actions</caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Action name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Login to ProActive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disconnect from ProActive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submit job from catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submit job from file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for terminal status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disconnect from ProActive</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Here is an example with the "Submit From Catalog" action. It applies to other actions as well.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/servicenow-action-inputs.png" alt="servicenow action inputs">
</div>
<div class="title">Figure 15. Inputs of the Submit From Catalog action</div>
</div>
<div class="paragraph">
<p>The Action inputs are accessible by all steps of the Action</p>
</div>
<div class="paragraph">
<p>Inputs of this step are bound to the Action inputs. This is represented by a pill
in the "Value" column.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/servicenow-step-inputs.png" alt="servicenow step inputs">
</div>
<div class="title">Figure 16. Inputs of the Submit From Catalog script step</div>
</div>
<div class="paragraph">
<p>The action is composed of a single script step. A script step is JavaScript code to execute within a reusable action.
While most core actions and steps fit common use cases, a Script step enables to execute a behavior that is not satisfied by the core steps.</p>
</div>
<div class="paragraph">
<p>The code of this script step is displayed <a href="ProActiveUserGuide.html#submit_from_catalog_script_code">here</a>.</p>
</div>
<div class="paragraph">
<p>As you can see it is very simple and the execution flow consists of:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Instantiating the SchedulerClient Script Include</p>
</li>
<li>
<p>Calling the submitFromCatalog function with the inputs as parameters</p>
</li>
<li>
<p>Writing the result in the outputs variable</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Finally, we define the outputs of the action with the same pills system, binding them to the step outputs.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/servicenow-action-outputs.png" alt="servicenow action outputs">
</div>
<div class="title">Figure 17. Outputs of the Submit From Catalog Action</div>
</div>
<div class="paragraph">
<p>The concept is the same for all the application&#8217;s Actions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_flows"><a class="anchor" href="ProActiveUserGuide.html#_flows"></a><a class="link" href="ProActiveUserGuide.html#_flows">Flows</a></h5>
<div class="paragraph">
<p>To put it simply, a flow is an automated process consisting of a sequence of actions and a trigger.
Flow building takes place in the Flow Designer application which requires a paid subscription to the Integration Hub application.</p>
</div>
<div class="paragraph">
<p>A Flow consists of the content types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Subflows: A Subflow is an automated process consisting of a sequence of reusable actions and specific data inputs that allow the process to be started from a flow, subflow, or script.</p>
</li>
<li>
<p>Actions: An Action is a reusable operation that enables process analysts to automate Now Platform features without having to write code</p>
</li>
<li>
<p>Core Actions: A ServiceNow Core Action is a ServiceNow-provided action available to any flow that cannot be viewed or edited from the Action Designer design environment.
For example, the Ask for Approval action</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A trigger identifies what causes the flow to execute.<br></p>
</div>
<div class="paragraph">
<p>Flows are triggered by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Record creation and/or update</p>
</li>
<li>
<p>Date</p>
</li>
<li>
<p>Service Catalog request</p>
</li>
<li>
<p>Inbound email</p>
</li>
<li>
<p>Service Level Agreements</p>
</li>
<li>
<p>MetricBase (requires the MetricBase plugin)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To access Flows, a user must have the flow_designer or admin roles.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The ProActive application come with Flows that can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Submit a job from the catalog asynchronously</p>
</li>
<li>
<p>Restart in error tasks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is the "Submit job from catalog async" Flow</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/servicenow-flow.png" alt="servicenow flow">
</div>
</div>
<div class="paragraph">
<p>This Flow submits a job to ProActive&#8217;s Scheduler in parallel, thus not blocking the main Flow thread.</p>
</div>
<div class="paragraph">
<p>In the Right panel named Data, you will find the data flow of the Flow. It offers a quick view of the Flow variables, accessible by all actions
and the inputs for each Action. Fo convenience, it has been cut in half in this screenshot.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/servicenow-data-flow-flow-designer.png" alt="servicenow data flow flow designer">
</div>
</div>
<div class="paragraph">
<p>The flow needs a trigger definition, and it will ready to run.</p>
</div>
</div>
<div class="sect4">
<h5 id="_workflows"><a class="anchor" href="ProActiveUserGuide.html#_workflows"></a><a class="link" href="ProActiveUserGuide.html#_workflows">Workflows</a></h5>
<div class="paragraph">
<p>The second way to automate complex processes is using Workflows that are built in the Workflow Editor.
A Workflow is the native way to do automation in ServiceNow. Workflow editor is intended for a more technical audience.</p>
</div>
<div class="paragraph">
<p>The goal and concepts of Workflows are the same as Flows only with a different interface and terminology.</p>
</div>
<div class="paragraph">
<p>Like Actions for Flows, a Workflow is a suite of Activities used for automating the processes.
Activities are the workflow blocks that carry out various tasks like sending emails, obtaining approvals, running scripts, and configuring field values on the records.</p>
</div>
<div class="paragraph">
<p>Every workflow starts with a Begin activity and ends with an End activity.
When the activity ends, the activity is available through the suitable node and the transition is comprehended to the latter activity.</p>
</div>
<div class="paragraph">
<p>Following are the ways to launch Workflows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UI Action</p>
</li>
<li>
<p>Server-side script</p>
</li>
<li>
<p>Triggered by field values on a record</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The ProActive application comes with a set of activities ready to be used in your workflows.
Like the Actions in the Flows, they call the application&#8217;s Script Include to perform their actions.</p>
</div>
<div class="paragraph">
<p>Each activity likely have inputs that needs to be defined.</p>
</div>
<div class="paragraph">
<p>Here the Login activity will read variables defined in the workflow&#8217;s scratchpad.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/servicenow-activity-variables.png" alt="servicenow activity variables">
</div>
</div>
<div class="paragraph">
<p>This window automatically opens when the activity is dragged and dropped on the canvas.</p>
</div>
<div class="paragraph">
<p>Use ProActive&#8217;s custom activities from the Custom tab to integrate ProActive in your pipelines.</p>
</div>
<div class="paragraph">
<p>Here an example of a simple Workflow, that can be stored and used as a Sub Workflow, that Submits a job to ProActive from the Catalog</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/servicenow-workflow-example.png" alt="servicenow workflow example">
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_addons"><a class="anchor" href="ProActiveUserGuide.html#_addons"></a><a class="link" href="ProActiveUserGuide.html#_addons">17. Addons</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_statistics_on_proactive_jobs_and_resource_usage"><a class="anchor" href="ProActiveUserGuide.html#_statistics_on_proactive_jobs_and_resource_usage"></a><a class="link" href="ProActiveUserGuide.html#_statistics_on_proactive_jobs_and_resource_usage">17.1. Statistics on ProActive Jobs and Resource Usage</a></h3>
<div class="paragraph">
<p>This addon generates a gantt chart to visualize executions of jobs and tasks, per node and over the time.</p>
</div>
<div class="paragraph">
<p>An example of a generated gantt chart</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/job_and_tasks_statistics.png" alt="job and tasks statistics">
</div>
</div>
<div class="paragraph">
<p>This chart can be generated on-demand, running Gantt_chart workflow from the Analytics bucket in the Catalog.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Please note that to run properly, this workflow requires a third party credential named "SCHEDULER_PASSWORD" with your scheduler password (so the tool can connect to the scheduler and retrieve information to build the chart) See <a href="ProActiveUserGuide.html#_managing_third_party_credentials">Managing third-party credentials</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference"><a class="anchor" href="ProActiveUserGuide.html#_reference"></a><a class="link" href="ProActiveUserGuide.html#_reference">18. Reference</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_job_and_task_specification"><a class="anchor" href="ProActiveUserGuide.html#_job_and_task_specification"></a><a class="link" href="ProActiveUserGuide.html#_job_and_task_specification">18.1. Job and task specification</a></h3>
<div class="paragraph">
<p>Workflows are written in XML and we provide a XSD grammar to help you write and validate them.
The Workflows XSD is available <a href="https://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.3/schedulerjob.xsd" target="_blank" rel="noopener">here</a>
and you can also find the documentation <a href="schedulerjob.html" target="_blank" rel="noopener">here</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Setup your IDE to use the <a href="https://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.3/schedulerjob.xsd" target="_blank" rel="noopener">Workflow XSD</a>,
you will benefit from live validation and completion!
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_studio_tasks"><a class="anchor" href="ProActiveUserGuide.html#_studio_tasks"></a><a class="link" href="ProActiveUserGuide.html#_studio_tasks">18.2. Studio Tasks</a></h3>
<div class="paragraph">
<p>This section describes the available predefined tasks in the <strong>Tasks</strong> menu of <strong>ProActive Studio</strong> and the operating systems where they run. These tasks are grouped in three sections:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>OS Shells</em>: Shell, Bash, Windows Cmd, PowerShell</p>
</li>
<li>
<p><em>Languages</em>: Java, Scalaw, Javascript, Groovy, Ruby, Jython, Python, Perl, PHP, R</p>
</li>
<li>
<p><em>Containers</em>: Dockerfile, Docker_Compose, Kubernetes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Please find in the table below a further description of these tasks.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Predefined Task Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Operating System</th>
<th class="tableblock halign-left valign-top">Additional Requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the generic posix <code>shell</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bash</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the posix <code>bash</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows Cmd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the windows <code>cmd</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PowerShell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>powershell</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.NET Framework 3.5 and Poweshell 2.0 Engine must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#java_tasks">Java Task</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scalaw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>scalaw</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Javascript</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>javascript</code> script engine (Nashhorn).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Groovy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>groovy</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ruby</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>ruby</code> (JRuby) script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jython</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>python</code> script engine. This script engine is based on the Jython implementation of Python.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Python</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>cpython</code> script engine. This script engine is based on native cpython commands.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPython and py4j module must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>perl</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perl must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>php</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Mac,Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHP interpreter must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>R</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R must be installed and the rJava library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dockerfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>dockerfile</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker_Compose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>docker-compose</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux,Windows,Mac</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker Compose and Docker must be installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sample <a href="ProActiveUserGuide.html#_script_tasks">Script Task</a> using the <code>kubernetes</code> script engine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes CLI must be installed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_variables_quick_reference"><a class="anchor" href="ProActiveUserGuide.html#_variables_quick_reference"></a><a class="link" href="ProActiveUserGuide.html#_variables_quick_reference">18.3. Script Bindings Reference</a></h3>
<div class="paragraph">
<p>This section describes useful bindings and variables, their scope, and their usage.</p>
</div>
<div class="paragraph">
<p>The different scripts a user can set are the followings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="ProActiveUserGuide.html#_selection">selection</a>: a script executed to select nodes suitable to execute a task. This script is executed on many nodes from the scheduling loop, before the task is deployed.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_fork_environment">environment</a>: the default mode to execute a task is to fork a dedicated JVM from the selected ProActive Node. The environment script, if defined in the workflow, is executed on the node to
let the user define which environment parameters will be given to the forked JVM.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>: a script which is executed <em>before</em> the task execution, in the same context (for example in the forked JVM).</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_script_tasks">task</a>: the main script of a task when the task is a <strong>script task</strong>.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_pre_post_clean">post</a>: a script which is executed <em>after</em> the task execution, in the same context. The post script is executed only if there was no error inside the task.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a>: a script which is executed <em>after</em> the task execution, in the same context, and when the task is part of a control flow.</p>
</li>
<li>
<p><a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>: a script which is executed <em>after</em> the task execution and any other script, directly on the node selected to execute the task (so not inside the forked JVM), whether there was a <strong>task error</strong> or not. The <em>clean script</em> is mainly used to clean the task host. If there was a <strong>node failure</strong> (the node is lost during the task execution), then the <em>clean script</em> is not executed and the task will be executed on another node.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The order in this list corresponds to the task life-cycle order.
<strong>all scripts</strong> refers to all above scripts</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable name and description</th>
<th class="tableblock halign-left valign-top">Use from a script</th>
<th class="tableblock halign-left valign-top">Use from a native task</th>
<th class="tableblock halign-left valign-top">Use from the workflow</th>
<th class="tableblock halign-left valign-top">Available in</th>
<th class="tableblock halign-left valign-top">Not Available in</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task result</strong>. Variable set by the user to return the result of a task. See <a href="ProActiveUserGuide.html#_task_result">Result variables</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">result = "value";</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The result will be the exit code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_script_tasks">task</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task arguments</strong>. Arguments of a script defined in the workflow. Available via all kind of scripts, when referencing an external file or directly as XML elements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203; = args[0];</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passed to native executable. Can also be used with $args_0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts, as external file, or XML element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Results of previous tasks</strong>. An array containing the results of parent tasks. See <a href="ProActiveUserGuide.html#_task_result">Result variables</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203; = results[0];</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$results_0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_script_tasks">task</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Branch</strong>. Either "if" or "else". See <a href="ProActiveUserGuide.html#_branch">branch</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch = "if";</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a> (if)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Parallel runs</strong>. Number of replications. See <a href="ProActiveUserGuide.html#_replicate">replication</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">runs = 3;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a> (replicate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Loop variable</strong>. A boolean variable used in a flow script to decide if the loop continues or not. See <a href="ProActiveUserGuide.html#_control_flow_scripts">loop</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loop = false;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a> (replicate) (loop)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task progress</strong>. Represents the progress of the task. Can be set to a value between 0 and 100.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">import org.ow2.proactive.scripting.helper.progress.ProgressFile;
ProgressFile.setProgress(variables.get("PA_TASK_PROGRESS_FILE"), 50);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">echo "50" &gt; $variables_PA_TASK_PROGRESS_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_script_tasks">task</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Workflow variables</strong>. Job variables defined in the workflow. See <a href="ProActiveUserGuide.html#_workflow_variables">Workflow variables</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get("key")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${key}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Generic information</strong>. Generic information defined in the workflow. See <a href="ProActiveUserGuide.html#_generic_information">Generic Information</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">genericInformation.get("key")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$genericInformation_key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Job ID</strong>. ID of the current job.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_JOB_ID" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_JOB_ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_JOB_ID}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Job name</strong>. Name of the current job.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_JOB_NAME" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_JOB_NAME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_JOB_NAME}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task ID</strong>. Id of the task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_TASK_ID" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_TASK_ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_TASK_ID}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task name</strong>. Name of the task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_TASK_NAME" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_TASK_NAME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_TASK_NAME}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>User</strong>. The name of user who submitted the job.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_USER" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_USER}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scheduler Home</strong>. Installation directory of the scheduler on the ProActive node.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_SCHEDULER_HOME" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_SCHEDULER_HOME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task iteration index</strong>. Index of iteration for this task inside a loop control. See <a href="ProActiveUserGuide.html#_task_executable">Task executable</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_TASK_ITERATION" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_TASK_ITERATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_TASK_ITERATION}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task replication index</strong>. Index of replication for this task inside a replicate control. See <a href="ProActiveUserGuide.html#_task_executable">Task executable</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_TASK_REPLICATION" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_TASK_REPLICATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_TASK_REPLICATION}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Task Success</strong>. A variable accessible from a clean script, a flow script or a direct child task. It is a boolean value which is <em>true</em> if the task succeeded and <em>false</em> if the task failed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_TASK_SUCCESS" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_TASK_SUCCESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Exit Value</strong>. A variable accessible from a clean script, a flow script or a direct child task. It is an integer value which contains the exit value of the task, if and only if the task contains a bash, shell, cmd, or vb script. If the task contains several of these scripts, the one executed last will prevail.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "EXIT_VALUE" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_EXIT_VALUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node URL</strong>. The URL of the node which executes the current task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_NODE_URL" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_NODE_URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_NODE_URL}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node URL (Selection Script)</strong>. The URL of the node which executes the selection script. See <a href="ProActiveUserGuide.html#_selection">Selection of ProActive Nodes</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selected = (nodeurl == "pnp://mymachine:14200/Node1")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_selection">selection</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Name</strong>. The name of the node which executes the current task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_NODE_NAME" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_NODE_NAME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_NODE_NAME}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Name (Selection Script)</strong>. The name of the node which executes the selection script. See <a href="ProActiveUserGuide.html#_selection">Selection of ProActive Nodes</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selected = (nodename == "Node1")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_selection">selection</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Host</strong>. The hostname of the node which executes the current task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_NODE_HOST" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_NODE_HOST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_NODE_HOST}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Source</strong>. The nodesourcename of the node which executes the current task.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_NODE_SOURCE" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_NODE_SOURCE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_NODE_SOURCE}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Host (Selection Script)</strong>. The hostname of the node which executes the selection script. See <a href="ProActiveUserGuide.html#_selection">Selection of ProActive Nodes</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selected = (nodehost == "mymachine")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_selection">selection</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Tokens (Selection Script)</strong>. The list of <a href="../admin/ProActiveAdminGuide.html#_policy_common_parameters">tokens</a> attached to the node which executes the selection script.
As the selection script will only be executed on Nodes which contains the token defined using the generic information <a href="ProActiveUserGuide.html#_node_access_token">NODE_ACCESS_TOKEN</a>, <strong>nodeTokens</strong> can only be used to perform additional filtering of nodes (for example, restrict to nodes which only contains the required token and none others). See <a href="ProActiveUserGuide.html#_selection">Selection of ProActive Nodes</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selected = (!nodeTokens.contains("excludedToken"))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_selection">selection</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scheduler REST URL</strong>. The REST url of the scheduler server. The public REST url is also available (if the setting pa.scheduler.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_SCHEDULER_REST_URL" ) or variables.get( "PA_SCHEDULER_REST_PUBLIC_URL" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_SCHEDULER_REST_URL or $variables_PA_SCHEDULER_REST_PUBLIC_URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_SCHEDULER_REST_URL} or ${PA_SCHEDULER_REST_PUBLIC_URL}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Catalog REST URL</strong>. The REST url of the catalog service. The public REST url is also available (if the setting pa.catalog.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_CATALOG_REST_URL" ) or variables.get( "PA_CATALOG_REST_PUBLIC_URL" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_CATALOG_REST_URL or $variables_PA_CATALOG_REST_PUBLIC_URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_CATALOG_REST_URL} or ${PA_CATALOG_REST_PUBLIC_URL}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Service Automation REST URL</strong>. The REST url of Service Automation. The public REST url is also available (if the setting pa.cloud-automation.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_CLOUD_AUTOMATION_REST_URL" ) or variables.get( "PA_CLOUD_AUTOMATION_REST_PUBLIC_URL" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_CLOUD_AUTOMATION_REST_URL or $variables_PA_CLOUD_AUTOMATION_REST_PUBLIC_URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_CLOUD_AUTOMATION_REST_URL} or ${PA_CLOUD_AUTOMATION_REST_PUBLIC_URL}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Job Planner REST URL</strong>. The REST url of the job-planner service. The public REST url is also available (if the setting pa.job-planner.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_JOB_PLANNER_REST_URL" ) or variables.get( "PA_JOB_PLANNER_REST_PUBLIC_URL" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_JOB_PLANNER_REST_URL or $variables_PA_JOB_PLANNER_REST_PUBLIC_URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_JOB_PLANNER_REST_URL} or ${PA_JOB_PLANNER_REST_PUBLIC_URL}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notification Service REST URL</strong>. The REST url of the notification service. The public REST url is also available (if the setting pa.notification-service.rest.public.url is defined in <code>PROACTIVE_HOME/config/scheduler/settings.ini</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables.get( "PA_NOTIFICATION_SERVICE_REST_URL" ) or variables.get( "PA_NOTIFICATION_SERVICE_REST_PUBLIC_URL" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_NOTIFICATION_SERVICE_REST_URL or $variables_PA_NOTIFICATION_SERVICE_REST_PUBLIC_URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">${PA_NOTIFICATION_SERVICE_REST_URL} or ${PA_NOTIFICATION_SERVICE_REST_PUBLIC_URL}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Third party credentials</strong>. Credentials stored on the server for this user account. See <a href="ProActiveUserGuide.html#_managing_third_party_credentials">Managing third-party credentials</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentials.get( "pw" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$credentials_pw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$credentials_pw (only in the task arguments)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SSH private key</strong>. Private SSH Key used at login. See <a href="ProActiveUserGuide.html#_run_as_me">Run Computation with a user&#8217;s system account</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">credentials.get( "SSH_PRIVATE_KEY" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$credentials_SSH_PRIVATE_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Number of nodes</strong>. Number of nodes used by this task. See <a href="ProActiveUserGuide.html#_mpi_application">Example: MPI application</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nodesurl.size()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_NODESNUMBER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Url of nodes</strong>. List of URL of nodes. See <a href="ProActiveUserGuide.html#_mpi_application">Example: MPI application</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nodesurl.get(0)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$variables_PA_NODESFILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>User space</strong>. Location of the user space. See <a href="ProActiveUserGuide.html#_data_spaces">Data Spaces</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">println userspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$userspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$userspace (only in tasks arguments)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Global space</strong>. Location of the global space. See <a href="ProActiveUserGuide.html#_data_spaces">Data Spaces</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">println globalspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$globalspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$globalspace (only in tasks arguments)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Input space</strong>. Location of the input space. See <a href="ProActiveUserGuide.html#_data_spaces">Data Spaces</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">println inputspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$inputspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Local space</strong>. Location of the local space. See <a href="ProActiveUserGuide.html#_data_spaces">Data Spaces</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">println localspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$localspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$localspace (only in tasks arguments)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cache space</strong>. Location of the cache space. See <a href="ProActiveUserGuide.html#_data_spaces">Data Spaces</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">println cachespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$cachespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$cachespace (only in tasks arguments)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Output space</strong>. Location of the output space. See <a href="ProActiveUserGuide.html#_data_spaces">Data Spaces</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">println outputspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$outputspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Selection</strong>. Variable which must be set to select the node. See <a href="ProActiveUserGuide.html#_selection">Selection of ProActive Nodes</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selected = true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_selection">selection</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Fork Environment</strong>. Fork Environment variable is a <a href="../javadoc/org/ow2/proactive/scheduler/common/task/ForkEnvironment.html">ForkEnvironment java object</a> allowing a script to set various initialization parameters of the forked JVM. See <a href="ProActiveUserGuide.html#_fork_environment">Fork Environment</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forkEnvironment.setJavaHome( "/usr/java/default" )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, R, powershell, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scheduler API</strong>. Scheduler API variable is a <a href="../javadoc/org/ow2/proactive/scheduler/task/client/SchedulerNodeClient.html">SchedulerNodeClient java object</a> which can connect to the ProActive Scheduler frontend and interact directly with its <a href="ProActiveUserGuide.html#_task_apis">API</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">schedulerapi.connect()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, R, powershell, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Resource Manager API</strong>. Resource Manager API variable which can connect to the ProActive RM frontend and interact directly with its <a href="ProActiveUserGuide.html#_task_apis">API</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rmapi.connect()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, R, powershell, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>UserSpace API</strong>. UserSpace API variable is a <a href="../javadoc/org/ow2/proactive/scheduler/task/client/DataSpaceNodeClient.html">DataSpaceNodeClient java object</a> which can connect to the <a href="ProActiveUserGuide.html#_global_and_user_spaces">User Space</a> and interact directly with its <a href="ProActiveUserGuide.html#_dataspace_apis">API</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">userspaceapi.connect()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, R, powershell, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>GlobalSpace API</strong>. GlobalSpace API variable is a <a href="../javadoc/org/ow2/proactive/scheduler/task/client/DataSpaceNodeClient.html">DataSpaceNodeClient java object</a> which can connect to the <a href="ProActiveUserGuide.html#_global_and_user_spaces">Global Space</a> and interact directly with its <a href="ProActiveUserGuide.html#_dataspace_apis">API</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">globalspaceapi.connect()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ProActiveUserGuide.html#_fork_environment">environment</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">pre</a>, <a href="ProActiveUserGuide.html#_script_tasks">task</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">post</a>, <a href="ProActiveUserGuide.html#_pre_post_clean">clean</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, R, powershell, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Synchronization API</strong>. Synchronization API variable is a ../javadoc/org/ow2/proactive/scheduler/synchronization/Synchronization.html[Synchronization java object] which can connect to the Synchronization Service and interact directly with its <a href="ProActiveUserGuide.html#_task_synchronization_api">API</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">synchronizationapi.createChannel("channel1", false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, R, powershell, vbscript</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Signal API</strong>. Signal API variable is a ../javadoc/org/ow2/proactive/scheduler/signal/SignalApi.html[SignalApi java object] that allows to manage job signals using its underlying <a href="ProActiveUserGuide.html#_task_signal_api">API</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">signalapi.sendSignal("stop")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bash, cmd, perl, php, R, powershell, vbscript</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_variables_maps"><a class="anchor" href="ProActiveUserGuide.html#_variables_maps"></a><a class="link" href="ProActiveUserGuide.html#_variables_maps">18.3.1. Variables maps</a></h4>
<div class="paragraph">
<p>The syntax for accessing maps (like <strong>variables</strong>, <strong>credentials</strong> or <strong>genericInformation</strong>) is language dependent.</p>
</div>
<div class="paragraph">
<p>For Groovy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">print variables.get("key")</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Python/Jython:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">print variables["key"]</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Ruby:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">puts variables["key"]</code></pre>
</div>
</div>
<div class="paragraph">
<p>For R:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-R hljs" data-lang="R">print(variables[["key"]])</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Bash (using environment variables):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo $variables_key</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Cmd (using environment variables):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dos hljs" data-lang="dos">echo %variables_key%</code></pre>
</div>
</div>
<div class="paragraph">
<p>For VBScript (using process environment variables):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-vbscript hljs" data-lang="vbscript">Set wshShell = CreateObject( "WScript.Shell" )
Set wshProcessEnv = wshShell.Environment( "PROCESS" )
Wscript.Echo "Hello World from Job " &amp; wshProcessEnv( "variables_key" )</code></pre>
</div>
</div>
<div class="paragraph">
<p>For PowerShell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-PowerShell hljs" data-lang="PowerShell">Write-Output $variables.Get_Item('key')</code></pre>
</div>
</div>
<div class="paragraph">
<p>For PHP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-php hljs" data-lang="php">&lt;?php
    echo "&lt;p&gt;Value of variable: ".getenv("variables_key")."&lt;/b&gt;&lt;/p&gt;";
?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_script_results"><a class="anchor" href="ProActiveUserGuide.html#_script_results"></a><a class="link" href="ProActiveUserGuide.html#_script_results">18.3.2. Script results</a></h4>
<div class="paragraph">
<p>The last statement of a script corresponds to the script result.
The result can also be explicitly set with a manual affectation to a <strong>result</strong> variable.</p>
</div>
<div class="paragraph">
<p>Different kind of scripts (<a href="ProActiveUserGuide.html#_selection">selection</a>, <a href="ProActiveUserGuide.html#_control_flow_scripts">flow</a>, etc) will need to affect different kind of variable as results
(for example <strong>selected</strong>, <strong>branch</strong>, <strong>runs</strong>, etc).</p>
</div>
<div class="paragraph">
<p>Example for Groovy <a href="ProActiveUserGuide.html#_selection">selection</a> scripts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">selected = java.net.InetAddress.getLocalHost().getHostName() == "mymachine"</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is important to note that the result of a script will be converted to Java, and that some internal language types are not automatically convertible.
If the task displays an error due to the result conversion, several approaches can be used:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the script can manually convert the internal type to a more primitive type.</p>
</li>
<li>
<p>the result can instead be stored in a file and transferred as an output file.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Results of parent tasks are stored in the <strong>results</strong> variable. Like the variables map, accessing this <strong>results</strong> variable is language-dependant.</p>
</div>
<div class="paragraph">
<p>For ruby, python, jython or groovy script languages, the parent tasks results (<strong>results</strong> variable) contains a list of <a href="../javadoc/org/ow2/proactive/scheduler/common/task/TaskResult.html">TaskResult java object</a>.
In order to access the result real value, the value() method of this object must be called:</p>
</div>
<div class="paragraph">
<p>Example for Python/Jython:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">print results[0].value()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other languages such as R or PowerShell can access the results directly</p>
</div>
<div class="paragraph">
<p>Example for R:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-R hljs" data-lang="R">print(results[[0]])</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about various script engines particularities and syntax is available in the <a href="ProActiveUserGuide.html#_script_languages">Script Languages</a> chapter.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_topology_types"><a class="anchor" href="ProActiveUserGuide.html#_topology_types"></a><a class="link" href="ProActiveUserGuide.html#_topology_types">18.4. Topology Types</a></h3>
<div class="paragraph">
<p><strong>ProActive Scheduler</strong> supports the following nodes topologies for <strong>multi-nodes tasks</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Arbitrary</strong> topology does not imply any restrictions on nodes location</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
    &lt;topology&gt;
        &lt;arbitrary/&gt;
    &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Best proximity</strong> - the set of closest nodes among those which are not executing other tasks.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
    &lt;topology&gt;
        &lt;bestProximity/&gt;
    &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Threshold proximity</strong> - the set of nodes within a threshold proximity (in microseconds).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
    &lt;topology&gt;
        &lt;thresholdProximity threshold="100"/&gt;
    &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Single Host</strong> - the set of nodes on a single host.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
    &lt;topology&gt;
        &lt;singleHost/&gt;
    &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Single Host Exclusive</strong> - the set of nodes of a single host exclusively. The host with selected nodes will be reserved for the user.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
    &lt;topology&gt;
        &lt;singleHostExclusive/&gt;
    &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For this task the scheduler will try to find a host with 4 nodes. If there is no such a host another one will be used with a bigger capacity (if exists). In this case extra nodes on this host will be also occupied by the task but will not be used for the execution.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Multiple Hosts Exclusive</strong> - the set of nodes filled in multiple hosts. Hosts with selected nodes will be reserved for the user.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
    &lt;topology&gt;
        &lt;multipleHostsExclusive/&gt;
    &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For this task the scheduler will try to find 4 nodes on a set of hosts. If there is no such a set which gives you exactly 4 nodes another one will be used with a bigger capacity (if exists). In this case extra nodes on this host will be also occupied by the task but will not be used for the execution.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Different Hosts Exclusive</strong> - the set of nodes each from a different host. All hosts with selected nodes will be reserved for the user.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parallel numberOfNodes="4"&gt;
    &lt;topology&gt;
        &lt;differentHostsExclusive/&gt;
    &lt;/topology&gt;
&lt;/parallel&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For this task the scheduler will try to find 4 hosts with one node on each. If number of "single node" hosts are not enough hosts with bigger capacity will be selected. In this case extra nodes on this host will be also occupied by the task but will not be used for the execution.</p>
</div>
</div>
<div class="sect2">
<h3 id="_scheduler_graphql_api"><a class="anchor" href="ProActiveUserGuide.html#_scheduler_graphql_api"></a><a class="link" href="ProActiveUserGuide.html#_scheduler_graphql_api">18.5. Scheduler GraphQL API</a></h3>
<div class="sect3">
<h4 id="_scheduler_graphql_api_portal"><a class="anchor" href="ProActiveUserGuide.html#_scheduler_graphql_api_portal"></a><a class="link" href="ProActiveUserGuide.html#_scheduler_graphql_api_portal">18.5.1. Scheduler GraphQL API portal</a></h4>
<div class="paragraph">
<p>ProActive Scheduler GraphQL API portal can be accessed in your environment using the following link:</p>
</div>
<a class="schedulerGraphQLUrl" href="https://trydev2.activeeon.com/scheduling-api/v1/graphiql" target="_blank">Scheduler GraphQL API</a> 
<div class="paragraph">
<p>In general, the GraphiQL interface can be opened at <code>http://your-server:8080/scheduling-api/v1/graphiql</code> or <code>https://your-server:8443/scheduling-api/v1/graphiql</code> when the scheduler server is configured in <em>https</em> mode.</p>
</div>
<div class="paragraph">
<p>In order to use it, you must be first connected to one of the ProActive portals. If you are not currently connected or if your session has expired, you will receive a <code>MissingSessionIdException</code> when trying to run queries.</p>
</div>
<div class="paragraph">
<p>This portal allows to run GraphQL queries against the scheduler database, to find jobs according to various filters.
Queries are read-only, you cannot use this portal to perform stateful operations (e.g job submission, job removal, etc).</p>
</div>
<div class="paragraph">
<p>The GraphiQL interface is displayed as the following:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/SchedGraphqlMain.png" alt="SchedGraphqlMain">
</div>
</div>
<div class="paragraph">
<p>You can explore the <code>Docs</code> section to see detailed information about all GraphQL nodes, filters and attributes:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://trydev2.activeeon.com/doc/images/SchedGraphqlDocs.png" alt="SchedGraphqlDocs">
</div>
</div>
<div class="sect4">
<h5 id="_graphql_basic_usage"><a class="anchor" href="ProActiveUserGuide.html#_graphql_basic_usage"></a><a class="link" href="ProActiveUserGuide.html#_graphql_basic_usage">GraphQL Basic Usage</a></h5>
<div class="paragraph">
<p>The left panel allows to write queries. You can start by entering the query <em>{ jobs }</em>, this query will be automatically expanded to match the correct syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-graphql hljs" data-lang="graphql">{jobs {
  edges {
    node {
      id
    }
  }
}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Executing this query will return a json result such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": {
    "jobs": {
      "edges": [
        {
          "node": {
            "id": "1"
          }
        },
        {
          "node": {
            "id": "2"
          }
        },
        {
          "node": {
            "id": "3"
          }
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this basic example, only the job ids are displayed, it is of course possible to display more information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-graphql hljs" data-lang="graphql">{
  jobs {
    edges {
      node {
        id
        name
        owner
        submittedTime
        status
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will return something similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": {
    "jobs": {
      "edges": [
        {
          "node": {
            "id": "1",
            "name": "script_groovy",
            "owner": "admin",
            "submittedTime": 1589799002016,
            "status": "FINISHED"
          }
        },
        {
          "node": {
            "id": "2",
            "name": "script_groovy",
            "owner": "admin",
            "submittedTime": 1589799356783,
            "status": "FINISHED"
          }
        },
        {
          "node": {
            "id": "3",
            "name": "Script_Cmd",
            "owner": "admin",
            "submittedTime": 1589810586677,
            "status": "FINISHED"
          }
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_graphql_pagination"><a class="anchor" href="ProActiveUserGuide.html#_graphql_pagination"></a><a class="link" href="ProActiveUserGuide.html#_graphql_pagination">GraphQL Pagination</a></h5>
<div class="paragraph">
<p>GraphQL results are <strong>paginated</strong>, a request can use one of the following attributes to control pagination:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>last</code>(integer) : displays the specified last number of results.</p>
</li>
<li>
<p><code>first</code>(integer) : displays the specified first number of results.</p>
</li>
<li>
<p><code>before</code> (cursor) : displays results before the specified cursor</p>
</li>
<li>
<p><code>after</code> (cursor) : displays results after the specified cursor</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following requests uses <code>last</code> to display the 5 most recent jobs, and displays all pages information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-graphql hljs" data-lang="graphql">{
  jobs(last: 5) {
    edges {
      node {
        id
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It returns something similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": {
    "jobs": {
      "edges": [
        {
          "node": {
            "id": "11"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3IxMQ=="
        },
        {
          "node": {
            "id": "12"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3IxMg=="
        },
        {
          "node": {
            "id": "13"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3IxMw=="
        },
        {
          "node": {
            "id": "14"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3IxNA=="
        },
        {
          "node": {
            "id": "15"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3IxNQ=="
        }
      ],
      "pageInfo": {
        "hasNextPage": false,
        "hasPreviousPage": true,
        "startCursor": "Z3JhcGhxbC1jdXJzb3IxMQ==",
        "endCursor": "Z3JhcGhxbC1jdXJzb3IxNQ=="
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To display the previous page, the following request is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-graphql hljs" data-lang="graphql">{
  jobs(last: 5, before: "Z3JhcGhxbC1jdXJzb3IxMQ==") {
    edges {
      node {
        id
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which returns a result such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": {
    "jobs": {
      "edges": [
        {
          "node": {
            "id": "6"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3I2"
        },
        {
          "node": {
            "id": "7"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3I3"
        },
        {
          "node": {
            "id": "8"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3I4"
        },
        {
          "node": {
            "id": "9"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3I5"
        },
        {
          "node": {
            "id": "10"
          },
          "cursor": "Z3JhcGhxbC1jdXJzb3IxMA=="
        }
      ],
      "pageInfo": {
        "hasNextPage": true,
        "hasPreviousPage": true,
        "startCursor": "Z3JhcGhxbC1jdXJzb3I2",
        "endCursor": "Z3JhcGhxbC1jdXJzb3IxMA=="
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_graphql_filters"><a class="anchor" href="ProActiveUserGuide.html#_graphql_filters"></a><a class="link" href="ProActiveUserGuide.html#_graphql_filters">GraphQL Filters</a></h5>
<div class="paragraph">
<p>GraphQL API allows to select jobs according to various <strong>filters</strong>. The following example filters jobs according to a given name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-graphql hljs" data-lang="graphql">{
  jobs(filter: {name: "*Python"}) {
    edges {
      node {
        id name
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The wildcard "*Python" selects all jobs ending with "Python". The special character <code>*</code> can be used at the beginning or at the end of the expression (or both). It cannot be used in the middle.</p>
</div>
<div class="paragraph">
<p>Here are the results of this GraphQL query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": {
    "jobs": {
      "edges": [
        {
          "node": {
            "id": "8",
            "name": "Script_Python"
          }
        },
        {
          "node": {
            "id": "9",
            "name": "Script_Python"
          }
        },
        {
          "node": {
            "id": "10",
            "name": "Script_Python"
          }
        },
        {
          "node": {
            "id": "11",
            "name": "Script_Python"
          }
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The complete list of filters is available in the GraphQL <code>Docs</code> section.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_scheduler_graphql_rest_api"><a class="anchor" href="ProActiveUserGuide.html#_scheduler_graphql_rest_api"></a><a class="link" href="ProActiveUserGuide.html#_scheduler_graphql_rest_api">18.5.2. Scheduler GraphQL REST API</a></h4>
<div class="paragraph">
<p>After testing queries in the GraphQL Portal, you can use the scheduling-api REST interface to run these queries from any REST client.</p>
</div>
<div class="paragraph">
<p>Few aspects are to be considered when running graphql queries from a REST client:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The url of the GraphQL REST API is different: <code>http://your-server:8080/scheduling-api/v1/graphql</code> (<em>graphql</em> instead of graphiql).</p>
</li>
<li>
<p>The REST request method must be <code>POST</code> and its <code>Content-Type</code> be <code>application/json</code>.</p>
</li>
<li>
<p>It requires in the header section, a <code>sessionid</code> retrieved from a login to the ProActive scheduler REST API.</p>
</li>
<li>
<p>The query itself is given as a string value of the <code>"query"</code> attribute inside the json body content. This value must be <strong>escaped</strong> to be a valid json. You can use, for example, online tools such as <code><a href="https://codebeautify.org/json-escape-unescape" class="bare">https://codebeautify.org/json-escape-unescape</a></code> to escape the query as a json string.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example of executing a GraphQL REST query using curl.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, we acquire a sessionid by login to the scheduler REST API:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">sessionid=$(curl -d "username=mylogin&amp;password=mypassword" http://try.activeeon.com:8080/rest/scheduler/login)</code></pre>
</div>
</div>
</li>
<li>
<p>Second, we use a json escape tool to produce the query parameter.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-graphql hljs" data-lang="graphql">{
  jobs {
    edges {
      node {
        id
        name
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converts into:
<code>{\r\n  jobs {\r\n    edges {\r\n      node {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n}</code></p>
</div>
</li>
<li>
<p>Third, we write the json body.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"query":"{\r\n  jobs {\r\n    edges {\r\n      node {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n}"}</code></pre>
</div>
</div>
</li>
<li>
<p>Finally, we execute the query using <code>curl</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh"> curl -H "sessionid:$sessionid" -H "Content-Type:application/json" --request POST --data '{"query":"{\r\n  jobs {\r\n    edges {\r\n      node {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n}"}' http://try.activeeon.com:8080/scheduling-api/v1/graphql</code></pre>
</div>
</div>
</li>
<li>
<p>We receive the following json answer to our request:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"data":{"jobs":{"edges":[{"node":{"id":"14","name":"script_groovy"}},{"node":{"id":"66","name":"Script_Python"}},{"node":{"id":"67","name":"Script_Python"}},{"node":{"id":"68","name":"Script_Python"}},{"node":{"id":"69","name":"Script_Python"}},{"node":{"id":"70","name":"Script_Python"}},{"node":{"id":"71","name":"script_groovy"}},{"node":{"id":"72","name":"script_groovy"}},{"node":{"id":"73","name":"script_groovy"}},{"node":{"id":"74","name":"script_groovy"}},{"node":{"id":"75","name":"script_groovy"}}]}}}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scheduler_command_line"><a class="anchor" href="ProActiveUserGuide.html#_scheduler_command_line"></a><a class="link" href="ProActiveUserGuide.html#_scheduler_command_line">18.6. Command Line</a></h3>
<div class="paragraph">
<p>The ProActive client allows to interact with the <a href="ProActiveUserGuide.html#_glossary_scheduler"><strong>Scheduler</strong></a> and <a href="ProActiveUserGuide.html#_glossary_resource_manager"><strong>Resource Manager</strong></a>.
The client has an interactive mode started if you do not provide any command.</p>
</div>
<div class="paragraph">
<p>The client usage is also available using the <code>-h</code> parameter as shown below:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ PROACTIVE_HOME/bin/proactive-client -h</pre>
</div>
</div>
<div class="sect3">
<h4 id="_command_line_examples"><a class="anchor" href="ProActiveUserGuide.html#_command_line_examples"></a><a class="link" href="ProActiveUserGuide.html#_command_line_examples">18.6.1. Command Line Examples</a></h4>
<div class="sect4">
<h5 id="_cli"><a class="anchor" href="ProActiveUserGuide.html#_cli"></a><a class="link" href="ProActiveUserGuide.html#_cli">Deploy ProActive Nodes</a></h5>
<div class="sect5">
<h6 id="_in_non_interactive_mode"><a class="anchor" href="ProActiveUserGuide.html#_in_non_interactive_mode"></a><a class="link" href="ProActiveUserGuide.html#_in_non_interactive_mode">In non-interactive mode</a></h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ PROACTIVE_HOME/bin/proactive-client -cn 'moreLocalNodes' -infrastructure 'org.ow2.proactive.resourcemanager.nodesource.infrastructure.LocalInfrastructure' './config/authentication/rm.cred' 4 60000 '' -policy org.ow2.proactive.resourcemanager.nodesource.policy.StaticPolicy 'ALL' 'ALL'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_in_interactive_mode"><a class="anchor" href="ProActiveUserGuide.html#_in_interactive_mode"></a><a class="link" href="ProActiveUserGuide.html#_in_interactive_mode">In interactive mode</a></h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ PROACTIVE_HOME/bin/proactive-client
&gt; createns( 'moreLocalNodes', ['org.ow2.proactive.resourcemanager.nodesource.infrastructure.LocalInfrastructure', './config/authentication/rm.cred', 4, 60000, ''], ['org.ow2.proactive.resourcemanager.nodesource.policy.StaticPolicy', 'ALL', 'ALL'])</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_install_proactive_packages"><a class="anchor" href="ProActiveUserGuide.html#_install_proactive_packages"></a><a class="link" href="ProActiveUserGuide.html#_install_proactive_packages">Install ProActive packages</a></h5>
<div class="paragraph">
<p>To install a ProActive package, you can use the ProActive CLI by providing a path to your package.
It can be a local directory, a ZIP file or can be a URL to a web directory, a direct-download ZIP file, a GitHub repository or ZIP or a directory inside a GitHub repository.
Please note that URL forwarding is supported.</p>
</div>
<div class="sect5">
<h6 id="_in_non_interactive_mode_2"><a class="anchor" href="ProActiveUserGuide.html#_in_non_interactive_mode_2"></a><a class="link" href="ProActiveUserGuide.html#_in_non_interactive_mode_2">In non-interactive mode</a></h6>
<div class="ulist">
<ul>
<li>
<p>To install a package located in a local directory or ZIP</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ PROACTIVE_HOME/bin/proactive-client -pkg /Path/To/Local/Package/Directory/Or/Zip</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To install a package located in a web folder (Supports only Apache Tomcat directory listing)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ PROACTIVE_HOME/bin/proactive-client -pkg http://example.com/installablePackageDirectory/</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To install a package with a direct download ZIP URL:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ PROACTIVE_HOME/bin/proactive-client -pkg https://s3.eu-west-2.amazonaws.com/activeeon-public/proactive-packages/package-example.zip</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To install a package located in a GitHub repository (either in the repository root or in a sub-folder within a repository):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ PROACTIVE_HOME/bin/proactive-client -pkg https://github.com/ow2-proactive/hub-packages/tree/master/package-example</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_in_interactive_mode_2"><a class="anchor" href="ProActiveUserGuide.html#_in_interactive_mode_2"></a><a class="link" href="ProActiveUserGuide.html#_in_interactive_mode_2">In interactive mode</a></h6>
<div class="ulist">
<ul>
<li>
<p>To install a package located in any of the aforementioned possible locations</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ PROACTIVE_HOME/bin/proactive-client
&gt; installpackage(PackagePathOrURL)</code></pre>
</div>
</div>
<h2 id="_legal_notice" class="discrete">Legal notice</h2>
<div class="paragraph">
<p>Activeeon SAS, © 2007-<span id="currentYear">2019</span>. All Rights Reserved.</p>
</div>
<div class="paragraph">
<p>For more information, please contact <a href="mailto:contact@activeeon.com">contact@activeeon.com</a>.</p>
</div>
<script>
    document.getElementById('currentYear').innerHTML = new Date().getFullYear();
</script>
<script>
if(window.location.hostname.includes("doc.activeeon.com")){
    document.querySelectorAll('.studioUrl').forEach(function(element){
        element.href="https://try.activeeon.com/studio";
    });
    document.querySelectorAll('.schedulerUrl').forEach(function(element){
        element.href="https://try.activeeon.com/scheduler";
    });
    document.querySelectorAll('.rmUrl').forEach(function(element){
        element.href="https://try.activeeon.com/rm";
    });
    document.querySelectorAll('.automationDashboardUrl').forEach(function(element){
        element.href="https://try.activeeon.com/automation-dashboard/#/portal/service-automation";
    });
    document.querySelectorAll('.restUrl').forEach(function(element){
        element.href="https://try.activeeon.com/rest";
    });
    document.querySelectorAll('.schedulerGraphQLUrl').forEach(function(element){
        element.href="https://try.activeeon.com/scheduling-api/v1/graphiql";
    });
    document.querySelectorAll('.catalogRestUrl').forEach(function(element){
        element.href="https://try.activeeon.com/catalog";
    });
    document.querySelectorAll('.catalogGraphQLUrl').forEach(function(element){
        element.href="https://try.activeeon.com/catalog/graphiql";
    });
}
</script>
<style>
  #tocbot a.toc-link.node-name--H1{ font-style: italic }
  @media screen{
    #tocbot > ul.toc-list{ margin-bottom: 0.5em; margin-left: 0.125em }
    #tocbot ul.sectlevel0, #tocbot a.toc-link.node-name--H1 + ul{
      padding-left: 0 }
    #tocbot a.toc-link{ height:100% }
    .is-collapsible{ max-height:3000px; overflow:hidden; }
    .is-collapsed{ max-height:0 }
    .is-active-link{ font-weight:700 }
  }
  @media print{
    #tocbot a.toc-link.node-name--H4{ display:none }
  }
</style>
<script src="https://trydev2.activeeon.com/doc/tocbot/tocbot.js"></script>
<script>
    /* Tocbot dynamic TOC, works with tocbot 3.0.2+ */
    var oldtoc = document.getElementById('toctitle').nextElementSibling;
    var newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    /* explanation of parameters
      orderedList : false to avoid extra numbers added in the toc
      includeHtml : true to allow direct links (redirect between documentations in the all-documentation-link section)
      hasInnerContainers : true (scrolling between chapters is not accurate otherwise)
      collapseDepth : 3 (always collapse 3 levels)
    */
    tocbot.init({ tocSelector: '.js-toc', contentSelector: '.js-toc-content',
        headingSelector: 'h1, h2, h3, h4, h5', collapseDepth: 3,
        smoothScroll: true, orderedList: false, includeHtml: true, hasInnerContainers: true });
    //tocbot.refresh();
    var handleTocOnResize = function() {
        var width = window.innerWidth
                    || document.documentElement.clientWidth
                    || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({ tocSelector: '.js-toc', contentSelector: '.js-toc-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 3,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                orderedList: false,
                smoothScroll: true, includeHtml: true, hasInnerContainers: true });
        }
        else {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4, h5',
                orderedList: false, collapseDepth: 3,
                smoothScroll: true, includeHtml: true, hasInnerContainers: true });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();
</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version unspecified<br>
Last updated 2024-03-11 02:57:27 UTC
</div>
</div>
<script src="https://trydev2.activeeon.com/doc/highlight/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>